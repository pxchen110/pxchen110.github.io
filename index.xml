<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>Xuan&#39;s Blog</title>
        <link>https://pxchen110.github.io/</link>
        <description>Recent content on Xuan&#39;s Blog</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>en</language>
        <copyright>pxchen</copyright>
        <lastBuildDate>Sat, 08 Feb 2025 00:00:00 +0000</lastBuildDate><atom:link href="https://pxchen110.github.io/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>生資系列：基因註解轉換套件 biomaRt, bitr, mygene </title>
        <link>https://pxchen110.github.io/p/%E7%94%9F%E8%B3%87%E7%B3%BB%E5%88%97%E5%9F%BA%E5%9B%A0%E8%A8%BB%E8%A7%A3%E8%BD%89%E6%8F%9B%E5%A5%97%E4%BB%B6-biomart-bitr-mygene/</link>
        <pubDate>Fri, 08 Nov 2024 00:00:00 +0000</pubDate>
        
        <guid>https://pxchen110.github.io/p/%E7%94%9F%E8%B3%87%E7%B3%BB%E5%88%97%E5%9F%BA%E5%9B%A0%E8%A8%BB%E8%A7%A3%E8%BD%89%E6%8F%9B%E5%A5%97%E4%BB%B6-biomart-bitr-mygene/</guid>
        <description>&lt;p&gt;生物研究時常需要基因資訊，但分析工具與資料庫之間的註解未必能直接相通，如某些網站僅提供RefSeq ID, 有些只提供Ensembl ID等，雖然都是描述同一基因、但需要做進一步轉換才能串連資訊；另一常見狀況則是在GO enrichment analysis時，需要利用entrezid(gene id)來進行KEGG, GO enrichment分析。今天要介紹三種覺得好用的註解轉換套件:biomaRt, bitr, mygene，文章在R語言環境進行操作，若想使用python可以查詢是否支援並用 conda 安裝。&lt;/p&gt;
&lt;!-- more --&gt;
&lt;!-- toc --&gt;
&lt;h2 id=&#34;biomart&#34;&gt;biomaRT
&lt;/h2&gt;&lt;p&gt;&lt;code&gt;biomaRT&lt;/code&gt; 套件主要協助取得 &lt;a class=&#34;link&#34; href=&#34;http://www.ensembl.org&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Ensembl&lt;/a&gt; 網站的資訊。&lt;/p&gt;
&lt;h3 id=&#34;installation&#34;&gt;Installation
&lt;/h3&gt;&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://bioconductor.org/packages/release/bioc/html/biomaRt.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;bioconductor website&lt;/a&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;if (!require(&amp;#34;BiocManager&amp;#34;, quietly = TRUE))
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    install.packages(&amp;#34;BiocManager&amp;#34;)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;BiocManager::install(&amp;#34;biomaRt&amp;#34;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;select-desired-biomart-database-and-dataset&#34;&gt;Select desired BioMart database and dataset
&lt;/h3&gt;&lt;p&gt;以 &lt;code&gt;useEnsembl()&lt;/code&gt; 來指定連線到哪個 biomaRT 資料庫與資料集&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;library(biomaRt)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ensembl &amp;lt;- useEnsembl(biomart = &amp;#34;genes&amp;#34;, dataset = &amp;#34;hsapiens_gene_ensembl&amp;#34;, version = 113)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;函式有兩個必要參數 &lt;code&gt;biomart&lt;/code&gt; 和 &lt;code&gt;dataset&lt;/code&gt;(層級 biomart &amp;gt; dataset)，首先用 &lt;code&gt;listEnsembl()&lt;/code&gt; 或 &lt;code&gt;listMarts()&lt;/code&gt; 查詢 &lt;code&gt;biomart&lt;/code&gt;選項，雖名稱不同但內容相等(如: &lt;code&gt;genes&lt;/code&gt; 等價於 &lt;code&gt;ENSEMBL_MART_ENSEMBL&lt;/code&gt;)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;gt; listEnsembl()
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        biomart                version
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;1         genes      Ensembl Genes 113
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2 mouse_strains      Mouse strains 113
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;3          snps  Ensembl Variation 113
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;4    regulation Ensembl Regulation 113
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;gt; listMarts() 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;               biomart                version
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;1 ENSEMBL_MART_ENSEMBL      Ensembl Genes 113
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2   ENSEMBL_MART_MOUSE      Mouse strains 113
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;3     ENSEMBL_MART_SNP  Ensembl Variation 113
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;4 ENSEMBL_MART_FUNCGEN Ensembl Regulation 113
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;以 &lt;code&gt;useMart()&lt;/code&gt; 指定biomart資料庫 + &lt;code&gt;listDatasets()&lt;/code&gt; 查詢可用的資料集，可搭配字串篩選:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mart &amp;lt;- useMart(&amp;#34;ENSEMBL_MART_ENSEMBL&amp;#34;)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ds &amp;lt;- as.data.frame(listDatasets(mart=mart))
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;## find rows in dataset which contains &amp;#39;human&amp;#39; string
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ds %&amp;gt;% filter(grepl(&amp;#34;human&amp;#34;,tolower(description))) 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;## output:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                dataset              description    version
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;1 hsapiens_gene_ensembl Human genes (GRCh38.p14) GRCh38.p14
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;最後如果有指定ensembl版本需求，可用 &lt;code&gt;listEnsemblArchives()&lt;/code&gt; 函數，並用 &lt;code&gt;useEnsembl(version = xxx)&lt;/code&gt; 指定版本 (default: latest release)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;             name     date                                 url version current_release
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;1  Ensembl GRCh37 Feb 2014          https://grch37.ensembl.org  GRCh37                
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2     Ensembl 113 Oct 2024 https://oct2024.archive.ensembl.org     113               *
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;3     Ensembl 112 May 2024 https://may2024.archive.ensembl.org     112                
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;4     Ensembl 111 Jan 2024 https://jan2024.archive.ensembl.org     111                
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;run-biomart-query&#34;&gt;Run biomaRT query
&lt;/h3&gt;&lt;p&gt;指定ensembl參考資料後，接著以 &lt;code&gt;getBM()&lt;/code&gt;連線至 ensembl server 並針對query返回dataframe:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;getBM(attributes, filters = &amp;#34;&amp;#34;, values = &amp;#34;&amp;#34;, mart, curl = NULL, 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;checkFilters = TRUE, verbose = FALSE, uniqueRows = TRUE, bmHeader = FALSE,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;quote = &amp;#34;\&amp;#34;&amp;#34;, useCache = TRUE)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;參數包含:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;atribute&lt;/code&gt; 輸出ensembl的欄位，可用 &lt;code&gt;listAttributes(${useEnsembl()_varname})&lt;/code&gt; 查看選項&lt;/li&gt;
&lt;li&gt;&lt;code&gt;filters&lt;/code&gt; 輸入內容的資訊類型，如輸入 &lt;code&gt;ENSGxxx&lt;/code&gt; 則 &lt;code&gt;filters = &amp;quot;ensembl_gene_id&amp;quot;&lt;/code&gt; 可用 &lt;code&gt;listFilters(${useEnsembl()_varname})&lt;/code&gt; 查看選項&lt;/li&gt;
&lt;li&gt;&lt;code&gt;values&lt;/code&gt; 輸入內容 input query list&lt;/li&gt;
&lt;li&gt;&lt;code&gt;mart&lt;/code&gt; 指定 &lt;code&gt;useEnsembl()&lt;/code&gt; 物件&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;check-caches&#34;&gt;Check caches
&lt;/h3&gt;&lt;p&gt;若先前有跑過相同資料庫，透過 &lt;code&gt;biomartCacheInfo()&lt;/code&gt; 查詢是否有 cache file&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;biomaRt cache
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- Location: C:\xxxx/biomaRt/Cache
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- No. of files: 12
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- Total size: 983.1 Kb
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;example-r-code&#34;&gt;Example R code
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;library(biomaRt)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;## check mart dbs
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;listMarts() 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mart &amp;lt;- useMart(&amp;#34;ENSEMBL_MART_ENSEMBL&amp;#34;) 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;## check mart datasets and find rows where column &amp;#39;description&amp;#39; contains human
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ds &amp;lt;- as.data.frame(listDatasets(mart=mart))
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ds %&amp;gt;% filter(grepl(&amp;#34;human&amp;#34;,tolower(description))) 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# build this object which specify older version 103
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ensembl &amp;lt;- useEnsembl(biomart = &amp;#39;ensembl&amp;#39;, dataset = &amp;#39;ggallus_gene_ensembl&amp;#39;, version = 103)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;## run biomart convert
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;data &amp;lt;- read.table(&amp;#39;query_gene.txt&amp;#39;, header = T)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;inputs &amp;lt;- as.vector(data$ensembl_gene_id)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# send it to the Ensembl BioMart server
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;genes &amp;lt;- getBM(attributes=c(&amp;#34;external_gene_name&amp;#34;,&amp;#34;ensembl_gene_id&amp;#34;,&amp;#34;entrezgene_id&amp;#34;),
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;               filters = &amp;#34;ensembl_gene_id&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;               values = inputs, 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;               mart = ensembl)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;hr&gt;
&lt;h2 id=&#34;bitr&#34;&gt;bitr
&lt;/h2&gt;&lt;p&gt;&lt;code&gt;bitr()&lt;/code&gt; 為 &lt;code&gt;clusterprofiler&lt;/code&gt;套件內的函式，利用 &lt;code&gt;AnnotationDbi::select&lt;/code&gt; 來篩選特定物種的 &lt;code&gt;OrgDB&lt;/code&gt; 內的資訊，最後輸出dataframe
**所有的&lt;code&gt;.db&lt;/code&gt;結尾的library其實就是使用AnnotationDbi來的物件&lt;/p&gt;
&lt;h3 id=&#34;installation-1&#34;&gt;Installation
&lt;/h3&gt;&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://bioconductor.org/packages/release/bioc/html/clusterProfiler.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;bioconductor website&lt;/a&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;if (!require(&amp;#34;BiocManager&amp;#34;, quietly = TRUE))
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    install.packages(&amp;#34;BiocManager&amp;#34;)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;BiocManager::install(&amp;#34;clusterProfiler&amp;#34;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;run-bitr-function&#34;&gt;Run bitr() function
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;bitr(geneID, fromType, toType, OrgDb, drop = TRUE)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;geneID&lt;/code&gt; 為 input query list&lt;/li&gt;
&lt;li&gt;&lt;code&gt;fromType&lt;/code&gt; 和 &lt;code&gt;toType&lt;/code&gt; 須為 &lt;code&gt;idType(orgDB)&lt;/code&gt; 返回的類別(key):&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;fromType&amp;#39; should be one of ACCNUM, ALIAS, ENSEMBL, ENSEMBLPROT, ENSEMBLTRANS, ENTREZID, ENZYME, EVIDENCE, EVIDENCEALL, GENENAME, GENETYPE, GO, GOALL, IPI, MAP, OMIM, ONTOLOGY, ONTOLOGYALL, PATH, PFAM, PMID, PROSITE, REFSEQ, SYMBOL, UCSCKG, UNIPROT.
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;OrgDb&lt;/code&gt; 為指定物種的註解包，需要先安裝才能使用，物種匹配的orgDB 可以參考&lt;a class=&#34;link&#34; href=&#34;https://evvail.com/2021/07/13/2459.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;這個網站&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;example-r-code-1&#34;&gt;Example R code
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;library(clusterProfiler)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;library(org.Hs.eg.db)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;query_gene &amp;lt;- c(&amp;#39;TP53&amp;#39;,&amp;#39;BRAF&amp;#39;,&amp;#39;PIK3CA&amp;#39;,&amp;#39;KRAS&amp;#39;)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;gene_out &amp;lt;- bitr(query_gene, fromType=&amp;#34;SYMBOL&amp;#34;, toType=c(&amp;#34;GENENAME&amp;#34;, &amp;#34;ENTREZID&amp;#34;,&amp;#34;ENSEMBL&amp;#34;), OrgDb=org.Hs.eg.db)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;gene_out &amp;lt;- as.data.frame(gene_out)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;gt; print(gene_out)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  SYMBOL                                                               GENENAME ENTREZID    ENSEMBL
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;1   TP53                                                      tumor protein p53     7157   ENSG00000141510
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2   BRAF                          B-Raf proto-oncogene, serine/threonine kinase      673   ENSG00000157764
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;3 PIK3CA phosphatidylinositol-4,5-bisphosphate 3-kinase catalytic subunit alpha     5290   ENSG00000121879
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;4   KRAS                                            KRAS proto-oncogene, GTPase     3845   ENSG00000133703
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;轉換完成會顯示有多少比例轉換失敗&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;50% of input gene IDs are fail to map...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;gt; print(gene_out)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    SYMBOL                    GENENAME ENTREZID
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;1   TP53           tumor protein p53     7157
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;4   KRAS KRAS proto-oncogene, GTPase     3845
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;hr&gt;
&lt;h2 id=&#34;mygene&#34;&gt;mygene
&lt;/h2&gt;&lt;p&gt;&lt;code&gt;mygene.info&lt;/code&gt; 以API形式獲取公開資料庫的基因資訊，官方文件多以 python code 做示範使用，R 套件函式屬於 API qurey 的 wrapper&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;queryMany&lt;/code&gt; is a wrapper for POST query of &amp;ldquo;/query&amp;rdquo; service&lt;/p&gt;&lt;/blockquote&gt;
&lt;h3 id=&#34;installation-2&#34;&gt;installation
&lt;/h3&gt;&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.bioconductor.org/packages/release/bioc/html/mygene.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;bioconductor website&lt;/a&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;if (!require(&amp;#34;BiocManager&amp;#34;, quietly = TRUE))
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    install.packages(&amp;#34;BiocManager&amp;#34;)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;BiocManager::install(&amp;#34;mygene&amp;#34;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;run-mygene-query&#34;&gt;Run mygene query
&lt;/h3&gt;&lt;p&gt;主要使用 &lt;code&gt;queryMany&lt;/code&gt; 函式&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;queryMany(qterms, scopes=NULL, ..., return.as=c(&amp;#34;DataFrame&amp;#34;, &amp;#34;records&amp;#34;, &amp;#34;text&amp;#34;), mygene)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;qterm&lt;/code&gt; 為 input query list&lt;/li&gt;
&lt;li&gt;&lt;code&gt;scopes&lt;/code&gt; 提供 query list 類型，可用 field請參考&lt;a class=&#34;link&#34; href=&#34;https://docs.mygene.info/en/latest/doc/data.html#available-fields&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;官方文件&lt;/a&gt;，如: query 給 &lt;code&gt;ENSGxx&lt;/code&gt; 則 &lt;code&gt;scopes = ensembl.gene&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;其他常用參數
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;species&lt;/code&gt; 給予物種資訊如 &lt;strong&gt;taxid&lt;/strong&gt;;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;fields&lt;/code&gt; 指定輸出內容，可填類型跟 &lt;code&gt;scopes&lt;/code&gt; field 相同&lt;/li&gt;
&lt;li&gt;&lt;code&gt;return.as&lt;/code&gt; 指定輸出類型: 目前支援&amp;quot;DataFrame&amp;quot; (default), &amp;ldquo;records&amp;rdquo; (list), &amp;ldquo;text&amp;rdquo; (JSON) 三種&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;example-r-code-2&#34;&gt;Example R code
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;library(mygene)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;geneList &amp;lt;- c(&amp;#39;TP53&amp;#39;,&amp;#39;BRAF&amp;#39;,&amp;#39;PIK3CA&amp;#39;,&amp;#39;KRAS&amp;#39;)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;query_output &amp;lt;- queryMany(geneList, scopes = &amp;#39;symbol&amp;#39;, species = 9606, fields = &amp;#39;ensembl.gene,name,entrezgene&amp;#39;)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;gt; print(query_output)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;DataFrame with 4 rows and 6 columns
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        query         _id   X_score  entrezgene                   name    ensembl.gene
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;lt;character&amp;gt; &amp;lt;character&amp;gt; &amp;lt;numeric&amp;gt; &amp;lt;character&amp;gt;            &amp;lt;character&amp;gt;     &amp;lt;character&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;1        TP53        7157   18.0079        7157      tumor protein p53 ENSG00000141510
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2        BRAF         673   17.6012         673 B-Raf proto-oncogene.. ENSG00000157764
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;3      PIK3CA        5290   17.8778        5290 phosphatidylinositol.. ENSG00000121879
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;4        KRAS        3845   17.6623        3845 KRAS proto-oncogene,.. ENSG00000133703
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;hr&gt;
&lt;h2 id=&#34;comments&#34;&gt;Comments
&lt;/h2&gt;&lt;p&gt;&lt;code&gt;bitr()&lt;/code&gt; 和 &lt;code&gt;mygene queryMany()&lt;/code&gt; 相當方便，常見或具有orgDB的物種基本上沒有太大問題，但有時會遇到以下情況導致轉換失敗:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;gene name alias 或 synonyms 無法直接聯繫到正確的HGNC資訊，這時可先用 &lt;code&gt;AnnotationDbi::select(org.${spec}.eg.db, keys = alias_list, columns = c(&#39;SYMBOL&#39;), keytype = &amp;quot;ALIAS&amp;quot;)&lt;/code&gt; 轉換基因名稱，或是找尋好用套件來轉換&amp;hellip;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;alias_list &amp;lt;- c(&amp;#39;MEK&amp;#39;,&amp;#39;PI3K&amp;#39;,&amp;#39;TP53&amp;#39;)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;gt; AnnotationDbi::select(org.Hs.eg.db, keys = alias_list, columns = c(&amp;#39;SYMBOL&amp;#39;), keytype = &amp;#34;ALIAS&amp;#34;)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;gt; &amp;#39;select()&amp;#39; returned 1:many mapping between keys and columns
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ALIAS SYMBOL
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;1   MEK MAP2K7
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2  PI3K PIK3CA
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;3  PI3K PIK3CB
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;4  PI3K PIK3CD
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;5  PI3K PIK3CG
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;6  TP53   TP53
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;若資料庫以舊版 ensembl 註解，有些transcript ID 可能已經被移除，導致HGNC轉換失敗，這時 &lt;code&gt;biomaRT useEnsembl()&lt;/code&gt; 指定資料集版本的功能相當方便，能多少救一些轉換，但也要注意這樣的轉換是否有意義，畢竟最新版沒有收錄&amp;hellip;&amp;hellip;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;references&#34;&gt;References
&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://bioconductor.org/packages/release/bioc/vignettes/biomaRt/inst/doc/accessing_ensembl.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://bioconductor.org/packages/release/bioc/vignettes/biomaRt/inst/doc/accessing_ensembl.html&lt;/a&gt;
&lt;a class=&#34;link&#34; href=&#34;https://mygene.info/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://mygene.info/&lt;/a&gt;
&lt;a class=&#34;link&#34; href=&#34;https://github.com/gege-circle/home/issues/702&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://github.com/gege-circle/home/issues/702&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
</description>
        </item>
        <item>
        <title>Python系列：flask 小專案 - 下載公開資料庫的基因列表網頁</title>
        <link>https://pxchen110.github.io/p/python%E7%B3%BB%E5%88%97flask-%E5%B0%8F%E5%B0%88%E6%A1%88-%E4%B8%8B%E8%BC%89%E5%85%AC%E9%96%8B%E8%B3%87%E6%96%99%E5%BA%AB%E7%9A%84%E5%9F%BA%E5%9B%A0%E5%88%97%E8%A1%A8%E7%B6%B2%E9%A0%81/</link>
        <pubDate>Thu, 19 Sep 2024 00:00:00 +0000</pubDate>
        
        <guid>https://pxchen110.github.io/p/python%E7%B3%BB%E5%88%97flask-%E5%B0%8F%E5%B0%88%E6%A1%88-%E4%B8%8B%E8%BC%89%E5%85%AC%E9%96%8B%E8%B3%87%E6%96%99%E5%BA%AB%E7%9A%84%E5%9F%BA%E5%9B%A0%E5%88%97%E8%A1%A8%E7%B6%B2%E9%A0%81/</guid>
        <description>&lt;img src="https://pxchen110.github.io/post/python-flask/20240919_img0.jpg" alt="Featured image of post Python系列：flask 小專案 - 下載公開資料庫的基因列表網頁" /&gt;&lt;img src=&#34;https://pxchen110.github.io/post/python-flask/20240919_img1.png&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;source code 已放在我的 Github downloadDB repository: &lt;a class=&#34;link&#34; href=&#34;https://github.com/pxchen110/downloadDB?tab=readme-ov-file&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://github.com/pxchen110/downloadDB?tab=readme-ov-file&lt;/a&gt;&lt;/p&gt;
&lt;!-- more --&gt;
&lt;!-- toc --&gt;
&lt;h2 id=&#34;專案動機&#34;&gt;專案動機
&lt;/h2&gt;&lt;p&gt;基因途徑(gene pathway)在生物研究扮演重要角色，如分子生物機制(molecular mechanism)、基因表現量(gene-set enrichment)的探討；研究者常參考 Kyoto Encyclopedia of Genes and Genomes (KEGG), Harmonizome 等資料庫，並具有抓取特定途徑之基因列表的需求。&lt;/p&gt;
&lt;p&gt;但在資料取用上，對於沒有程式使用經驗(R, python)的使用者而言，常面臨以下幾個困難點:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;資料庫僅提供 REST api 取用資料 (&lt;a class=&#34;link&#34; href=&#34;https://www.kegg.jp/kegg/rest/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;KEGG&lt;/a&gt; 和 &lt;a class=&#34;link&#34; href=&#34;https://maayanlab.cloud/Harmonizome/documentation#api&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Harmonizme&lt;/a&gt;)。api 處理需要串聯 &lt;code&gt;requests&lt;/code&gt; 等程式套件與網頁互動以存取資料&lt;/li&gt;
&lt;li&gt;即使網站提供api資料取用，也僅提供json格式輸出(&lt;a class=&#34;link&#34; href=&#34;https://maayanlab.cloud/Harmonizome/api/1.0/gene_set/krasdriven/GeneRIF&amp;#43;Biological&amp;#43;Term&amp;#43;Annotations&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;範例參考&lt;/a&gt;)，一般文書處理程式(Microsoft Excel, Notepad++)無法直觀開啟和取用資訊&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;為提供更直觀方便的基因途徑探索，本專案以python為基礎處理api資訊，並以flask套件撰寫動態網頁，提供友善的html介面操作: 使用者僅需選擇資料庫來源、輸入pathway ID、貼上api網址、或上傳含有多個網址的文檔，網頁會直接回傳機因列表，並提供一鍵友善下載功能，檔案將以TXT, CSV等方便開啟的格式儲存，若提供多個列表，將會以zip壓縮檔下載給使用者。&lt;/p&gt;
&lt;h2 id=&#34;示範操作&#34;&gt;示範操作
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;將專案 git clone 回本機，並確保本機已滿足環境需求(environment requirements)： &lt;code&gt;python&lt;/code&gt; 和 &lt;code&gt;conda&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;進入 downloadDB 資料夾並建立 conda 環境：&lt;code&gt;conda create -f environment.yml&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;執行專案前請開啟環境 &lt;code&gt;conda activate flaskenv&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;利用 python 開啟 flask 網頁 &lt;code&gt;python3 app.py&lt;/code&gt;
開啟 &lt;code&gt;http://127.0.0.1:5000&lt;/code&gt; 連結後會看到以下網頁:
&lt;img src=&#34;https://pxchen110.github.io/20240919/20240919_img1.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;image&#34;
	
	
&gt;&lt;/li&gt;
&lt;li&gt;根據需求選擇其中一個Block輸入資料: &lt;strong&gt;!注意一次僅接受一種輸入形式!&lt;/strong&gt;:
&lt;ul&gt;
&lt;li&gt;查詢一個基因途徑(single query): 選擇資料庫種類 (&lt;code&gt;KEGG&lt;/code&gt; 或 &lt;code&gt;Harmonizome&lt;/code&gt;) 並依照範例輸入 pathway ID, api URL、點選 &lt;code&gt;Submit&lt;/code&gt; 送出&lt;/li&gt;
&lt;li&gt;查詢多個基因途徑(multiple query):準備一份紀錄api URL 的 TXT 檔，選擇資料庫種類 (&lt;code&gt;KEGG&lt;/code&gt; 或 &lt;code&gt;Harmonizome&lt;/code&gt;)並上傳檔案、點選 &lt;code&gt;Submit&lt;/code&gt; 送出&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;若目標api或基因途徑存在，將會返回以下網頁內容:&lt;/li&gt;
&lt;/ul&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/python-flask/20240919_img2.png&#34;  width=&#34;600&#34;&gt;
&lt;ul&gt;
&lt;li&gt;點選 &lt;strong&gt;Download TXT&lt;/strong&gt; 或 &lt;strong&gt;Download CSV&lt;/strong&gt; 下載不同格式的基因列表；若提供多個基因途徑，點選&lt;strong&gt;Download ZIP&lt;/strong&gt; 下載zip壓縮檔，解壓縮後每個基因列表產生一份TXT檔&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;未來改善&#34;&gt;未來改善
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;由於目前python程式寫法為: 取得資料後&lt;strong&gt;會將基因列表儲存成txt和csv檔&lt;/strong&gt;(專案路徑下名為&lt;code&gt;query_output&lt;/code&gt;和&lt;code&gt;query_input&lt;/code&gt;的資料夾)，並以檔名作為變數傳遞至下個函數；若使用者點選 download 按鈕並將檔案下載至本機，此時電腦會有兩份相同的檔案，&lt;strong&gt;希望能增加自動清除檔案功能&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;如何跳轉回最初頁面&lt;/li&gt;
&lt;li&gt;嘗試連結後端資料庫儲存的函數功能&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>Python系列：建立簡單的伺服器</title>
        <link>https://pxchen110.github.io/p/python%E7%B3%BB%E5%88%97%E5%BB%BA%E7%AB%8B%E7%B0%A1%E5%96%AE%E7%9A%84%E4%BC%BA%E6%9C%8D%E5%99%A8/</link>
        <pubDate>Thu, 05 Sep 2024 00:00:00 +0000</pubDate>
        
        <guid>https://pxchen110.github.io/p/python%E7%B3%BB%E5%88%97%E5%BB%BA%E7%AB%8B%E7%B0%A1%E5%96%AE%E7%9A%84%E4%BC%BA%E6%9C%8D%E5%99%A8/</guid>
        <description>&lt;img src="https://pxchen110.github.io/post/python-simple-server/20240905_img1.jpg" alt="Featured image of post Python系列：建立簡單的伺服器" /&gt;&lt;p&gt;使用 &lt;code&gt;http.server&lt;/code&gt; 和 &lt;code&gt;flask&lt;/code&gt; 套件&lt;/p&gt;
&lt;!-- more --&gt;
&lt;!-- toc --&gt;
&lt;p&gt;伺服器(server)根據&lt;a class=&#34;link&#34; href=&#34;https://zh.wikipedia.org/zh-tw/%E6%9C%8D%E5%8A%A1%E5%99%A8#%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%88%86%E7%B1%BB%EF%BC%88%E8%BD%AF%E4%BB%B6%EF%BC%89&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;維基百科定義&lt;/a&gt;，為提供服務的電腦軟體，根據軟體種類可分為:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;檔案伺服器: NAS儲存裝置&amp;hellip;&lt;/li&gt;
&lt;li&gt;網頁伺服器: Apache&amp;hellip;&lt;/li&gt;
&lt;li&gt;資料庫伺服器: MySQL, MongoDB&amp;hellip;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;建置正式的伺服器需要諸多考量和維護；如果想檢查網頁專案的目前成果，或簡單分享電腦資源給其他協作者的話，可以透過python建立臨時的網頁伺服器。&lt;/p&gt;
&lt;p&gt;在指定目錄內包含&lt;code&gt;index.html&lt;/code&gt;就能預覽網頁，若沒有則會顯示當前資料夾結構。以下使用 &lt;code&gt;http.server&lt;/code&gt; 模組建立靜態網頁伺服器&lt;/p&gt;
&lt;h2 id=&#34;httpserver-產生靜態伺服器&#34;&gt;http.server 產生靜態伺服器
&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;注意:Python2 和 Python3 使用的模組不同，這裡介紹的為適用於Python3套件與使用方式&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&#34;下載並引入套件&#34;&gt;下載並引入套件
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;pip install httpserver
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;import http.server
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;from http.server import SimpleHTTPRequestHandler, HTTPServer
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;還需多引入兩個物件: &lt;code&gt;SimpleHTTPRequestHandler&lt;/code&gt; 和 &lt;code&gt;HTTPServer&lt;/code&gt; 下面會簡單介紹他們的功能&lt;/p&gt;
&lt;h3 id=&#34;最簡單的建置伺服器程式碼&#34;&gt;最簡單的建置伺服器程式碼
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;## example code to create and run the server from python docs
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;def run(server_class=HTTPServer, handler_class=BaseHTTPRequestHandler):
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;     server_address = (&amp;#39;&amp;#39;, 8000)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;     httpd = server_class(server_address, handler_class)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;     httpd.serve_forever()
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;httpserver-和-simplehttprequesthandler&#34;&gt;HTTPServer 和 SimpleHTTPRequestHandler
&lt;/h3&gt;&lt;p&gt;&lt;code&gt;HTTPServer&lt;/code&gt; 為socketserver.TCPServer的子類別，能建立一個伺服器實例
還需要給個 &lt;code&gt;RequestHandlerClass&lt;/code&gt; 向HTTP提出請求與回應，有以下三種:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;BaseHTTPRequestHandler&lt;/li&gt;
&lt;li&gt;SimpleHTTPRequestHandler: 讀取與發佈當前目錄 (比較多人用此object)&lt;/li&gt;
&lt;li&gt;CGIHTTPRequestHandler
最後給個協定版本(protocol)&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;HandlerClass = SimpleHTTPRequestHandler
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ServerClass  = HTTPServer
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Protocol     = &amp;#34;HTTP/1.0&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;輸入伺服器相關資訊，包含ip位址，指定port(預設8000)等，並存為&lt;code&gt;httpd&lt;/code&gt;變數&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;9
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;if sys.argv[1:]:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  port = int(sys.argv[1])
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;else:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  port = 8000
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;server_address = (&amp;#39;127.0.0.1&amp;#39;, port)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;HandlerClass.protocol_version = Protocol
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;## standard formula: ip + port + handlerclass
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;httpd = ServerClass(server_address, HandlerClass)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;實體化與運作伺服器 &lt;code&gt;serve_forever()&lt;/code&gt;可以透過 &lt;code&gt;shutdown()&lt;/code&gt; 關閉&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sa = httpd.socket.getsockname() ## (&amp;#39;127.0.0.1&amp;#39; 8000)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;print (&amp;#34;Serving HTTP on&amp;#34;, sa[0], &amp;#34;port&amp;#34;, sa[1], &amp;#34;...&amp;#34;)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;httpd.serve_forever()
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;console 顯示 GET &amp;hellip; 200 代表請求成功&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Serving HTTP on 127.0.0.1 port 8000 ...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;127.0.0.1 - - &amp;#34;GET / HTTP/1.1&amp;#34; 200 -
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;最後打開瀏覽器，輸入 &lt;code&gt;http://127.0.0.1:8000/&lt;/code&gt; 或是 &lt;code&gt;http://${your_ip}:8000/&lt;/code&gt; 就可看到成果了&lt;/p&gt;
&lt;h3 id=&#34;完整-code&#34;&gt;完整 code
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# pip install httpserver
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;import sys
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;import http.server
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;from  http.server import SimpleHTTPRequestHandler, HTTPServer
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;HandlerClass = SimpleHTTPRequestHandler
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ServerClass  = HTTPServer
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Protocol     = &amp;#34;HTTP/1.0&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;if sys.argv[1:]:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  port = int(sys.argv[1])
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;else:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  port = 8000
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;server_address = (&amp;#39;127.0.0.1&amp;#39;, port)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;HandlerClass.protocol_version = Protocol
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;httpd = ServerClass(server_address, HandlerClass)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sa = httpd.socket.getsockname() ## (&amp;#39;127.0.0.1&amp;#39; 8000)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;print (&amp;#34;Serving HTTP on&amp;#34;, sa[0], &amp;#34;port&amp;#34;, sa[1], &amp;#34;...&amp;#34;)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;httpd.serve_forever()
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;## it will print 127.0.0.1 - - &amp;#34;GET / HTTP/1.1&amp;#34; 200 - on console
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;## &amp;lt;-&amp;gt; to shutdown()
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;觀看結果&#34;&gt;觀看結果
&lt;/h3&gt;&lt;p&gt;可以拿之前寫的 index.html 放在指定路徑，透過 httpserver 產生 localhost 以觀看 html 成果，若沒有 html 檔則會顯示本機資料夾路徑，可以透過這個方式，分享連結網址給別人以分享資料夾內容&lt;/p&gt;
&lt;h2 id=&#34;動態伺服器與網路框架&#34;&gt;動態伺服器與網路框架
&lt;/h2&gt;&lt;p&gt;網頁包含動態資訊如資料庫串接，自定義的網頁跳轉等，可利用python &lt;code&gt;flask&lt;/code&gt; 達成。此模組提供伺服器端的網頁框架，協助高效率架設網站。&lt;/p&gt;
&lt;h3 id=&#34;下載與引入套件&#34;&gt;下載與引入套件
&lt;/h3&gt;&lt;p&gt;這裡先引入最基本的 &lt;code&gt;Flask&lt;/code&gt; 其他常用函數（&lt;code&gt;redirect, url_for, send_from_directory...&lt;/code&gt;）會在後面介紹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;#pip install Flask
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;from flask import Flask 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;簡單的範例&#34;&gt;簡單的範例
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;create &lt;code&gt;app.py&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# save this as app.py
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;from flask import Flask
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;app = Flask(__name__)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;@app.route(&amp;#34;/&amp;#34;)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;def hello():
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    return &amp;#34;Hello, World!&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;if __name__ == &amp;#39;__main__&amp;#39;:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    app.debug = True ## not shown in formal case
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    app.run()
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;在 &lt;code&gt;app.py&lt;/code&gt; 同層路徑下執行 &lt;code&gt;flask run&lt;/code&gt; flask 會生成網頁於 http://127.0.0.1:5000/&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;名詞和概念筆記&#34;&gt;名詞和概念筆記
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;flask 內含有 httpserver，但僅適合測試用，正式發布會建議用 &lt;strong&gt;WSGI server&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;裝飾器(decorator): &lt;code&gt;@app.route&lt;/code&gt; 做為路由，紀錄 URL/HTTP動作 與其對應的處理函式
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;@app.route(&#39;/&#39;)&lt;/code&gt; 這裡的 &lt;code&gt;/&lt;/code&gt; 代表 http://127.0.0.1:5000/ 這個URL&lt;/li&gt;
&lt;li&gt;若連結到此網址，會執行 hello() 函數並在網頁印出 Hello, World!&lt;/li&gt;
&lt;li&gt;若今天還有其他路由如下，打開 http://127.0.0.1:5000/&lt;strong&gt;page/5&lt;/strong&gt; 就會看到函式執行結果&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;app.route(&amp;#39;/page/5&amp;#39;)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;def welcome():
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;return &amp;#34;Welcome&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;flask 可以吃URL變數，方法為 &lt;code&gt;&amp;lt;variable_name&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;flask-函式-url_for-redirect&#34;&gt;flask 函式 &lt;code&gt;url_for&lt;/code&gt; &lt;code&gt;redirect&lt;/code&gt;
&lt;/h3&gt;&lt;p&gt;&lt;code&gt;url_for()&lt;/code&gt; 可以讓路由具有追蹤彈性，並搭配 &lt;code&gt;redirect()&lt;/code&gt; 跳轉網頁
下面例子可知: http://127.0.0.1:5000/b 會被引導回 http://127.0.0.1:5000/&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;from flask import url_for, redirect
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;@app.route(&amp;#39;/&amp;#39;)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;def hello():
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    return &amp;#39;hello&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;@app.route(&amp;#39;/b&amp;#39;)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;def b():
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    return redirect(url_for(&amp;#39;hello&amp;#39;))
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;其他套件如結合 html css 模板的&lt;code&gt;render_template&lt;/code&gt;，或是上傳下載檔案的 &lt;code&gt;send_from_directory&lt;/code&gt; 會在下篇介紹我的side project時補上～&lt;/p&gt;
&lt;h2 id=&#34;references&#34;&gt;References
&lt;/h2&gt;&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://docs.python.org/3/library/http.server.html#&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://docs.python.org/3/library/http.server.html#&lt;/a&gt;
&lt;a class=&#34;link&#34; href=&#34;https://chwang12341.medium.com/coding%E8%B5%B7%E4%BE%86-python-%E4%B8%80%E8%A1%8C%E6%8C%87%E4%BB%A4%E5%B0%B1%E8%83%BD%E8%BC%95%E9%AC%86%E5%BB%BA%E7%AB%8B%E7%B6%B2%E9%A0%81%E4%BC%BA%E6%9C%8D%E5%99%A8-simplehttpserver%E5%A5%97%E4%BB%B6-http-server%E4%BD%BF%E7%94%A8%E6%95%99%E5%AD%B8-34c30b81c26&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://chwang12341.medium.com/coding%E8%B5%B7%E4%BE%86-python-%E4%B8%80%E8%A1%8C%E6%8C%87%E4%BB%A4%E5%B0%B1%E8%83%BD%E8%BC%95%E9%AC%86%E5%BB%BA%E7%AB%8B%E7%B6%B2%E9%A0%81%E4%BC%BA%E6%9C%8D%E5%99%A8-simplehttpserver%E5%A5%97%E4%BB%B6-http-server%E4%BD%BF%E7%94%A8%E6%95%99%E5%AD%B8-34c30b81c26&lt;/a&gt;
&lt;a class=&#34;link&#34; href=&#34;https://hackmd.io/@peterju/B18gmJ7Ph#15Flask-%E7%B6%B2%E9%A0%81%E6%A1%86%E6%9E%B6&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://hackmd.io/@peterju/B18gmJ7Ph#15Flask-%E7%B6%B2%E9%A0%81%E6%A1%86%E6%9E%B6&lt;/a&gt;
&lt;a class=&#34;link&#34; href=&#34;https://medium.com/@charming_rust_oyster_221/%E4%BD%BF%E7%94%A8-flask-%E5%89%B5%E5%BB%BA-web-api-%E7%AD%86%E8%A8%98-b5618543632e&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://medium.com/@charming_rust_oyster_221/%E4%BD%BF%E7%94%A8-flask-%E5%89%B5%E5%BB%BA-web-api-%E7%AD%86%E8%A8%98-b5618543632e&lt;/a&gt;
&lt;a class=&#34;link&#34; href=&#34;https://medium.com/@charming_rust_oyster_221/flask-%E6%AA%94%E6%A1%88%E4%B8%8A%E5%82%B3%E5%88%B0%E4%BC%BA%E6%9C%8D%E5%99%A8%E7%9A%84%E6%96%B9%E6%B3%95-1-c11097c23137&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://medium.com/@charming_rust_oyster_221/flask-%E6%AA%94%E6%A1%88%E4%B8%8A%E5%82%B3%E5%88%B0%E4%BC%BA%E6%9C%8D%E5%99%A8%E7%9A%84%E6%96%B9%E6%B3%95-1-c11097c23137&lt;/a&gt;
&lt;a class=&#34;link&#34; href=&#34;https://hackmd.io/@shaoeChen/HJiZtEngG/https%3A%2F%2Fhackmd.io%2Fs%2FSyP4YEnef&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://hackmd.io/@shaoeChen/HJiZtEngG/https%3A%2F%2Fhackmd.io%2Fs%2FSyP4YEnef&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>生資系列： 下載NCBI資料的方法</title>
        <link>https://pxchen110.github.io/p/%E7%94%9F%E8%B3%87%E7%B3%BB%E5%88%97-%E4%B8%8B%E8%BC%89ncbi%E8%B3%87%E6%96%99%E7%9A%84%E6%96%B9%E6%B3%95/</link>
        <pubDate>Thu, 29 Aug 2024 00:00:00 +0000</pubDate>
        
        <guid>https://pxchen110.github.io/p/%E7%94%9F%E8%B3%87%E7%B3%BB%E5%88%97-%E4%B8%8B%E8%BC%89ncbi%E8%B3%87%E6%96%99%E7%9A%84%E6%96%B9%E6%B3%95/</guid>
        <description>&lt;img src="https://pxchen110.github.io/post/bioinfo-ncbi/20240829_img1.png" alt="Featured image of post 生資系列： 下載NCBI資料的方法" /&gt;&lt;p&gt;NCBI 公開收錄物種基因資訊，找到目標序列後，可透過本文列出四種方法來下載使用。&lt;/p&gt;
&lt;!-- more --&gt;
&lt;!-- toc --&gt;
&lt;p&gt;讓我們找個實際例子開始，下面是搜尋 &lt;a class=&#34;link&#34; href=&#34;https://www.ncbi.nlm.nih.gov/datasets/genome/GCF_000005845.2/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Escherichia coli str. K-12 substr. MG1655&lt;/a&gt; 其中一個 assembly 的頁面&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/bioinfo-ncbi/20240829_img2.png&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;圖一: 搜尋 Escherichia coli 其中一個 assembly 的頁面截圖&lt;/p&gt;
&lt;p&gt;紅線標示處為NCBI提供的下載管道，由左至右分別是:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Direct Download&lt;/li&gt;
&lt;li&gt;Command line tools&lt;/li&gt;
&lt;li&gt;API URL&lt;/li&gt;
&lt;li&gt;FTP&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;direct-download&#34;&gt;Direct Download
&lt;/h2&gt;&lt;p&gt;直接下載非常直觀，選擇想要的來源(RefSeq, GenBank)和格式(FASTA,GTF&amp;hellip;)，就會獲得一個zip檔
但若序列檔案過大，或是還有二次傳輸(到server)的需求，可以考慮其他方法&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/bioinfo-ncbi/20240829_img3.png&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;圖二: 直接下載的各種選項&lt;/p&gt;
&lt;h2 id=&#34;command-line-tools&#34;&gt;Command line tools
&lt;/h2&gt;&lt;p&gt;NCBI 自己有個好用的工具 NCBI Datasets Command line interface (CLI) tool reference，分為協助檔案格式轉換(dataformat)和查詢下載資料集(datasets)兩大類型
&lt;strong&gt;注意:&lt;/strong&gt; NCBI回傳格式為JSON，才會需要&lt;code&gt;dataformat&lt;/code&gt;協助轉成XML, metadata等其他格式&lt;/p&gt;
&lt;h3 id=&#34;工具安裝&#34;&gt;工具安裝
&lt;/h3&gt;&lt;p&gt;工具安裝方式多元，可去&lt;a class=&#34;link&#34; href=&#34;https://www.ncbi.nlm.nih.gov/datasets/docs/v2/download-and-install/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;NCBI官網挑選&lt;/a&gt;，以下使用conda安裝:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;## create new env &amp;amp; activate 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;conda create -n ncbi_datasets
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;conda activate ncbi_datasets
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;## install via conda
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;conda install -c conda-forge ncbi-datasets-cli
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;完成後在cml輸入&lt;code&gt;datasets&lt;/code&gt; 或 &lt;code&gt;datafromat&lt;/code&gt; 測試有無 help info出現&lt;/p&gt;
&lt;p&gt;datasets 基本功能有 &lt;code&gt;summary&lt;/code&gt;、&lt;code&gt;download&lt;/code&gt;、&lt;code&gt;rehydrate&lt;/code&gt;、&lt;code&gt;completion&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;datasets-summary&#34;&gt;datasets summary
&lt;/h3&gt;&lt;p&gt;利用 序列ID(genome accession)、物種學名(taxon)、基因名稱或ID(gene gene_id / symbol) 等關鍵字來查詢資料庫現有資訊&lt;/p&gt;
&lt;p&gt;假設今天想查 &lt;em&gt;&lt;strong&gt;TP53&lt;/strong&gt;&lt;/em&gt; 在&lt;strong&gt;人類&lt;/strong&gt;有什麼註解資訊:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;datasets summary gene symbol tp53 --taxon &amp;#34;homo sapiens&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;##如果有一份基因列表，可以用 --inputfile 提供 txt 檔一次查詢
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;datasets summary gene symbol --inputfile symbol.txt --taxon &amp;#34;homo sapiens&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;會回傳JSON字串，可以串python用 &lt;code&gt;json&lt;/code&gt; 來整理取出資訊:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;#34;reports&amp;#34;: [
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &amp;#34;gene&amp;#34;: {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &amp;#34;annotations&amp;#34;: [
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                        &amp;#34;annotation_name&amp;#34;: &amp;#34;GCF_000001405.40-RS_2023_10&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                        &amp;#34;annotation_release_date&amp;#34;: &amp;#34;2023-10-02&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                        &amp;#34;assembly_accession&amp;#34;: &amp;#34;GCF_000001405.40&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                        &amp;#34;assembly_name&amp;#34;: &amp;#34;GRCh38.p14&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                        &amp;#34;genomic_locations&amp;#34;: [
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                            {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                                &amp;#34;genomic_accession_version&amp;#34;: &amp;#34;NC_000017.11&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                                &amp;#34;genomic_range&amp;#34;: {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                                    &amp;#34;begin&amp;#34;: &amp;#34;7668421&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                                    &amp;#34;end&amp;#34;: &amp;#34;7687490&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                                    &amp;#34;orientation&amp;#34;: &amp;#34;minus&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                                },
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                                &amp;#34;sequence_name&amp;#34;: &amp;#34;17&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                            }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                        ]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    },
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    (下略)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;datasets-download&#34;&gt;datasets download
&lt;/h3&gt;&lt;p&gt;點選圖一的 datasets 就會跳出指令，複製回去簡單上手，可再根據想要的格式增減 &lt;code&gt;--include&lt;/code&gt; 參數&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-gdscript3&#34; data-lang=&#34;gdscript3&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;datasets&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;download&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;genome&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;accession&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;GCF_000005845&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;--&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;include&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;gff3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;rna&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cds&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;protein&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;genome&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;seq&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;report&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;最終獲得一個zip檔&lt;/p&gt;
&lt;h2 id=&#34;api-url&#34;&gt;API URL
&lt;/h2&gt;&lt;p&gt;點選圖一的 URL 會跳出 API URL&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-gdscript3&#34; data-lang=&#34;gdscript3&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;https&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;//&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;api&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ncbi&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nlm&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nih&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;gov&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;datasets&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;v2alpha&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;genome&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;accession&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GCF_000005845&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;download&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;?&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;include_annotation_type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GENOME_FASTA&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;include_annotation_type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GENOME_GFF&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;include_annotation_type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;RNA_FASTA&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;include_annotation_type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;CDS_FASTA&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;include_annotation_type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;PROT_FASTA&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;include_annotation_type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;SEQUENCE_REPORT&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;hydrated&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;FULLY_HYDRATED&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;可根據喜好用不同方式取得並下載&lt;/p&gt;
&lt;h3 id=&#34;使用-curl-下載&#34;&gt;使用 curl 下載
&lt;/h3&gt;&lt;p&gt;把 API URL複製到以下curl模板裡的 &lt;code&gt;${api_url}&lt;/code&gt; 變數 (也記得改輸出名稱 &lt;code&gt;${output_name}&lt;/code&gt;)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;curl -X GET &amp;#34;${api_url}&amp;#34; -H &amp;#34;accept: application/zip&amp;#34; -o ${output_name}.zip
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;以圖一的例子示範:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-gdscript3&#34; data-lang=&#34;gdscript3&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;curl&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;X&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;GET&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;https://api.ncbi.nlm.nih.gov/datasets/v2alpha/genome/accession/GCF_000005845.2/download?include_annotation_type=GENOME_FASTA&amp;amp;include_annotation_type=GENOME_GFF&amp;amp;include_annotation_type=RNA_FASTA&amp;amp;include_annotation_type=CDS_FASTA&amp;amp;include_annotation_type=PROT_FASTA&amp;amp;include_annotation_type=SEQUENCE_REPORT&amp;amp;hydrated=FULLY_HYDRATED&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;H&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;accept: application/zip&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;o&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;genome&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;zip&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;會看到下載進度:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-gdscript3&#34; data-lang=&#34;gdscript3&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;%&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Total&lt;/span&gt;    &lt;span class=&#34;o&#34;&gt;%&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Received&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;%&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Xferd&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;Average&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Speed&lt;/span&gt;   &lt;span class=&#34;n&#34;&gt;Time&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;Time&lt;/span&gt;     &lt;span class=&#34;n&#34;&gt;Time&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;Current&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                                 &lt;span class=&#34;n&#34;&gt;Dload&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;Upload&lt;/span&gt;   &lt;span class=&#34;n&#34;&gt;Total&lt;/span&gt;   &lt;span class=&#34;n&#34;&gt;Spent&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;Left&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;Speed&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;mi&#34;&gt;100&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;4100&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;k&lt;/span&gt;    &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;4100&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;k&lt;/span&gt;    &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;     &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;  &lt;span class=&#34;mi&#34;&gt;1500&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;k&lt;/span&gt;      &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;--&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;--&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;--&lt;/span&gt;  &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;00&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;02&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;--&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;--&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;--&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1501&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;k&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;完成後解壓縮取得檔案:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;unzip genome.zip
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;replace README.md? [y]es, [n]o, [A]ll, [N]one, [r]ename: n
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  inflating: ncbi_dataset/data/assembly_data_report.jsonl
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  inflating: ncbi_dataset/data/GCF_000005845.2/GCF_000005845.2_ASM584v2_genomic.fna
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  inflating: ncbi_dataset/data/GCF_000005845.2/genomic.gff
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  inflating: ncbi_dataset/data/GCF_000005845.2/cds_from_genomic.fna
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  inflating: ncbi_dataset/data/GCF_000005845.2/protein.faa
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  inflating: ncbi_dataset/data/GCF_000005845.2/sequence_report.jsonl
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  inflating: ncbi_dataset/data/dataset_catalog.json
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;使用-python-requests-下載&#34;&gt;使用 python requests 下載
&lt;/h3&gt;&lt;p&gt;需要引入&lt;code&gt;requests&lt;/code&gt;套件，把 API URL 存進 &lt;code&gt;down_url&lt;/code&gt; 變數，以 &lt;code&gt;GET&lt;/code&gt; 方式取得並將內容 &lt;code&gt;.content&lt;/code&gt; 寫入 zip 檔&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-gdscript3&#34; data-lang=&#34;gdscript3&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;requests&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;down_url&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;https://api.ncbi.nlm.nih.gov/datasets/v2alpha/genome/accession/GCF_000005845.2/download?include_annotation_type=GENOME_FASTA&amp;amp;include_annotation_type=GENOME_GFF&amp;amp;include_annotation_type=RNA_FASTA&amp;amp;include_annotation_type=CDS_FASTA&amp;amp;include_annotation_type=PROT_FASTA&amp;amp;include_annotation_type=SEQUENCE_REPORT&amp;amp;hydrated=FULLY_HYDRATED&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;headers&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s1&#34;&gt;&amp;#39;accept&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;application/zip&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;response&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;requests&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;down_url&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;headers&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;headers&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;response&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;status_code&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;200&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;with&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;open&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;genome.zip&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;wb&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;fw&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;n&#34;&gt;fw&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;write&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;response&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;content&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Fails {}&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;format&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;response&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;status_code&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;若想讓URL簡潔一些，可將 &lt;code&gt;download?&lt;/code&gt; 問號後面的參數存成 &lt;code&gt;params&lt;/code&gt; dict&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-gdscript3&#34; data-lang=&#34;gdscript3&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;down_url&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;https://api.ncbi.nlm.nih.gov/datasets/v2alpha/genome/accession/GCF_000005845.2/download&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;headers&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s1&#34;&gt;&amp;#39;accept&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;application/zip&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;params&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s1&#34;&gt;&amp;#39;include_annotation_type&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;GENOME_FASTA&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s1&#34;&gt;&amp;#39;include_annotation_type&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;GENOME_GFF&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;response&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;requests&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;down_url&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;headers&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;headers&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;params&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;params&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;使用-rest-api&#34;&gt;使用 REST API
&lt;/h3&gt;&lt;p&gt;直接去&lt;a class=&#34;link&#34; href=&#34;https://www.ncbi.nlm.nih.gov/datasets/docs/v2/reference-docs/rest-api/#get-/genome/accession/-accessions-/download&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;NCBI REST API 網頁&lt;/a&gt; 對照網址打上 &lt;code&gt;assembly ID&lt;/code&gt;, &lt;code&gt;include_annotation_type&lt;/code&gt; 等資訊，接著按照下圖順序操作:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;點選TRY&lt;/li&gt;
&lt;li&gt;確認response狀態為200&lt;/li&gt;
&lt;li&gt;直接下載zip，或是複製curl指令使用&lt;/li&gt;
&lt;/ol&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/bioinfo-ncbi/20240829_img4.png&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;圖三: NCBI REST API 實際畫面截圖&lt;/p&gt;
&lt;h2 id=&#34;ftp&#34;&gt;FTP
&lt;/h2&gt;&lt;p&gt;點選圖一的FTP 就會跳轉至FTP server，可點選檔名下載，或複製檔案網址到server以 &lt;code&gt;wget&lt;/code&gt; 取得&lt;/p&gt;
&lt;h2 id=&#34;comments&#34;&gt;Comments
&lt;/h2&gt;&lt;p&gt;NCBI資料庫使用頻繁，可照個人偏好選擇方法，因最近學習 &lt;code&gt;requests&lt;/code&gt; 和 &lt;code&gt;API&lt;/code&gt; 相關知，有將以上code寫成 python function 來使用；而有conda建個NCBI cml 環境來玩也很方便XD&lt;/p&gt;
</description>
        </item>
        <item>
        <title>香港旅行隨筆之二</title>
        <link>https://pxchen110.github.io/p/%E9%A6%99%E6%B8%AF%E6%97%85%E8%A1%8C%E9%9A%A8%E7%AD%86%E4%B9%8B%E4%BA%8C/</link>
        <pubDate>Thu, 22 Aug 2024 00:00:00 +0000</pubDate>
        
        <guid>https://pxchen110.github.io/p/%E9%A6%99%E6%B8%AF%E6%97%85%E8%A1%8C%E9%9A%A8%E7%AD%86%E4%B9%8B%E4%BA%8C/</guid>
        <description>&lt;img src="https://pxchen110.github.io/post/travel-hongkong-2024-2/20240822_img4.jpg" alt="Featured image of post 香港旅行隨筆之二" /&gt;&lt;p&gt;吹著海風思考著未來會過著什麼樣的生活？
那些過去許下的願望好像沉入深海不見蹤影
“已到達大人年歲，那偉大預言無根據” &amp;ndash; 關智斌 &amp;lt;預言書&amp;gt;&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-hongkong-2024-2/20240822_img1.jpg&#34;  width=&#34;600&#34;&gt;
&lt;!-- more --&gt;
&lt;p&gt;落雨天慵懶準備去飲茶，店內有限的空間容納許多食客，若以全能住宅xx王的方式來形容，店家巧妙利用隔板做出隔間以增加顧客收容能力(誤) 服務員不冷不熱的收拾餐具與劃單，拿回明細檢查發現打錯，來回兩次帳目仍然不對，便直接去櫃檯同他確認才正確；點心不論樣貌與味道都有中上水平，特別是滷至入味的鳳爪，那鹹甜的外皮令人忘情吸吮；經典蝦餃和流沙包趁熱食比在台灣吃過的味道都好。吃飽飯外頭雨暫歇，趕緊返回地鐵站搭車，兩旁竹子搭建的拉皮工地，總有搖搖欲墜的錯覺，若是風球登入就不好說了。到尖沙咀展開伴手禮採購，位於美麗大廈的珍妮小熊剛開店外頭已熱鬧如早市，為了不辜負排隊的辛苦，總想著要不再多買幾盒；結帳時老闆娘展示多盒餅乾倒扣進購物袋的打包神技，揹著超重的鐵盒、成為名副其實的爆買觀光客。&lt;/p&gt;
&lt;p&gt;下午抵達維港k11，商場內裝金碧輝煌，各個角落都有藝術作品可欣賞，從抽現象現代到潮流角色都有；特別喜歡懸掛於商場天幕的塩田千春的作品，當年特別去北美館參觀，運用線條纏繞出船舶意象，搭配大綑紅線交錯編織成的一張大網，特別壯觀感動。維港附近草皮正放映著奧運比賽，前幾日香港劍擊奪冠而掀起奧運熱潮，據說半夜商場都有大屏幕轉播讓民眾前去觀賽。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-hongkong-2024-2/20240822_img2.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;終於見到傳說中的維港景色，天色尚早先欣賞建築輪廓，也期待象徵繁榮的商業高樓，在華燈初上時會是何種風貌？沿港邊漫步至天星渡輪入口，才知上下層收費不同，為廣闊的視野選擇坐上層，啟航時海面波瀾略顯，身體稍微暈船但不能阻止想拍照記錄的意志，10分鐘內可抵達中環碼頭。原想到中環散步，但突然下起陣雨使我們選擇原地返回尖沙咀，回程輪流欣賞港島和九龍兩側的風景；天際100屏幕放當今時刻，不知在港島海景第一排OT的上班族能否見到？&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-hongkong-2024-2/20240822_img3.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;整點欣賞一場燈光秀，相比光影熱烈的主場，我更喜歡研究靠近灣仔那側的住宅區，想著他們會如何度過周末日常，以及每棟屋邨下承載著多少人的生活瑣碎？但或許是與偶像同處一片天空的興奮，以觀光客角度出發總帶有過於樂觀美好的濾鏡，也呼應了旅行的本質是&amp;quot;從自己活膩的地方，去到別人活膩的地方&amp;quot;。再花個三五分散步至kenny來過的1881 heritage，跟影片裡繽紛的聖誕節氣不同，平常日即是一處古蹟特區，頂樓的高塔曾是偵測時間的至高點，如今早已退居在高樓密林中。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-hongkong-2024-2/20240822_img4.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;隔天又回佐敦站吃澳洲牛奶公司，外頭有些排隊人龍，服務生會依照剩餘座位出來詢問有無剛好人數的顧客並帶入就坐，這極致的並桌陣法完全體現不浪費空間的港式哲學；為了融入茶餐廳文化，入座馬上唔該點餐，像是拼反應速度一般，一分鐘內便完成上菜，滿噹噹的套餐包含炒蛋吐司，火腿通粉跟飲料，擺滿面積不大的餐桌：炒蛋加入奶油口感滑嫩，通粉不常見於台式早餐行列，那雞高湯底的味道令人難忘，整體是會讓人想再來的水平；一邊用餐一邊觀察環境，佇守崗位的服務員鷹眼般的控場，誰放下筷子就前去收拾，誰東西佔到他人空間便出手相喬(位子)，最後看準顧客伸手拿錢，迅速遞上寫著價格的單據送客，跟台灣的服務風格差異頗大。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-hongkong-2024-2/20240822_img5.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;解鎖港島線往堅尼地城（Kennedy Town）方向前進，這些英譯中的特色命名，已被紀念品店做成一塊塊磁鐵兜售，在澳門也見過類似D嘢。出站又是新的風貌，左彎是以海岸為終點的道路，右拐可見沿山坡興建的屋邨群，前方的當地街市正熱鬧開張，多為老人家前去採買。終於看見海平面，跟日本鎌倉晴朗飽和的藍白色不同，這裏是帶有些微顆粒感的莫藍迪色調，島嶼和跨海大橋映入眼簾，不時有渡輪劃破海面往遠方駛去。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-hongkong-2024-2/20240822_img6.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;從接近終點的位置跳上叮叮車橫逛港島，上環海味街飄來濃郁的海鮮腥香，大片魷魚乾貨至小瑤柱陳列於台前供人選購，到銅鑼灣車子改變方向往跑馬地總站前進，偌大的馬場七月中開始因天氣因素暫停馬匹出賽，沒能體驗賽馬有點可惜，便改繞去不遠處的祥興咖啡室，這裡是追男仔裡張學友點陰陽奶水，陰陽飽的場景，如今內裝更新成為舒適的咖啡廳。搭車下山途中外頭突然落驟雨，再次驗證港島比九龍更會下雨。晚上獨自踏上見偶像之旅，轉乘東涌綫與機場快綫終於抵達亞博，開場前去應援場館欣賞粉絲們的作品，也收穫好多應援小物；演唱會兩個小時彷彿夢一般，親眼觀賞表演比起觀看影片收穫更多的震撼，待在同溫層裡特別投入為她的應援，結束後心情仍然亢奮直到一點才睡。&lt;/p&gt;
&lt;p&gt;拖著積累的疲倦收拾行李準備返家，終於見到屬於夏日的豔陽天，搭乘觀塘綫往調景嶺方向拜訪景點:彩虹邨和照片裡年輕氣盛的鮮豔牆面不同，已隨歲月斑駁褪色(或是濾鏡?)，後來查新聞得知這區準備重建，這次初見可能是最後一面；黃大仙被眾多屋邨圍繞，頗能感受此寶地的靈氣，在&amp;quot;一命二運三風水&amp;quot;信念下相信不會被輕易拆遷，內部除了既定路線還有個小花園可參觀，但正午時分建議去旁邊商場吹冷氣行街。回程路上做最後掙扎般的記錄九龍半島的街景，想著還有些小巷沒鑽到，幾棟唐樓沒看到，就讓遺憾將成為下次出發的動力。起飛前透過窗戶捕捉暴雨過後的兩道彩虹，天色漸晚，從雲層間隙欣賞香港夜色、直到只剩機艙內的反光。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-hongkong-2024-2/20240822_img7.jpg&#34;  width=&#34;600&#34;&gt;
</description>
        </item>
        <item>
        <title>香港旅行隨筆之ㄧ</title>
        <link>https://pxchen110.github.io/p/%E9%A6%99%E6%B8%AF%E6%97%85%E8%A1%8C%E9%9A%A8%E7%AD%86%E4%B9%8B%E3%84%A7/</link>
        <pubDate>Thu, 15 Aug 2024 00:00:00 +0000</pubDate>
        
        <guid>https://pxchen110.github.io/p/%E9%A6%99%E6%B8%AF%E6%97%85%E8%A1%8C%E9%9A%A8%E7%AD%86%E4%B9%8B%E3%84%A7/</guid>
        <description>&lt;img src="https://pxchen110.github.io/post/travel-hongkong-2024/20240815_img1.jpg" alt="Featured image of post 香港旅行隨筆之ㄧ" /&gt;&lt;img src=&#34;https://pxchen110.github.io/post/travel-hongkong-2024/20240815_img1.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;對香港的初印象來自那些港產片和廣東歌，心底嚮往著璀璨的港島夜色，街市巷尾那家茶餐廳的味道，以及路上新舊交融的都市風景。備忘錄裡裝滿想去的地方，早已超過腳程可以消化的份量。出發當天感謝天氣轉好讓班機如預期起飛，正式說聲香港初次見面。&lt;/p&gt;
&lt;!-- more --&gt;
&lt;p&gt;經過長長的機場通道與海關人龍，合併處理著網卡實名制認證，一陣糊塗間竟然完成出關，繞了一圈找尋便利店買八達通，才發現眼前就有台自動販賣機，轉乘機場巴士前往市區，擁擠的內部座位和濕悶的空氣讓人不適，駛進高速公路欣賞港島獨有的汪洋景色，盯著遠方船隻與破碎的島嶼發呆。接近市區開始出現高聳的建築景色，之前閱讀香港公屋一書曾標示下幾棟屋邨，祖堯邨與荔景邨如今近在眼前，地基紮於山頂卻仍高聳地彷彿深入天際；巴士駛入市區，又出現幾條熟悉的街道名：接近南昌街時忍不住點一首&amp;quot;南昌街王子&amp;quot;、同樣在彌敦道(旅行幾日經過很多次)腦裡總飄來幾句&amp;quot;街邊太多人與車，繁華鬧市人醉夜&amp;hellip;&amp;quot;&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-hongkong-2024/20240815_img2.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;回程補拍的屋邨照片，後面都是延綿的建築群&lt;/p&gt;
&lt;p&gt;飯店在巴士站附近可減少搬運行李的苦勞，簡單整理後便外出覓食行街。從尖沙咀刷卡進站，有些傳統機台是需要往前推動的橫桿造型，手扶梯以趕下班的速度運作，車廂泛黃的燈光照明相當古樸，中間有許多橫桿可抓，反倒是椅子比較少，是可以塞更多人進去的設計（？走出太子站，雨後濕悶的空氣攀附上身，熟悉又害怕的感覺回來了XD第一站吃菠蘿油聞名的金華冰廳，店內椅子呈狹長形，兩人對坐肯定能以膝蓋調情（喂）點了咖哩豬扒飯，菠蘿油，鴛鴦和鹹檸七，菠蘿焦脆的上皮超出預期的好味，咖哩醬屬於帶有微辣的南洋風情，豬排煎過後浸入湯汁，口感偏硬了些，配上越戳越有味的鹹檸檬七喜，幸福感上升，剛好遇上空檔時段，一位服務員百無聊賴地翻閱日曆，上面似乎紀錄著排班行程，另一位則拿起長撢清掃牆面，完全不care下方是否有客人用餐（？也是蠻符合港式印象的。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-hongkong-2024/20240815_img3.jpg&#34;  width=&#34;600&#34;&gt;
店內黃光讓人不用加濾鏡就有復古感（傳說中的港風？）
&lt;p&gt;沿彌敦道走回飯店，誤打誤撞來到旺角天橋，稍微欣賞半邊舊建築半邊商業中心的景致，筆直道路盡是繁忙車潮，不時傳來的喇叭聲透露著夜晚逐漸煩躁的歸家情緒；穿越幾個巷口抵達此行目的之一：位於商業大樓內的一家3c用品店，老闆作為張敬軒的大粉絲，店內擺滿這些年收藏的應援物和照片，一時間不知先從哪研究起，除了眼睛有得看，還有應援小卡可抽，獲得一張2023澳門演唱會的照片，離開甚至獲得老闆贈送的新歌小卡，心情已經飛上天：））這時旺角正是熱鬧，許多脫去返工枷鎖的香港人來此行街狂歡，busking唱著至少做一件離譜的事，想起自己為了見偶像來香港，在家人眼裡也是挺離譜的，但誠如歌詞所說“盡情失控離譜的美麗世人永不懂” 未來若想起這趟旅程，應該是個美好回憶吧？最後逛完惠康和7仔，提著大小包伴手禮回去休息。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-hongkong-2024/20240815_img4.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;“至少要見面上萬次”希望某天紅館見&lt;/p&gt;
&lt;p&gt;第二天陰雨綿綿，多少受颱風過境影響，祈禱雨不要太大的同時，也轉念一想沒有熱到全身狼狽已是幸運。從金鐘站轉乘港島線，三線營運的大站手扶梯挖掘深度驚人，懼高症回頭前請三思，天后站外為另一種山城景色，googlemap導航相當守規矩，差點被帶往爬山繞路的路線，還好跟著本地人跨過車道減少體力白費；由於大坑靠近山區，在炳記吃早餐外頭開始飄小雨，仍可勉強坐在露天位置，醃製過的豬排軟嫩好味，點錯的鴛鴦跟多士比較普通；吃到一半雨勢突然變大，湯麵也措手不及地被免費加湯，所有人起身撤退到帆布遮蓋的地方，而有人就跟沒事一樣打起傘繼續吃飯；雖明白香港用餐講究吃飽就起身買單，但相信不會有人在這場雨下，還願意走過來吃飯，也繼續坐著等雨停的浪乓（台語）&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-hongkong-2024/20240815_img5.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;趁雨變小去結帳，老闆正在掃水&lt;/p&gt;
&lt;p&gt;結完帳後來到附近的 cookie vision買軟餅乾，餅乾店老闆慵懶的準備營業，見我們進來才開始擺放餅乾寫白板，買了開心果和巧克力兩個口味，開心果仍帶有出爐的熱氣，餅乾配上中間融化的奶醬相當美味讓人上癮，老闆見我們不停點頭也自豪的說“好吃到想再來一片對吧：）”（os: 沒錯，但一片港幣40起需要考慮一下XD）度過了美味的早茶時光。搭乘特色叮叮車移動至中環，從後門上車後直奔二樓，車輛沿著軌道行駛，移動速度緩慢但仍有涼風吹入，銀行街下車後景色大不同，周圍已是大廈環繞，正對面是匯豐銀行大樓，奢華風格漸長。步行前往中環街市，裡面的小店正要開幕有些冷清，但也逛到幾家有趣的紀念品店。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-hongkong-2024/20240815_img6.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;趁午餐前去排一樂燒鵝，店內地板滑膩程度跟營業時間成正相關，也很好奇店員到底如何保持健步在店內移動，點了鵝肉跟叉燒飯，鵝肉表皮如塗抹防曬乳般油亮美麗，但皮囊下脂肪分佈較厚無法直接入口，相信撇除名氣以外可以嘗試其他選擇。試著在手扶梯上，拍出重慶森林那禎晃動感的照片，但成品只有回矇瞬間產生的雙下巴跟類似手震的失焦感。抵達蘭芳園跟藍瓶的交叉口，絲襪奶茶的評價為“不喜茶味重澀的人請稍後再試” 逛完大館後前往ifc吹冷氣吃shake shack，選了可欣賞港口風景的靠窗位置，漢堡跟印象中一樣美味，忍住沒點那大杯開心果奶昔（多半是想起那杯斑斕奶昔）一邊欣賞港口繁忙進出的船隻，由於特殊的地理分佈讓渡輪成為交通選擇，可說是每天乘風破浪出行。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-hongkong-2024/20240815_img7.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;IFC放眼望去的維港風景&lt;/p&gt;
&lt;p&gt;眼看休息差不多，從香港站沿地下道走回中環站搭車，今日驟雨隨機落下，到傍晚早已分不滴到身上的是雨水還是冷氣水，總之打傘行走就對了，回去前順道買了附近的粥品當宵夜，生滾粥的米粒早已熬成不具有形體的液狀，又解鎖一份新美食。&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Python 系列： 模組(module)與套件(package)撰寫</title>
        <link>https://pxchen110.github.io/p/python-%E7%B3%BB%E5%88%97-%E6%A8%A1%E7%B5%84module%E8%88%87%E5%A5%97%E4%BB%B6package%E6%92%B0%E5%AF%AB/</link>
        <pubDate>Wed, 07 Aug 2024 00:00:00 +0000</pubDate>
        
        <guid>https://pxchen110.github.io/p/python-%E7%B3%BB%E5%88%97-%E6%A8%A1%E7%B5%84module%E8%88%87%E5%A5%97%E4%BB%B6package%E6%92%B0%E5%AF%AB/</guid>
        <description>&lt;img src="https://pxchen110.github.io/post/python-module-package/20240807_img0.jpg" alt="Featured image of post Python 系列： 模組(module)與套件(package)撰寫" /&gt;&lt;p&gt;紀錄一些關於python module 和 package 的學習筆記，希望以後能常用上。&lt;/p&gt;
&lt;!-- more --&gt;
&lt;!-- toc --&gt;
&lt;h2 id=&#34;python-module&#34;&gt;python module
&lt;/h2&gt;&lt;p&gt;模組化 (modularization): 將常會使用的函式(或物件)單獨寫成一份 script 後，再利用 &lt;code&gt;(from) import &lt;/code&gt; 方式呼叫，可方便管理函式，不用從單一script追溯以增加效率&lt;/p&gt;
&lt;h2 id=&#34;python-package&#34;&gt;python package
&lt;/h2&gt;&lt;p&gt;套件 (package) 指的是 &lt;strong&gt;包含相關的程式檔案的資料夾結構&lt;/strong&gt;，&lt;del&gt;類似普渡的樂式大禮包&lt;/del&gt;只要引用套件就可任意使用內部模組，一般套件名稱等於資料夾名稱&lt;/p&gt;
&lt;p&gt;將模組打包成套件的步驟:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;建立一個資料夾，並命名為套件名稱&lt;/li&gt;
&lt;li&gt;建立 &lt;code&gt;__init__.py&lt;/code&gt; ，python&lt;strong&gt;要求資料夾必須包含&lt;/strong&gt;此檔案，才可以被識別為套件&lt;/li&gt;
&lt;li&gt;將相關模組script放進來&lt;/li&gt;
&lt;li&gt;在新的script以 &lt;code&gt;import&lt;/code&gt; 或是 &lt;code&gt;from ... imoprt &lt;/code&gt; 來引入套件與模組使用，詳細差異可看下面實例會更清楚
**還有一種引入為&lt;code&gt;from .. import*&lt;/code&gt; 但容易在模組名稱相同時發生衝突，就不給例子了&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;實例&#34;&gt;實例
&lt;/h3&gt;&lt;p&gt;今天簡單寫一個名為 helpwork 的套件，內含 &lt;code&gt;tellname.py&lt;/code&gt; 和 &lt;code&gt;telltime.py&lt;/code&gt; 兩份script分別定義函式:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;## telltime.py
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;import datetime
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;def telltime():
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    now = datetime.datetime.now()
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    print(now)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;## tellname.py
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;def tellname(name):
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    print(&amp;#39;welcome {}&amp;#39;.format(name))
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;資料夾結構為:&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/python-module-package/20240807_img1.png&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;開啟新 python script 測試能否引入:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;使用 &lt;code&gt;from ${package_name} import ${module_name}&lt;/code&gt;，引用函式要 &lt;code&gt;${module_name}.${func_name}()&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;from helpwork import tellname, telltime
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;telltime.telltime() 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tellname.tellname(&amp;#39;Amy&amp;#39;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;成功執行函式，並印出&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2024-08-xx xx:xx:xx.xxxxx
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;welcome Amy
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;使用 &lt;code&gt;import ${package_name}&lt;/code&gt;，以&lt;code&gt;${package_name}.${module_name}.${func_name}()&lt;/code&gt;引用函式
&lt;strong&gt;注意:&lt;/strong&gt; 若只給到 &lt;code&gt;${package_name}.${module_name}&lt;/code&gt; 會報錯 &lt;code&gt;TypeError: &#39;module&#39; object is not callable&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;import helpwork
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;helpwork.telltime.telltime()
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;helpwork.tellname.tellname(&amp;#39;Cindy&amp;#39;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;成功執行函式，並印出&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2024-08-xx xx:xx:xx.xxxxx
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;welcome Cindy
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;這時會看到原本 helpwork資料夾下多了 &lt;code&gt;pycache&lt;/code&gt; 資料夾&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/python-module-package/20240807_img2.png&#34;  width=&#34;600&#34;&gt;
&lt;h2 id=&#34;套件研究-openpyxl&#34;&gt;套件研究: openpyxl
&lt;/h2&gt;&lt;p&gt;之前介紹過操作 xlsx 檔的實用套件 &lt;code&gt;openpyxl&lt;/code&gt;，當時寫的引入方式為&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;import openpyxl
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;from openpyxl import workbook, worksheet
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;這裡的 &lt;code&gt;workbook, workshet&lt;/code&gt; 都屬於模組，在&lt;a class=&#34;link&#34; href=&#34;https://github.com/theorchard/openpyxl/tree/master&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;官方github&lt;/a&gt; 可看到套件的資料夾結構:
&lt;img src=&#34;https://pxchen110.github.io/post/python-module-package/20240807_img3.png&#34;  width=&#34;600&#34;&gt;&lt;/p&gt;
&lt;p&gt;補充說明，若想區隔模組或避免同名函式混用出錯，可以&lt;strong&gt;將模組單獨建一個資料夾&lt;/strong&gt;並放置函式script以及一份&lt;code&gt;__init__.py&lt;/code&gt;；如上圖可見 &lt;code&gt;workbook&lt;/code&gt; 模組資料夾下、有一份&lt;code&gt;__init__.py&lt;/code&gt; 和放函示跟物件的 &lt;code&gt;workbook.py&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;因此想建立 &lt;code&gt;workbook/workbook.py&lt;/code&gt; 裡面定義的 &lt;code&gt;Workbook&lt;/code&gt; 物件，以下兩種方式都能做到:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;### method1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;from openpyxl import workbook
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wb = workbook.Workbook()
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;### method2
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;from openpyxl import Workbook
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wb = Workbook()
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;測試&lt;code&gt;workbook.py&lt;/code&gt; 內定義的其中一個函式 &lt;code&gt;sheetnames&lt;/code&gt;&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/python-module-package/20240807_img4.png&#34;  width=&#34;600&#34;&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wb = workbook.Workbook()
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wb.create_sheet(&amp;#39;New_created&amp;#39;)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;print(wb.sheetnames)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;成功印出新建的sheet跟預設sheet&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[&amp;#39;Sheet&amp;#39;, &amp;#39;New_created&amp;#39;]
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;進階-打包套件與推送&#34;&gt;(進階) 打包套件與推送
&lt;/h2&gt;&lt;p&gt;若想在不同平台使用同個套件，可以打包推送再安裝回本地使用
建議可先將 package code 推送至 Github，須包含以下基本內容:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;${package_name}(.git那層)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;${package_name}/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;├── README.md
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;├── module/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;│   └── __init__.py
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;└── setup.py
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;其中 &lt;code&gt;setup.py&lt;/code&gt; 紀錄套件相關的資訊，一般會引用兩種套件協助打包: &lt;code&gt;distutils&lt;/code&gt; 或 &lt;code&gt;setuptools&lt;/code&gt; (後者較常用)
以 &lt;code&gt;setup()&lt;/code&gt; 提供&lt;a class=&#34;link&#34; href=&#34;https://setuptools.pypa.io/en/latest/deprecated/changed_keywords.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;套件相關資訊&lt;/a&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-gdscript3&#34; data-lang=&#34;gdscript3&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## pip install setuptools&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;setuptools&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;setup&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;setup&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;helpwork&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;version&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;v0.0.1&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;description&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;simple script to test&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;author&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;px&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;author_email&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;hello123@gmail.com&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;...&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;打包完成，可以選擇:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;安裝在環境 &lt;code&gt;python3 setup.py install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;打包 &lt;code&gt;python3 setup.py sdist / bdist_{egg;wheel}&lt;/code&gt; 一個式 source code 一個式打包 metadata (出來的格式類似.zip)&lt;/li&gt;
&lt;li&gt;推送到TestPyPI 或 PyPI (需要申請帳號) &lt;code&gt;python3 setup.py sdist upload -r pypi&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;關於打包的更多介紹可以看這個網站: &lt;a class=&#34;link&#34; href=&#34;https://fuchencong.com/2021/12/07/python-package/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://fuchencong.com/2021/12/07/python-package/&lt;/a&gt;
由於沒有實際完成這步，未來有做會再來更新~&lt;/p&gt;
&lt;h2 id=&#34;references&#34;&gt;References
&lt;/h2&gt;&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://hackmd.io/@celineyeh/SyJSK8AXB&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://hackmd.io/@celineyeh/SyJSK8AXB&lt;/a&gt;
&lt;a class=&#34;link&#34; href=&#34;https://medium.com/pyladies-taiwan/python-%E7%9A%84-import-%E9%99%B7%E9%98%B1-3538e74f57e3&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://medium.com/pyladies-taiwan/python-%E7%9A%84-import-%E9%99%B7%E9%98%B1-3538e74f57e3&lt;/a&gt;
&lt;a class=&#34;link&#34; href=&#34;https://www.learncodewithmike.com/2020/01/python-module-and-package.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://www.learncodewithmike.com/2020/01/python-module-and-package.html&lt;/a&gt;
&lt;a class=&#34;link&#34; href=&#34;https://medium.com/seaniap/python-%E6%A8%A1%E7%B5%84%E8%88%87%E5%A5%97%E4%BB%B6-8aa890eda31a&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://medium.com/seaniap/python-%E6%A8%A1%E7%B5%84%E8%88%87%E5%A5%97%E4%BB%B6-8aa890eda31a&lt;/a&gt;
&lt;a class=&#34;link&#34; href=&#34;https://setuptools.pypa.io/en/latest/setuptools.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://setuptools.pypa.io/en/latest/setuptools.html&lt;/a&gt;
&lt;a class=&#34;link&#34; href=&#34;https://fuchencong.com/2021/12/07/python-package/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://fuchencong.com/2021/12/07/python-package/&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Python系列： itables 製作互動式表格</title>
        <link>https://pxchen110.github.io/p/python%E7%B3%BB%E5%88%97-itables-%E8%A3%BD%E4%BD%9C%E4%BA%92%E5%8B%95%E5%BC%8F%E8%A1%A8%E6%A0%BC/</link>
        <pubDate>Fri, 02 Aug 2024 00:00:00 +0000</pubDate>
        
        <guid>https://pxchen110.github.io/p/python%E7%B3%BB%E5%88%97-itables-%E8%A3%BD%E4%BD%9C%E4%BA%92%E5%8B%95%E5%BC%8F%E8%A1%A8%E6%A0%BC/</guid>
        <description>&lt;img src="https://pxchen110.github.io/post/python-itables/20240802_img0.jpg" alt="Featured image of post Python系列： itables 製作互動式表格" /&gt;&lt;p&gt;html文件想要嵌入表格，但又不想要簡單的Markdown Table ? 可以考慮包含篩選，排序功能的python &lt;code&gt;itables&lt;/code&gt; 套件&lt;/p&gt;
&lt;p&gt;iTables is a wrapper for the &lt;strong&gt;Javascript DataTables&lt;/strong&gt; library
itables 以 javascript &lt;a class=&#34;link&#34; href=&#34;https://datatables.net/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;DataTable&lt;/a&gt; 函數為基礎，可在python執行並做進階延伸的應用，本文將介紹常用的函數與參數。&lt;/p&gt;
&lt;!-- more --&gt;
&lt;!-- toc --&gt;
&lt;h2 id=&#34;安裝與引入套件&#34;&gt;安裝與引入套件
&lt;/h2&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;pip install itables
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;conda install itables -c conda-forge
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;在-vscode-使用-itables-要安裝-jupyter-extension&#34;&gt;在 VSCode 使用 itables 要安裝 JUPYTER extension
&lt;/h2&gt;&lt;p&gt;在測試 python &lt;code&gt;itables&lt;/code&gt; 套件，發現VSCode無法在終端機顯示&lt;/p&gt;
&lt;p&gt;首先在&lt;a class=&#34;link&#34; href=&#34;https://mwouts.github.io/itables/supported_editors.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;官網&lt;/a&gt;確認 &lt;code&gt;itables&lt;/code&gt; 可以在 VSCode 環境使用，但需要安裝 Jupyter 相關套件協助&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The tables are interactive in interactive books &lt;strong&gt;powered by Jupyter Book&lt;/strong&gt;, see e.g. the ITables documentation.
In VS Code, itables &lt;strong&gt;works both for Jupyter Notebooks and Python&lt;/strong&gt; scripts.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;若 VSCode 之前沒裝過，&lt;strong&gt;可以直接建立一份 &lt;code&gt;.ipynb&lt;/code&gt; 的檔案&lt;/strong&gt;並寫幾行code測試，按下執行(run)按鈕，系統會詢問你是否要自動安裝 jupyter extensions。
完成後可點選左側&lt;strong&gt;延伸模組&lt;/strong&gt;檢查相關套件的安裝情況:&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/python-itables/20240802_img1.png&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;在終端機block 也多出一個 &lt;strong&gt;Jupyter&lt;/strong&gt; 的選項&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/python-itables/20240802_img2.png&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;現在可以block執行&lt;/p&gt;
&lt;p&gt;最終成功跑出想要的可以排序篩選的互動式表格:&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/python-itables/20240802_img3.png&#34;  width=&#34;600&#34;&gt;
&lt;h2 id=&#34;啟動互動式-notebook-環境&#34;&gt;啟動互動式 notebook 環境
&lt;/h2&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;from itables import init_notebook_mode
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;## Activate the interactive mode in notebook-like environment
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;init_notebook_mode(all_interactive=True)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;可以使用範例表格作為輸入，檢查是否有為互動模式&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;from itables.sample_dfs import get_countries
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;df = get_countries(html=False)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;df
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;另外一個範例&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# pip install world_bank_data --upgrade
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;import world_bank_data as wb
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;df = wb.get_countries(html=False)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;df
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;添加渲染與參數&#34;&gt;添加渲染與參數
&lt;/h2&gt;&lt;p&gt;使用 &lt;code&gt;show()&lt;/code&gt; 協助渲染表格呈現的內容，大部分參數介紹都可參考 DataTable 的手冊&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;from itables import show
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;show(df, ....)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;常用的參數包含:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;lengthMenu = [2,10,25]&lt;/code&gt; 以列表調整左上角的 &lt;strong&gt;entries per page&lt;/strong&gt; 每頁顯示的資料筆數&lt;/li&gt;
&lt;li&gt;&lt;code&gt;caption = &amp;quot;string&amp;quot;&lt;/code&gt; 標題預設位置在表格底部&lt;code&gt;caption-side:bottom&lt;/code&gt;，可透過&lt;code&gt;style=&#39;caption-side:top&#39;&lt;/code&gt; 調整至表格上方&lt;/li&gt;
&lt;li&gt;&lt;code&gt;layout={}&lt;/code&gt;調整表格四個角落的內容，預設顯示:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;#34;topStart&amp;#34;: &amp;#39;pageLength&amp;#39;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;#34;topEnd&amp;#34;: &amp;#39;search&amp;#39;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;#34;bottomStart&amp;#34;: &amp;#39;info&amp;#39;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;#34;bottomEnd&amp;#34;: &amp;#39;paging&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;img src=&#34;https://pxchen110.github.io/post/python-itables/20240802_img4.png&#34;  width=&#34;600&#34;&gt;
- `search={}` 調整搜尋匹配內容 `&#34;regex&#34;: True, &#34;caseInsensitive&#34;: True, search: &#34;default search str&#34;`
- `paging=False` 會顯示表格全部的內容，會讓 `lengthMenu` 設定失效；若想要限制畫面呈現數量，可搭配 `scrollCollapse=True, scrollY=&#34;200px&#34;` 設定卷軸滾動
- `column_filters = &#34;footer&#34;` 允許針對個別欄位篩選，且將 search bar 顯示在表格下方
&lt;img src=&#34;https://pxchen110.github.io/post/python-itables/20240802_img5.png&#34;  width=&#34;600&#34;&gt;
&lt;h3 id=&#34;表格外觀參數&#34;&gt;表格外觀參數
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;classes=&amp;quot;compact&amp;quot;&lt;/code&gt; 設定表格擁擠，&lt;code&gt;classes=&amp;quot;cell-border&amp;quot;&lt;/code&gt; 添加格線&lt;/li&gt;
&lt;li&gt;&lt;code&gt;style=&lt;/code&gt; 添加CSS相關樣式&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;使用&lt;code&gt;pandas Styler&lt;/code&gt; object:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;s = df.style
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;code&gt;s.background_gradient(axis=None, cmap=&amp;quot;YlOrRd&amp;quot;)&lt;/code&gt; 依數字大小給予不同顏色梯度(colormap)
&lt;code&gt;s.format(&amp;quot;{:.3}&amp;quot;)&lt;/code&gt; 調整位數(.3代表顯示三個數字剩下四捨五入)&lt;/p&gt;
&lt;h3 id=&#34;輸出表格&#34;&gt;輸出表格
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;show(df, buttons=[&amp;#34;copyHtml5&amp;#34;, &amp;#34;csvHtml5&amp;#34;, &amp;#34;excelHtml5&amp;#34;])
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;表格會出現以下三個按鈕，分別代表複製表格內容、下載為CSV檔和下載為XLSX檔&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/python-itables/20240802_img6.png&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;可使用 &lt;code&gt;pandas&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;嵌入外部網頁&#34;&gt;嵌入外部網頁
&lt;/h2&gt;&lt;p&gt;目前支援嵌入 &lt;strong&gt;HTML&lt;/strong&gt; 和 &lt;strong&gt;Shiny&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&#34;references&#34;&gt;References
&lt;/h2&gt;&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://code.visualstudio.com/docs/datascience/jupyter-notebooks&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://code.visualstudio.com/docs/datascience/jupyter-notebooks&lt;/a&gt;
&lt;a class=&#34;link&#34; href=&#34;https://datatables.net/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://datatables.net/&lt;/a&gt;
&lt;a class=&#34;link&#34; href=&#34;https://hackmd.io/@DokiDokiPB/Hy05n_Mzs&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://hackmd.io/@DokiDokiPB/Hy05n_Mzs&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Python系列： 利用 openpxyl 操作 excel</title>
        <link>https://pxchen110.github.io/p/python%E7%B3%BB%E5%88%97-%E5%88%A9%E7%94%A8-openpxyl-%E6%93%8D%E4%BD%9C-excel/</link>
        <pubDate>Wed, 24 Jul 2024 00:00:00 +0000</pubDate>
        
        <guid>https://pxchen110.github.io/p/python%E7%B3%BB%E5%88%97-%E5%88%A9%E7%94%A8-openpxyl-%E6%93%8D%E4%BD%9C-excel/</guid>
        <description>&lt;img src="https://pxchen110.github.io/post/python-openpxyl/20240724_img1.jpg" alt="Featured image of post Python系列： 利用 openpxyl 操作 excel" /&gt;&lt;p&gt;Background photo by &lt;a class=&#34;link&#34; href=&#34;https://unsplash.com/@rubaitulazad&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Rubaitul Azad&lt;/a&gt; on &lt;a class=&#34;link&#34; href=&#34;https://unsplash.com/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Unsplash&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;過去曾介紹 &lt;code&gt;xlsxwriter&lt;/code&gt; 套件將資料寫入輸出成 &lt;code&gt;.xlsx&lt;/code&gt; 檔，若想讀取 &lt;code&gt;.xlsx&lt;/code&gt; 內容、或想編輯已存在的檔案，推薦另一套件 &lt;code&gt;openpyxl&lt;/code&gt; 套件。本文將介紹 python &lt;code&gt;openpyxl&lt;/code&gt; 套件的常用函數、基本用法，並帶入範例說明。&lt;/p&gt;
&lt;!-- more --&gt;
&lt;!-- toc --&gt;
&lt;h2 id=&#34;下載與引入套件&#34;&gt;下載與引入套件
&lt;/h2&gt;&lt;p&gt;可選擇用 &lt;code&gt;pip&lt;/code&gt; 或 &lt;code&gt;conda install&lt;/code&gt; 安裝套件
&lt;strong&gt;注意：推薦用 &lt;code&gt;pip&lt;/code&gt; 安裝，使用 &lt;code&gt;conda&lt;/code&gt; 安裝容易出現 &lt;code&gt;partially initialized module&lt;/code&gt;的抱錯&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;pip install openpyxl
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;conda install conda-forge::openpyxl
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;import openpyxl
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;from openpyxl import Workbook
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;開啟-excel-檔案&#34;&gt;開啟 excel 檔案
&lt;/h2&gt;&lt;p&gt;和 &lt;code&gt;xlsxwriter&lt;/code&gt; 一樣， &lt;code&gt;openpyxl&lt;/code&gt; 將&lt;strong&gt;整份 excel 檔案稱為 Workbook&lt;/strong&gt;，內部的&lt;strong&gt;工作表稱為 worksheet&lt;/strong&gt;，而每個&lt;strong&gt;格子稱為 cell&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;openpyxl&lt;/code&gt; 分成創建和讀取兩種模式&lt;/p&gt;
&lt;h2 id=&#34;創建--寫入excel&#34;&gt;創建 / 寫入excel
&lt;/h2&gt;&lt;p&gt;以 &lt;code&gt;Workbook()&lt;/code&gt; 創立表格文件，並透過 &lt;code&gt;active&lt;/code&gt; 讀取第一份工作表 (active default:0)&lt;/p&gt;
&lt;p&gt;若想添加工作表，可用&lt;code&gt;.create_sheet(&amp;quot;sheet_name&amp;quot;,position)&lt;/code&gt;來命名+決定放置順序&lt;/p&gt;
&lt;p&gt;可透過 &lt;code&gt;.sheetnames&lt;/code&gt; 檢視當前所有工作表名稱，輸出為list&lt;/p&gt;
&lt;p&gt;完成操作後以&lt;code&gt;.save(&#39;output.xlsx&#39;)&lt;/code&gt; 把 workbook 輸出成檔案，&lt;strong&gt;注意若系統有相同檔名的文件，openpyxl 會直接覆寫掉&lt;/strong&gt;，此外若檔名結尾非.xlsx等有效格式，可能會造成檔案輸出後無法正常開啟的狀況&lt;/p&gt;
&lt;h3 id=&#34;實際例子&#34;&gt;實際例子
&lt;/h3&gt;&lt;p&gt;開啟新workbook以及名為 test 的工作表，並指定在test內的A1寫入&amp;rsquo;Hi&amp;rsquo;字串輸出&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;import openpyxl
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;from openpyxl import Workbook
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;## create new workbook
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wb = Workbook()
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;## create new worksheet other than default(name: Sheet)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wb.create_sheet(&amp;#39;test&amp;#39;)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;## list current worksheet names
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;print(wb.sheetnames)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;## [&amp;#39;Sheet&amp;#39;, &amp;#39;test&amp;#39;]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;## write string into cell
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sheet = wb[&amp;#39;test&amp;#39;]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sheet[&amp;#39;A1&amp;#39;] = &amp;#39;Hi&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;## save(overwrite) as xlsx file
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wb.save(&amp;#39;test.xlsx&amp;#39;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;結果如下圖：
&lt;img src=&#34;https://pxchen110.github.io/post/python-openpxyl/20240724_img1.png&#34;  width=&#34;600&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;讀取-excel&#34;&gt;讀取 excel
&lt;/h2&gt;&lt;p&gt;以 &lt;code&gt;openpyxl.load_workbook()&lt;/code&gt; 來讀取特定檔案，若檔案內有多個工作表，可用工作表名稱指定(default為操作第一份工作表)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-gdscript3&#34; data-lang=&#34;gdscript3&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;wb&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;openpyxl&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;load_workbook&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;my_file.xlsx&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;sheet&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;wb&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;specific_sheetname&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 若想直接用第一份 worksheet&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;sheet&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;wb&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;active&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;code&gt;load_workbook()&lt;/code&gt; 有許多參數:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;data_only&lt;/code&gt; 遇到公式時要印出公式本身(default)還是計算的結果&lt;/li&gt;
&lt;li&gt;&lt;code&gt;keep_vba&lt;/code&gt; 是否保留設定的儲存格事件(&lt;a class=&#34;link&#34; href=&#34;https://blog.gtwang.org/programming/excel-vba-events/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Visual Basic elements&lt;/a&gt;) 預設為不保留，若選擇保留，也不能透過 openpyxl 編輯事件&lt;/li&gt;
&lt;li&gt;&lt;code&gt;read-only&lt;/code&gt; 以讀取模式開啟，會減少記憶體需求，且不支援讀取某些類型(表格、圖片)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;rich_text&lt;/code&gt; 不否保留預設的樣式設定(default)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;keep_links&lt;/code&gt; 保留超連結設定&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;操作-cell-內容&#34;&gt;操作 cell 內容
&lt;/h2&gt;&lt;p&gt;指定cell的方式也是以 row + column index (&lt;strong&gt;start from 1&lt;/strong&gt;)或 cell index (如:A1)等方式，&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;strings = sheet[&amp;#39;A1&amp;#39;] 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;## the same as
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;strings = sheet.cell(row=1, column=1)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;若想看cell內容要加 &lt;code&gt;.value&lt;/code&gt; 來將object轉換成內文&lt;code&gt;print(strings.value)&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;strings = sheet[&amp;#39;A1&amp;#39;]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;print(strings)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;## &amp;lt;Cell &amp;#39;test&amp;#39;.A1&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;print(strings.value)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;## Amy
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;當想看特定範圍的格子，可用 &lt;code&gt;iter_rows()&lt;/code&gt; 或是 &lt;code&gt;[index1:index2]&lt;/code&gt; 來操作，並搭配迴圈觸及到每個cell內容&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;for row in worksheet.iter_rows(min_row=1, max_col=3, max_row=2):
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   for cell in row:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;       print(cell)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;## print (1,1), (1,2), (1,3), (2,1), (2,2), and (2,3)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;## same as A1, B1, C1, A2, B2, C2
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;multi_cell = worksheet[&amp;#39;B10&amp;#39;:&amp;#39;C11&amp;#39;]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;#print(multi_cell)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;for row in multi_cell:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    print(row[0].value, row[1].value) 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;## print B10, C10 and then B11, C11
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;實際例子-1&#34;&gt;實際例子
&lt;/h3&gt;&lt;p&gt;有份 test.xlsx 紀錄營隊的資訊，今天想要讀取excel並將隊員資訊印出&lt;/p&gt;
&lt;p&gt;test.xlsx 的內容&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/python-openpxyl/20240724_img2.png&#34;  width=&#34;600&#34;&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-gdscript3&#34; data-lang=&#34;gdscript3&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;wb&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;openpyxl&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;load_workbook&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;test.xlsx&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;sheet&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;wb&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;active&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;row&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sheet&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;A1:C13&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]:&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## == sheet.iter_rows(min_col=1, min_row=1):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;cell&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;row&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cell&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;添加樣式&#34;&gt;添加樣式
&lt;/h2&gt;&lt;p&gt;引入相關函數&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;from openpyxl.styles import PatternFill, Border, Side, Alignment, Protection, Font
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;code&gt;Font&lt;/code&gt; 調整文字樣式&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;font = Font(name=&amp;#39;Calibri&amp;#39;, ## 字體名稱
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                size=11,    ## 大小
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                bold=False, ## 粗體
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                italic=False, ## 斜體
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                vertAlign=None, ## 垂直置中
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                underline=&amp;#39;none&amp;#39;, ## 底線
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                strike=False,      
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                color=&amp;#39;FF000000&amp;#39;)  ## 顏色
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;code&gt;PatternFill&lt;/code&gt; 調整cell格子樣式&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;fill = PatternFill(fill_type=None,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                start_color=&amp;#39;FFFFFFFF&amp;#39;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                end_color=&amp;#39;FF000000&amp;#39;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;code&gt;Border&lt;/code&gt; 調整邊框邊界樣式&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;border = Border(left=Side(border_style=None, ## 是否加框線
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                          color=&amp;#39;FF000000&amp;#39;), ## 框線顏色
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                right=Side(border_style=None,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                           color=&amp;#39;FF000000&amp;#39;),
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                top=Side(border_style=None,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                         color=&amp;#39;FF000000&amp;#39;),
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                bottom=Side(border_style=None,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                            color=&amp;#39;FF000000&amp;#39;),
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                diagonal=Side(border_style=None,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                              color=&amp;#39;FF000000&amp;#39;),
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                diagonal_direction=0,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                outline=Side(border_style=None,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                             color=&amp;#39;FF000000&amp;#39;),
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                vertical=Side(border_style=None,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                              color=&amp;#39;FF000000&amp;#39;),
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                horizontal=Side(border_style=None,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                               color=&amp;#39;FF000000&amp;#39;)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;               )
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;code&gt;Alignment&lt;/code&gt; 調整格子內文對齊方式&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;alignment=Alignment(horizontal=&amp;#39;general&amp;#39;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    vertical=&amp;#39;bottom&amp;#39;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    text_rotation=0,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    wrap_text=False,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    shrink_to_fit=False,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    indent=0)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;code&gt;Protection&lt;/code&gt; 容許編輯或保護模式&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;protection = Protection(locked=True,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                        hidden=False)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;設定好樣式後，使用 &lt;code&gt;.font&lt;/code&gt; 套用至cell上&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ft = Font(size = 15, bold = True)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sheet[&amp;#39;A1&amp;#39;].font = ft
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;## 也可以透過 .font 直接調整樣式
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sheet[&amp;#39;A1&amp;#39;].font.italic = True
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;若想將樣式套用在整行或整欄，可先用&lt;code&gt;column_dimensions[&#39;A&#39;,&#39;B&#39;,&#39;C&#39;...]&lt;/code&gt; 和 &lt;code&gt;row_dimensions[1,2,3...]&lt;/code&gt; 指定索引，接著以 &lt;code&gt;.font&lt;/code&gt; 套用樣式&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ft = Font(size = 15, bold = True)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;col = wb.row_dimensions[2]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;col.font = ft
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;references&#34;&gt;References
&lt;/h2&gt;&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://openpyxl.readthedocs.io/en/stable/tutorial.html#playing-with-data&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://openpyxl.readthedocs.io/en/stable/tutorial.html#playing-with-data&lt;/a&gt;
&lt;a class=&#34;link&#34; href=&#34;https://stringfestanalytics.com/how-to-understand-the-difference-between-the-openpyxl-and-xlsxwriter-python-packages-for-excel/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://stringfestanalytics.com/how-to-understand-the-difference-between-the-openpyxl-and-xlsxwriter-python-packages-for-excel/&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>使用 diff, vimdiff, excel inquire 比較檔案</title>
        <link>https://pxchen110.github.io/p/%E4%BD%BF%E7%94%A8-diff-vimdiff-excel-inquire-%E6%AF%94%E8%BC%83%E6%AA%94%E6%A1%88/</link>
        <pubDate>Fri, 19 Jul 2024 00:00:00 +0000</pubDate>
        
        <guid>https://pxchen110.github.io/p/%E4%BD%BF%E7%94%A8-diff-vimdiff-excel-inquire-%E6%AF%94%E8%BC%83%E6%AA%94%E6%A1%88/</guid>
        <description>&lt;img src="https://pxchen110.github.io/post/linux-vimdiff/20240719_img0.jpg" alt="Featured image of post 使用 diff, vimdiff, excel inquire 比較檔案" /&gt;&lt;p&gt;介紹幾個比較檔案內容差異的方法&lt;/p&gt;
&lt;!-- more --&gt;
&lt;!-- toc --&gt;
&lt;h2 id=&#34;diff&#34;&gt;diff
&lt;/h2&gt;&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://man7.org/linux/man-pages/man1/diff.1.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;manual page&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;適合&lt;strong&gt;想知道檔案有無差異，不細看內部文字的工作&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;diff FILE1 FILE2
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;若只想知道檔案是否一樣，可以加:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;-q, --brief&lt;/code&gt; 會在檔案不同時輸出 &lt;strong&gt;Files FILE1 and FILE2 differ&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-s, --report-identical-files&lt;/code&gt; 在檔案相同時輸出 &lt;strong&gt;Files FILE1 and FILE2 are identical&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;預設的 stdout 會輸出兩檔案不同的地方與相互對應的行數(順序跟cmd中檔按順序相同)，如下面範例:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# diff FILE1 FILE2
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;6c6  ## diff row number in FILE1 and FILE2
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt; Date: 2024 March
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;---
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;gt; Date: 2024 Jun
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;65c67
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;     with gzip.open(out_name, &amp;#39;wt&amp;#39;, encoding = &amp;#39;utf-8&amp;#39; ) as fh:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;---
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;gt;     with open(out_name, &amp;#39;w&amp;#39;, ) as fh:
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;但這樣一行一行的輸出內容太難看，可以用 &lt;code&gt;-y, --side-by-side&lt;/code&gt; 來將比較結果輸出成兩個column的排列方式&lt;/p&gt;
&lt;p&gt;還有一個 &lt;code&gt;sdiff&lt;/code&gt; 作用等同於 &lt;code&gt;diff -y&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;vimdiff-vim--d&#34;&gt;vimdiff (vim -d)
&lt;/h2&gt;&lt;p&gt;適合&lt;strong&gt;想詳細比較程式碼版本間差異的工作&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vimdiff FILE1 FILE2
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;code&gt;vimdiff&lt;/code&gt; (相當於 &lt;code&gt;vim -d&lt;/code&gt;) 會先以 vim 開啟兩份目標檔案後，再一行行對照檔案間的差異，若有內文不同、刪減、空行等差異情況會以顏色標示呈現&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/linux-vimdiff/20240719_img1.png&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;可以使用 &lt;code&gt;[c&lt;/code&gt; 和 &lt;code&gt;]c&lt;/code&gt; 跳轉至前後不同處，此外也可直接進入 insert 模式來修改文檔&lt;/p&gt;
&lt;h2 id=&#34;excel-增益集-inquire-功能&#34;&gt;Excel 增益集 Inquire 功能
&lt;/h2&gt;&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://support.microsoft.com/zh-tw/office/%E9%96%8B%E5%95%9F-inquire-%E5%A2%9E%E7%9B%8A%E9%9B%86-6bc668e2-f3c6-4729-8ce1-75ea20aa9d90&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Microsoft 官方的說明網頁&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;適合&lt;strong&gt;檔案較小，格式固定，且&lt;del&gt;喜愛做手工&lt;/del&gt;的你&lt;/strong&gt;
進入excel後，點選左下角的&lt;strong&gt;選項&lt;/strong&gt;會跳出以下畫面:&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/linux-vimdiff/20240719_img2.png&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;點選黃色標示的&lt;strong&gt;增益集&lt;/strong&gt;後，依序選擇:
管理 -&amp;gt; COM 增益集 -&amp;gt; 點選 &lt;strong&gt;Inquire&lt;/strong&gt; -&amp;gt; 點選右下角&lt;strong&gt;確定&lt;/strong&gt;儲存&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/linux-vimdiff/20240719_img3.png&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;接著同時開啟目標檔案，這時會發現工具欄多了一個&lt;strong&gt;Inquire&lt;/strong&gt;的選項
點選&lt;strong&gt;比較檔案&lt;/strong&gt;會跳出選擇比較檔名的視窗&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/linux-vimdiff/20240719_img4.png&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;輸出可分兩大部分檢視:
上部分為目標兩檔案的表格，詳細列給使用者，並以顏色標示不同處
顏色根據不同的資料類別區分，如圖中的綠色指的是 &amp;rsquo;entered value&amp;rsquo;　數值不同&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/linux-vimdiff/20240719_img5.png&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;若不同之處較多，參考長條圖的統計數量比較有意義。&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Recent docker notes</title>
        <link>https://pxchen110.github.io/p/recent-docker-notes/</link>
        <pubDate>Thu, 04 Jul 2024 00:00:00 +0000</pubDate>
        
        <guid>https://pxchen110.github.io/p/recent-docker-notes/</guid>
        <description>&lt;img src="https://pxchen110.github.io/post/docker-notes/20240704_img0.png" alt="Featured image of post Recent docker notes" /&gt;&lt;p&gt;記錄最近跑 docker / singularity 的指令&lt;/p&gt;
&lt;!-- more --&gt;
&lt;h2 id=&#34;引入本機資料&#34;&gt;引入本機資料
&lt;/h2&gt;&lt;p&gt;在container內使用外部檔案，設定 &lt;code&gt;--volume&lt;/code&gt; 或 &lt;code&gt;-v&lt;/code&gt; 並指定在container可以access的路徑名稱，例如:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;## my input file: /path/to/input/input.txt
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker run -v /path/to/input:/data my_container:latest -input /data/input.txt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;singularity 也有相似指令 &lt;code&gt;--bind&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;singularity exec --bind /path/to/input:/data,/path/to/other:/index my_sing.sif -input /data/input.txt -output /index 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;修改寫入權限&#34;&gt;修改寫入權限
&lt;/h2&gt;&lt;p&gt;有時遇到 docker 輸出檔案的權限為 &lt;strong&gt;root&lt;/strong&gt; ，若以後要修改刪除等操作會不方便，使用 &lt;code&gt;--user $(id -u):$(id -g)&lt;/code&gt; 來將輸出的owner, group 權限給下指令的使用者，例如:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker run -it -rm -v /path/to/input:/data --user $(id -u):$(id -g) my_container:latest -input /data/input.txt -output /data/output.txt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;若owner為使用者，之後還可通過linux &lt;code&gt;chgrp&lt;/code&gt; 修改 group 權限&lt;/p&gt;
&lt;h2 id=&#34;其他指令&#34;&gt;其他指令
&lt;/h2&gt;&lt;p&gt;加上 &lt;code&gt;--rm&lt;/code&gt; 讓container執行完一併刪除
加上 &lt;code&gt;--it&lt;/code&gt; 進入互動模式，但有可能出現 &lt;code&gt;the input device is not a TTY&lt;/code&gt; 錯誤&lt;/p&gt;
&lt;h2 id=&#34;用-dockerfile-建立-docker-並使用&#34;&gt;用 Dockerfile 建立 docker 並使用
&lt;/h2&gt;&lt;p&gt;前陣子使用某docker遇到bug無法執行成功，因此稍微修改他的dockerfile -&amp;gt; push至dockerhub -&amp;gt; pull 回來使用
註1: 以下有匿名處理 docker name 請參考code就好XD
註2: 需要註冊 &lt;a class=&#34;link&#34; href=&#34;https://hub.docker.com/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://hub.docker.com/&lt;/a&gt; 才能push
註3: &lt;a class=&#34;link&#34; href=&#34;https://ithelp.ithome.com.tw/articles/10192824&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;my references&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;首先登入dockerhub 建立新專案&lt;/p&gt;
&lt;p&gt;回到linux建立docker&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;## cd to dockerfile directory and build docker
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker build -t local/origin_docker_fixed:latest .
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;## need user login 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker login
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;## rename docker tag (origin TAG is &amp;lt;none&amp;gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;## the image name may be the same as the repository we created
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker tag 53a8d0dbxxxx pxchen/origin_docker_fixed
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;## check 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker image ls
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;## push to the existing repository
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker push pxchen112/msisensor-pro-fixed
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;回到 dockerhub，點進去看push的image 以及Dockerfile layer&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/docker-notes/20240704_img1.png&#34;  width=&#34;600&#34;&gt;
&lt;h3 id=&#34;常用的-image-base&#34;&gt;常用的 image base
&lt;/h3&gt;&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th&gt;基礎映像&lt;/th&gt;
          &lt;th&gt;標籤&lt;/th&gt;
          &lt;th&gt;特點&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td&gt;Alpine Linux&lt;/td&gt;
          &lt;td&gt;&lt;code&gt;alpine:latest&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;輕量、安全、適合容器化應用，小映像大小&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;Ubuntu&lt;/td&gt;
          &lt;td&gt;&lt;code&gt;ubuntu:latest&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;廣泛使用的 Linux 發行版，功能豐富&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;CentOS&lt;/td&gt;
          &lt;td&gt;&lt;code&gt;centos:latest&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;穩定、適用於企業級應用，基於 RHEL&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;Debian&lt;/td&gt;
          &lt;td&gt;&lt;code&gt;debian:latest&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;穩定，有廣泛的套件庫&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;Scratch&lt;/td&gt;
          &lt;td&gt;&lt;code&gt;scratch&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;最小化基礎映像，不包含操作系統&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;Golang&lt;/td&gt;
          &lt;td&gt;&lt;code&gt;golang:latest&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;包含 Go 程序語言和開發工具的基礎映像&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;Node.js&lt;/td&gt;
          &lt;td&gt;&lt;code&gt;node:latest&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;包含 Node.js 環境的基礎映像&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;將建立好的-docker-存成-tar-檔並加載到其他環境&#34;&gt;將建立好的 docker 存成 tar 檔並加載到其他環境
&lt;/h2&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-gdscript3&#34; data-lang=&#34;gdscript3&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;docker&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;save&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;o&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;yourdocker&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tar&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;local&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;origin_docker_fixed&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;latest&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;docker&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;load&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;yourdocker&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tar&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;</description>
        </item>
        <item>
        <title>生資系列：確校資料集 Benchmarking truth set</title>
        <link>https://pxchen110.github.io/p/%E7%94%9F%E8%B3%87%E7%B3%BB%E5%88%97%E7%A2%BA%E6%A0%A1%E8%B3%87%E6%96%99%E9%9B%86-benchmarking-truth-set/</link>
        <pubDate>Thu, 06 Jun 2024 00:00:00 +0000</pubDate>
        
        <guid>https://pxchen110.github.io/p/%E7%94%9F%E8%B3%87%E7%B3%BB%E5%88%97%E7%A2%BA%E6%A0%A1%E8%B3%87%E6%96%99%E9%9B%86-benchmarking-truth-set/</guid>
        <description>&lt;img src="https://pxchen110.github.io/post/bioinfo-benchmarking/20240606_img0.png" alt="Featured image of post 生資系列：確校資料集 Benchmarking truth set" /&gt;&lt;p&gt;當團隊開發一套新工具，要如何評估工具的準確度?這時需要一組可信度高的正確資料集來協助衡量(benhcmark)工具表現，以下介紹在人類基因體常用的資料集來源。&lt;/p&gt;
&lt;!-- more --&gt;
&lt;!-- toc --&gt;
&lt;h2 id=&#34;giab&#34;&gt;GIAB
&lt;/h2&gt;&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.nist.gov/programs-projects/genome-bottle&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Genome In A Bottle Consotrium&lt;/a&gt; 由美國國家標準與技術研究所 (NIST) 主持的計畫，主要提供人類基因體相關的標準品與正確資料集(truth set):&lt;/p&gt;
&lt;p&gt;標準品主要從NIGMS Human Genetic Cell Repository挑選cell line 來產生，共有7個樣本(HG001-HG007)，標準品的編號和族群、家族關係等整理如下表:&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/bioinfo-benchmarking/20240606_img1.png&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;(table collected from &lt;a class=&#34;link&#34; href=&#34;https://www.coriell.org/1/NIGMS/Collections/NIST-Reference-Materials&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Coriell Institute for medical research&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;製作正確資料集首先需要不同定序平台與偵測工具的檔案來源、在生資分析上也需要做好品質篩選(QC)、變異的比對合併(merging)以及基因型計算(genotyping)過程可說耗費精力。GIAB不僅提供多個標準品的正確資料集，也致力於提供不同種變異類型/參考序列的資料集，目前官網有提到以下幾種:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Structural variants&lt;/strong&gt;: Currently available for HG002 on GRCh37 and in Challenging Medically Relevant Gene benchmark below&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Small variants&lt;/strong&gt; in more difficult regions: v4.2.1 is available for all 7 GIAB samples on GRCh37 and GRCh38 (manuscript).&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;MHC&lt;/strong&gt;: Included in v4.2.1 small variant benchmark for HG001-HG007 (Manuscript describing MHC benchmark)&lt;/p&gt;
&lt;p&gt;273 Challenging Medically Relevant Genes small variant and SV benchmarks in HG002 and Preliminary benchmark for T2T-CHM13v1.0&lt;/p&gt;
&lt;p&gt;v1.0 TR benchmark for HG002 indels and SVs &amp;gt;=5bp in &lt;strong&gt;tandem repeats&lt;/strong&gt; on GRCh38 (preprint)&lt;/p&gt;
&lt;p&gt;v1.0 XY benchmark for HG002 small variants in &lt;strong&gt;chromosomes X and Y&lt;/strong&gt; on GRCh38 (preprint)&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;GIAB團隊以令人驚訝的速度前進，久沒關注竟然有針對tandem repeat跟性染色體的truth set，目前僅先釋出資料集給研究者，論文似乎還在preprint階段&lt;/p&gt;
&lt;h3 id=&#34;資料下載&#34;&gt;資料下載
&lt;/h3&gt;&lt;p&gt;如果想要truth set，可以直接從ftp網站找檔案下載使用: &lt;a class=&#34;link&#34; href=&#34;https://ftp-trace.ncbi.nlm.nih.gov/ReferenceSamples/giab/release/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://ftp-trace.ncbi.nlm.nih.gov/ReferenceSamples/giab/release/&lt;/a&gt;
或是去 GitHub 查看感興趣的標準品目前有沒有對應的 truth set: &lt;a class=&#34;link&#34; href=&#34;https://github.com/genome-in-a-bottle/giab_latest_release&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://github.com/genome-in-a-bottle/giab_latest_release&lt;/a&gt;
兩個路徑都行，&lt;del&gt;反正最後都會引導到相同的地方&lt;/del&gt;&lt;/p&gt;
&lt;p&gt;實際找個HG002 SNV/indel GRCh38 truth set來看，透過層層資料夾點選，最終找到目標VCF檔:&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/bioinfo-benchmarking/20240606_img2.png&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;如果想要看開源的標準品fastq, bam 等檔案，以拿來當作測試工具的input，可以至以下網站查詢: &lt;a class=&#34;link&#34; href=&#34;https://github.com/genome-in-a-bottle/giab_data_indexes&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://github.com/genome-in-a-bottle/giab_data_indexes&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;網站也是先依族群分標準品，然後分定序平台和檔案類型:&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/bioinfo-benchmarking/20240606_img3.png&#34;  width=&#34;600&#34;&gt;
&lt;h2 id=&#34;somatic-truth-set&#34;&gt;Somatic truth set
&lt;/h2&gt;&lt;p&gt;上述可能針對human germline variant 為主，而想做somatic caller benchmarking 的話該如何?最近找到&lt;a class=&#34;link&#34; href=&#34;https://www.biostars.org/p/9558720/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;一個Biostar的討論&lt;/a&gt;，裡面有提到兩篇釋出somatic truth set的文章，一個是WGS, 一個針對panel，最近準備來讀:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Fang, L.T., Zhu, B., Zhao, Y. et al. Establishing community reference samples, data and call sets for benchmarking cancer mutation detection using whole-genome sequencing. Nat Biotechnol 39, 1151–1160 (2021). &lt;a class=&#34;link&#34; href=&#34;https://doi.org/10.1038/s41587-021-00993-6&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://doi.org/10.1038/s41587-021-00993-6&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;Jones, W., Gong, B., Novoradovskaya, N. et al. A verified genomic reference sample for assessing performance of cancer panels detecting small variants of low allele frequency. Genome Biol 22, 111 (2021). &lt;a class=&#34;link&#34; href=&#34;https://doi.org/10.1186/s13059-021-02316-z&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://doi.org/10.1186/s13059-021-02316-z&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;h2 id=&#34;討論&#34;&gt;討論
&lt;/h2&gt;&lt;p&gt;過去在沒有資料及整合釋出前，會使用模擬資訊來作為正確答案；之後可能會使用同時具有WGS, WES等不同定序結果的樣本，透過不同層級的證據來驗證變異真實存在，或是使用sanger sequencing等實驗做驗證，但缺點為無法一次比較出結果，且驗證樣本的品質等因素也會影響評估結果。&lt;/p&gt;
&lt;p&gt;若對truth set 流變和其他團隊製作的truth set感興趣的話，可閱讀2023年這篇 review paper:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Majidian, S., Agustinho, D.P., Chin, CS. et al. Genomic variant benchmark: if you cannot measure it, you cannot improve it. Genome Biol 24, 221 (2023). &lt;a class=&#34;link&#34; href=&#34;https://doi.org/10.1186/s13059-023-03061-1&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://doi.org/10.1186/s13059-023-03061-1&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;文章的corresonding author Fritz J. Sedlazeck 和 Medhat Mahmoud 都是 GIAB 的團隊領導，也參與美國許多定序計畫如All of US, T2T consortium 等&lt;/p&gt;
&lt;p&gt;不過雖然說是truth set，其製作過程也是將不同平台與工具偵測的結果經由比對，篩選留下的consensus cell-set，若未來隨著定序技術進步，如PacBio, Nanopore等long-read定序資料占比提高，一定會有更多位點被偵測到，或是篩掉某些位點；另外不同參考序列的取捨，也會影響留在truth set的位點資訊，如從GRCh37 truth set 經由座標轉換(liftover)至 GRCh38 後，拿來benchmark GRCh38 detected test set 就會有一些潛在無法比對的區域，導致false positive 數量增加。&lt;/p&gt;
&lt;p&gt;而有正確解答和代測檔案，就可以找做benchmarking的工具了，如 snv/indel比對的hap.py等，有機會可以寫一篇來介紹。&lt;/p&gt;
</description>
        </item>
        <item>
        <title>澳門獨旅紀行</title>
        <link>https://pxchen110.github.io/p/%E6%BE%B3%E9%96%80%E7%8D%A8%E6%97%85%E7%B4%80%E8%A1%8C/</link>
        <pubDate>Thu, 30 May 2024 00:00:00 +0000</pubDate>
        
        <guid>https://pxchen110.github.io/p/%E6%BE%B3%E9%96%80%E7%8D%A8%E6%97%85%E7%B4%80%E8%A1%8C/</guid>
        <description>&lt;img src="https://pxchen110.github.io/post/travel-macau/20240530_img1.jpg" alt="Featured image of post 澳門獨旅紀行" /&gt;&lt;img src=&#34;https://pxchen110.github.io/post/travel-macau/20240530_img1.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;相信自己做的到，當自己最好的旅伴。
距離上次旅行彷若隔世，想探索世界的心早已按奈不住。趁演唱會衝動book咗澳門的機票&amp;hellip;&amp;hellip;&lt;/p&gt;
&lt;!-- more --&gt;
&lt;p&gt;約莫2個小時降落澳門機場。花一段時間等入境海關，但行李轉盤就在檢查口旁邊，再五十公尺就是入境口，拎好行李大約30秒出關，先到離境層加值澳門通，店員收到港幣會提醒你不補水找澳門幣。轉乘輕軌前往媽閣站。大約10分鐘一班車，車廂只有兩截短小精幹，沿著賭場繞行一圈欣賞金碧輝煌的建築群後逐漸駛向住宅區，景色變化為一幢幢屋邨高樓，最後潛入地下直達位於澳門半島的媽閣(去年輕軌才通車到此)，據說也是葡萄牙人登入的海口(Macau中文直譯的部分)。出站後直接去地下一層的媽格交通樞紐站搭公車，那裏規劃的跟京站轉運站相似，告示牌清楚引導站牌位置，飯店鄰近下環街市，很多公車都能到相當方便；公車駛出地下道、媽閣碼頭與高聳的澳門塔映入眼簾，也可看見對岸珠海市的高樓大廈。順利入住發現時間比預期還早，稍做整理準備展開散步行程。&lt;/p&gt;
&lt;p&gt;飯店接近下環街市，即使下午2點仍很多攤販營業，使用Google map導航定位超級不精準，迷路個七葷八素後，才發現連營業時間都有誤，明明標示營業至晚上8時，抵達時店家已鐵門半掩在刷地。改往方案b前進，沿路欣賞各式陽台鐵窗花，因潮濕而灰髒的牆面，以及約1.5層樓高的騎樓街景。抵達司打口附近的榮輝咖啡店，店家風格復古，透過玻璃門可見好多本地人在裡面用餐，二樓入座古早沙發雅座，菜單品項很多，飲料部分大部分品項都沒看過，點了一碗馳名雞湯米，份量超級多且熱氣騰騰，湯頭第一口相當驚豔，因平常家裡有燉湯的習慣，所以能明白什麼是雞湯粉什麼是用雞肉熬煮的湯頭，放入薑末紅棗共熬更加香濃美味；雞肉感覺有裹粉表皮滑順不柴，米線q軟，雖不吸湯汁但很好吃，滿足的把湯全部喝光才離開，一碗真材實料39澳幣很滿意。&lt;/p&gt;
&lt;p&gt;吃飽飯才有體力迷路，從司打口試圖走到議事亭前，鑽小巷誤打誤撞來到杏仁餅名店最香餅家，店門口站了一坨人，手中號碼牌估計也要2小時後才能入場便果斷放棄XD途中經過一家菲律賓麵包，造型樸實的小圓麵包堆疊在櫥窗，前面顧客買了一大袋讓人好奇味道如何，買一個巧克力口味試吃。抵達議事亭前地，建築風個彷彿來到歐洲小鎮，一旁摩托車油門與手信店招呼聲拉回現實。由於人潮眾多便快速移往主教座堂休憩，內部寧靜如世外桃源，信徒虔誠祈禱抑或歌頌聖歌，獲得一方喘息空間。滑地圖發現這裡有澤賢記雞蛋仔，買一個經典葡塔味等待約四十分鐘拿到：剛出爐的外皮酥脆麵粉香十足，蛋塔內餡稍微融化，兩者搭配產生1+1 &amp;gt; 2的美味，非常推薦趁熱全吃完。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-macau/20240530_img2.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;尋找回飯店附近的水尾坑公車站，鄰近下班放學時段決定到附近的東望洋新街再回去，拐入側巷進入新街市，街頭小食，快餐飲食店，燒臘店等充滿準備用餐的人群，而東望洋新街位於前方階梯的高處，頓時兩眼一黑，以蝸牛爬行的速度前進，每抵達一層平台，便會張望兩旁巷弄的風景：有些小店林立如驚喜包一樣有趣，有些則銜接另一個深不見底的巷弄與樓梯，這邊居民應該很適應爬坡生活。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-macau/20240530_img3.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;從制高點往下看，風景也很棒。&lt;/p&gt;
&lt;p&gt;終於爬上東望洋街，景色果然不辜負一路的辛苦：金碧輝煌的蓮花狀高樓儼然直立於街市盡頭，而兩側深色調的公寓並排林立，仿若兩個世界偶然重疊於同一平面的錯覺。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-macau/20240530_img4.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;打卡照@東望洋新街&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;晚上散步至媽閣碼頭，遇到一隻非常熱情的大狗，主人說牠很親人，果然被蹭一大圈加上舔手，太過可愛&amp;gt;&amp;lt; 當時天色尚早，站在湖畔步道遙望珠海市景，轉往澳門一側可見高聳的澳門塔，這一刻也好慎重的告訴自己：相信透過一次次的經歷，你會越來越勇敢的 All is well !&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-macau/20240530_img5.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;到超市 grocery shopping，發現澳門這裡大小超市密集，小超市的家常味濃厚，很多街坊鄰居來店不一定是買東西，而是特地來跟店員話家常。大超市有些24小時營業，價格也比較便宜，挑了一家大的來逛，零食區跟台灣接近，挑了一包熱浪薯片嘗試，出前一丁有很多口味，一包3.7澳幣適合抓幾包當紀念，也挑了不同口味的維他奶試味道。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;第二天早上從議事亭前開始，昨日擁擠的廣場如今空無一人，連噴泉都還沒開啟準備迎接人潮，一路舒服的往大三巴牌坊前進，伴手禮店家尚未開張，可以觀察岔路旁的住宅與垂直向上疊加的鐵窗人家。早上7點的大三巴相當空曠，能夠好好拍照，幸運的找到一張長椅架設手機，可以同時拍下整個牌坊加上全身的取景位置，連續拍了好幾十張到此一遊照。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-macau/20240530_img6.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;絕佳機位與完整的大三巴，天時地利人和。&lt;/p&gt;
&lt;p&gt;一旁的澳門博物館十點開門，便先去附近找早餐，一家冰室的櫥窗擺放的甜點相當誘人，買了木糠布丁坐在玫瑰聖母堂（板樟堂）前吃，鮮奶油與餅乾屑相互疊加的葡式甜點，可能還沒吃鹹的開胃，布丁到最後有點膩，趕緊跑去萬利洪記吃一碗熱湯麵，店門口擺放煮麵台和高湯，飄香百里令人開胃，點一碗牛腩筋麵，第一口及被鮮美的湯頭征服；全蛋麵體雖細長但有嚼勁，配上湯和牛肉一口接一口，直到整碗吃光謝謝招待。題外話，澳門小吃店大部分都會掛不補水的標示，即使用港幣或人民幣付錢，店家會找澳門幣回來，有些店家很好會盡量優先找港幣給你。&lt;/p&gt;
&lt;p&gt;待10點返回澳門博物館，方才空蕩的大三巴牌坊已經被人填滿，從公園看去人群密集甚至有些不透光，博物館有手扶梯可直上炮台節省體力，砲台廣場視野不錯，盡情欣賞澳門本島風景。剛好遇到博物館免費參觀進去繞一圈，很好笑的是他的出入口在三樓且只能從一部非常窄的電梯抵達出口，導致一坨人在排電梯離場，一群港澳台遊客還共同體驗了一次電梯晃動驚魂記。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-macau/20240530_img7.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;窺探。澳門塔。&lt;/p&gt;
&lt;p&gt;下午去南灣湖旁散步吃飯，轉乘23號公車前往半島的賭場酒店區見世面，一下車四面八方被金碧輝煌的建築包圍，好多人在此打卡拍照，永利澳門整點有表演，大約40分抵達天幕廣場，富貴樹前的海景第一站已經沒位子了！表演過程令人震驚，也體會到賭場的氣派豪邁，而後乘坐免費接駁車往永利皇宮所在的賭場區前進。&lt;/p&gt;
&lt;p&gt;進去賭場開開眼界，在美高梅入口被查身份證，覺得自己看起來還年輕很開心XD，賭場內氣氛高昂，很多的賭桌與遊戲內容，服務員們忙碌地收籌碼與開局，令人想起周潤發之類的賭神電影。來此的第二目的便是免費小點心，真如網友所說哈根達斯伸手就有，還附贈一包小餅乾跟蛋黃酥，旁邊還有黑糖珍珠鮮奶可以喝，拎著一杯飲料在裡面亂晃，久了有點頭暈便先行離場，看時間差不多到銀河綜藝館前領取應援，結束後身體疲憊搭輕軌回去，沿路欣賞入夜仍燈火通明的酒店群，而本島是另一種形式的喧囂，繁忙車潮與宵夜場次的嗨放，澳門真是一個24小時都熱鬧的地方。&lt;/p&gt;
&lt;p&gt;試圖像本地人用塑膠袋提著超市買的飲料走在路上，下環街市晚上有蠻多小店營業，站在外面觀望茶室內富有年代感的餐桌椅組，鮮豔的橘色皮椅墊和塑膠橘筷相互搭配，忍不住說上幾句“唔該埋單”；霓虹燈招牌一閃一滅，想起以前衛視中文台的香港電影；狹窄的巷弄岔路，只有一盞黃燈撐住整條路的光明，既幽暗又充滿生活氣息。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-macau/20240530_img8.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;下環街市一隅。&lt;/p&gt;
&lt;p&gt;第三天早上前往城市美食快餐店用餐，7點進去裡面已近乎滿座，阿伯阿姨們已經吃完主餐正喝咖啡閒聊，店員帶我到一個複合式座位，同桌另外兩位阿嬤也是一人前來。店員拿來猶如排列組合攤開後的滿字菜單，不過早餐只要看其中兩頁就好。點了豬扒飽跟熱奶茶後，店員端上一杯冒煙的茶水，一開始有點緊張便慣性的抓起那杯茶飲一口（後來隔壁阿嬤把餐具放進去洗超級糗的）很快餐點到齊，現炸的帶骨豬扒火候掌握剛好，外酥內軟，麵包抹上奶油烤的酥脆，雖然很美味但份量一如繼往的大，光吃麵包我就快飽了，一個人旅行的難處也正是吃一份就沒戰鬥力。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-macau/20240530_img9.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;豬扒包早餐，還有另外一種叫吉列豬扒，就是裹粉下去炸的豬排&lt;/p&gt;
&lt;p&gt;結束去媽閣廟附近消食，稍微參拜後外頭有點飄雨，趕緊拿行李前往路氹，氹仔，從威尼斯人可走平面扶梯到官也街後端，買好指定伴手禮安德魯蛋塔後去龍環葡韻的濕地公園散心，吃完順道買的芒果糯米滋（～包一半新鮮芒果的麻糬？）就準備回家啦。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-macau/20240530_img10.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;排角輕軌站風景，這裡的軌道都是架高的，左邊銀河酒店右邊官也街市&lt;/p&gt;
&lt;p&gt;一些小後記與觀察：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;澳門通很方便，有時在店家甚至比信用卡還好用XD，一開始儲值200結果搭車可能用不到 40 ，甚至最後在安德魯花掉幾乎所有的餘額&lt;/li&gt;
&lt;li&gt;麥當勞“走塑”政策，遇到傳說中的木製環保餐具，那個湯匙跟小美冰淇淋一樣扁平，一口湯都盛不起來&lt;/li&gt;
&lt;li&gt;店家門口會有兩種神明桌（？）放在地上的牌坊是門口土地公，掛在牆上的會寫天官賜福&lt;/li&gt;
&lt;li&gt;買東西的的時候用國語說謝謝，有些姐姐會溫柔的回我不客氣，下一秒面對另外來客會馬上切換到廣東話聊天，是本地人雷達（？&lt;/li&gt;
&lt;li&gt;快餐店員眼疾手快效率超高，隔壁阿嬤才剛吃飽放下筷子，餐盤就被收走啦&lt;/li&gt;
&lt;li&gt;很多住家的鐵窗都有掛一個方形物體，上面黏著很多會轉的風車，查了下是新年風車，在新年可以去媽閣廟市集買，好喜歡&lt;/li&gt;
&lt;li&gt;公車會顯示目前的時速，可以知道司機究竟開多快(?&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>生資系列： gnomAD v3 database 介紹</title>
        <link>https://pxchen110.github.io/p/%E7%94%9F%E8%B3%87%E7%B3%BB%E5%88%97-gnomad-v3-database-%E4%BB%8B%E7%B4%B9/</link>
        <pubDate>Thu, 23 May 2024 00:00:00 +0000</pubDate>
        
        <guid>https://pxchen110.github.io/p/%E7%94%9F%E8%B3%87%E7%B3%BB%E5%88%97-gnomad-v3-database-%E4%BB%8B%E7%B4%B9/</guid>
        <description>&lt;img src="https://pxchen110.github.io/post/bioinfo-gnomad-v4/20240523_img1.png" alt="Featured image of post 生資系列： gnomAD v3 database 介紹" /&gt;&lt;p&gt;(Image from &lt;a class=&#34;link&#34; href=&#34;https://gnomad.broadinstitute.org/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;gnomAD&lt;/a&gt; website)&lt;/p&gt;
&lt;p&gt;上一篇文章著重討論 The Genome Aggregation Database (gnomAD) v3 版內容介紹，本文將介紹去年11月更新之&lt;strong&gt;gnomAD v4&lt;/strong&gt; (以及部分今年4月更新之 &lt;strong&gt;v4.1&lt;/strong&gt;)。&lt;/p&gt;
&lt;!-- more --&gt;
&lt;!-- toc --&gt;
&lt;h2 id=&#34;樣本收集&#34;&gt;樣本收集
&lt;/h2&gt;&lt;p&gt;下表整理不同版本間使用的樣本數與參考序列，最大的更新為: &lt;strong&gt;v4 增收 416,555 UK Biobank WES data&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;version&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;reference&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;(type)sample size&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;gnomAD v2.1&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;GRCh37&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;(WES) 125,748 ; (WGS) 15,708&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;gnomAD-SV v2.1&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;GRCh37&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;(WGS) 10,847&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;gnomAD v3.1&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;GRCh38&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;(WGS) 76,156&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;gnomAD v4.0&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;GRCh38&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;(WES) 730,947 ; (WGS) 76,215&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;gnomAD-SV v4.0&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;GRCh38&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;(WGS) 63,046&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;gnomAD-CNV v4.0&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;GRCh38&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;(WES) 464,297&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;從官網的統計圖表可清楚了解族群數量分布，由於UK Biobank 樣本以 European 為大宗，合併至 v4 使 European Ancestry比例偏高接近80%
另外值得注意的是 EAS 樣本數有大進展，從前幾版的不到萬人增至2萬初，能協助修正 allele frequency 的預估結果&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/bioinfo-gnomad-v4/20240523_img2.jpg&#34;  width=&#34;600&#34;&gt;
&lt;h2 id=&#34;v4-與-v3-差異&#34;&gt;v4 與 v3 差異
&lt;/h2&gt;&lt;h3 id=&#34;取消-subset-釋出&#34;&gt;取消 subset 釋出
&lt;/h3&gt;&lt;p&gt;過去v3樣本來自多種cohort，為提供研究者作為疾病研究的control，gnomAD v3 有釋出多種subsets，如: non-cancer subset 為排除罹患癌症或從相關 cohort study收集來的樣本群(更多介紹可參考前篇文章)。
&lt;strong&gt;在v4版本僅有釋出non-UKBB subset&lt;/strong&gt;，且僅提供allele frequency資訊給研究者做累加使用。下面文字截自gnomAD v4 SNV chrY VCF檔的INFO field，可以看到&lt;strong&gt;每個population都有拆分另外一組non-UKB的(prefix: non_ukb) 數據:&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;AC_afr_XY=0;AN_afr_XY=0;nhomalt_afr_XY=0;AC_afr=0;AN_afr=0;nhomalt_afr=0;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;AC_eas_XY=0;AN_eas_XY=0;nhomalt_eas_XY=0;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;AC_non_ukb_afr_XY=0;AN_non_ukb_afr_XY=0;nhomalt_non_ukb_afr_XY=0;AC_non_ukb_afr=0;AN_non_ukb_afr=0;nhomalt_non_ukb_afr=0;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;AC_non_ukb_eas_XY=0;AN_non_ukb_eas_XY=0;nhomalt_non_ukb_eas_XY=0;AC_non_ukb_eas=0;AN_non_ukb_eas=0;nhomalt_non_ukb_eas=0;...
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;此外若有使用註解 gnomAD 資料庫的工具如 dbnsfp，則可以明顯看到在資料庫版本更新後，就不會有  &lt;code&gt;gnomAD_exomes_non_cancer&lt;/code&gt; 類似欄位產生，只會剩下 &lt;code&gt;gnomAD_exomes_non_ukb&lt;/code&gt; 等欄位&lt;/p&gt;
&lt;p&gt;而v4取消製作subset原因包含:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;研究特定疾病如cancer、neuro-disease等，這些疾病的盛行率並不會過高到需要透過(乾淨的?) subsets 來做比對與分析，建議直接使用 gnomAD metadata 來協助研究&lt;/li&gt;
&lt;li&gt;新加入的 UK Biobank 或是部分 cohort samples 並沒有完整 phenotype 資料，無法明確的區分樣本的疾病狀態&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;filtering-allele-frequency-faf&#34;&gt;filtering allele frequency (FAF)
&lt;/h3&gt;&lt;p&gt;將 WES 和 WGS 的 allele count 合併計算之 allele frequency，稱作 filtering allele frequency&lt;/p&gt;
&lt;h2 id=&#34;v4-exome-分析流程&#34;&gt;v4 exome 分析流程
&lt;/h2&gt;&lt;p&gt;(WGS 流程可參照 gnomAD v3版作法)
由於 v4 最大進展在於 exome callset 樣本數的提升，因此後續分析流程也有些更新:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;joint callset 由原本的 gVCF 格式轉為 VariantDataset (VDS) 格式儲存&lt;/li&gt;
&lt;li&gt;增加 &lt;strong&gt;interval QC&lt;/strong&gt; 以確保目標區段擁有足夠的&lt;strong&gt;深度&lt;/strong&gt;判別變異: 官網提供一組 &lt;a class=&#34;link&#34; href=&#34;https://gnomad.broadinstitute.org/help/what-are-your-calling-intervals-what-intervals-are-used-for-the-genomes-coding-only-files&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;interval list&lt;/a&gt;，左右延伸(padding) 50bp 後計算每個樣本在這些區段的平均深度。最後將 &amp;gt;85% 樣本擁有 &amp;gt;20X 深度的區段定義為 high coverage intervals&lt;/li&gt;
&lt;li&gt;為 sample QC 定義 &lt;strong&gt;high qulaity site&lt;/strong&gt;:為判斷樣本族群來源、親緣關係或定序品質，gnomAD v4從幾個資料集挑選 high quality sites (n = 175,043) 協助樣本QC:
&lt;ul&gt;
&lt;li&gt;屬於 autosomal, biallelic, single nucleotide variants (SNVs)&lt;/li&gt;
&lt;li&gt;位於 gnomAD v3, CCDG, 以及 UK Biobank dataset 的位點紀錄&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;sample QC: 使用上面這些high quality site進行以下幾個重點QC
&lt;ul&gt;
&lt;li&gt;hard filters: 使用新工具從 genotype data 預估 contamination 而非重新拿raw read 分析。其他也用DP, Het/Hom ratio 等數值去篩&lt;/li&gt;
&lt;li&gt;PCA clustering for exome capture platform: 由於樣本來源多樣，使用PCA區分出20種定序平台，label上潛在差異&lt;/li&gt;
&lt;li&gt;sex karyotypes&lt;/li&gt;
&lt;li&gt;relatedness between v4 exomes and genomes, and identified pairs of first and second degree relatives&lt;/li&gt;
&lt;li&gt;genetic ancestry groups&lt;/li&gt;
&lt;li&gt;QC metrics&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;variant QC by VQSR (和 v3 一樣拿大型計劃的位點做模型訓練並應用類似的篩選條件)&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;v4-sv&#34;&gt;v4 SV
&lt;/h2&gt;&lt;p&gt;和前版 v2.1相比，除了&lt;strong&gt;樣本數&lt;/strong&gt;從一萬初&lt;strong&gt;增加至超過六萬&lt;/strong&gt;、偵測位點數增加，參考序列也從 hg19/GRCh37 改成擁有 alternative contigs 的 &lt;strong&gt;GRCh38做為參考序列&lt;/strong&gt;。
偵測流程使用相同的 GATK-SV pipeline，並增進變異註解(annotation)的結果。gnomAD-SV v4 從63,046個WGS樣本中找到超過一百萬個 high-quality SVs，SV特徵的趨勢與前版本相同，多為短片段(median size 360bp)的罕見位點(96% SVs AF &amp;lt; 1%)。&lt;/p&gt;
&lt;p&gt;gnomAD-SV v4 的結果已公開至網站，可先行查詢利用；至於技術細節等內容，等研究論文發表後再來更新，根據之前使用v2.1版資料的經驗，可以再拿新的East Asian AF 來做 correlation plot，不過中間需要針對變異座標進行liftover轉換，等有空再來嘗試看看。&lt;/p&gt;
&lt;h2 id=&#34;v4-cnv&#34;&gt;v4 CNV
&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;gnomAD v4第一次釋出 CNV callset&lt;/strong&gt;。也代表未來關於致病位點的研究，可往大片段缺失的偵測目標前進，並擁有 general population 資訊可參考。目前收錄從 464,297 WES data 找到之 rare ( AF &amp;lt;1% ) autosomal coding copy number variants (CNVs)，使用 GATK-gCNV (Babadi et al. Nat Genet, 2023) 流程偵測變異。&lt;/p&gt;
&lt;p&gt;簡單順一下分析流程，主要利用比對至參考序列的BAM/CRAM作為input，並計算每個 protein-coding region (target interval) 的 read count (CNV 主要以深度差異來判斷) 接著使用這些數值做 clustering ，將特徵接近的樣本歸類至同一批次(batch)做後續分析。&lt;/p&gt;
&lt;p&gt;CNV流程需要baseline來比較深度差異，通常來自 panel of normal (PoN，在somatic偵測代表tumor相對應的正常樣本) 的結果，而gnomAD 無針對特殊疾病，所以採隨機挑選200樣本作為Pon，之後經由QC篩選，normalization等等，最終以read depth, read count 等特徵判定基因體內的CNV events。&lt;/p&gt;
&lt;p&gt;CNV偵測流程的可信度，透過一組同時具有WES(default input), WGS (IGV validation) 和 microarray 的樣本來驗證，透過和不同開源工具比較，詳細工具的演算法與使用差異，有機會再細看比較。&lt;/p&gt;
&lt;h3 id=&#34;cnv-註釋&#34;&gt;CNV 註釋
&lt;/h3&gt;&lt;p&gt;在變異註釋方面，現今工具主要在短片段如SNV/indel方面詮釋較佳，如ensembl VEP, AnnotSv等，而CNV宜由於變異跨度大，對於現行臨床ACMG準則來說難以完整判定，且多以基因為單位個別做註釋，整體影響預測尚未完全，而gnomAD作為可能的reference dataset，也針對變異作了以下註釋:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;基本的GENCODE 註釋，並以overlap的比例判斷是否給註釋&lt;/li&gt;
&lt;li&gt;長度與exon, interval範圍跨度&lt;/li&gt;
&lt;li&gt;集合與分族群統計的AF: site count (SC), site number (SN), and site frequency (SF)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;cnv-subsets&#34;&gt;CNV subsets
&lt;/h3&gt;&lt;p&gt;和 gnomADv4 不同，由於大片段的罕見CNV位點與精神疾病有關連性，&lt;strong&gt;gnomAD CNV 有釋出兩組subsets&lt;/strong&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Due to the known enrichment of large, rare CNVs that confer substantial relative risk in neuropsychiatric phenotype
neuropsychiatric conditions: bipolar, epilepsy, schizophrenia, psychosis, and general psychiatric conditions&lt;/p&gt;&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;non-neuro (n = 418,924): 非精神疾病相關cohort樣本(neuropsychiatric conditions)，以及 biobank 樣本&lt;/li&gt;
&lt;li&gt;non-neuro-control(n = 269,919): 不同cohort內標示為control的樣本,或是biobank樣本&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;references&#34;&gt;References
&lt;/h2&gt;&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://gnomad.broadinstitute.org/news/2023-11-gnomad-v4-0/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://gnomad.broadinstitute.org/news/2023-11-gnomad-v4-0/&lt;/a&gt;
&lt;a class=&#34;link&#34; href=&#34;https://gnomad.broadinstitute.org/news/2023-11-v4-structural-variants/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://gnomad.broadinstitute.org/news/2023-11-v4-structural-variants/&lt;/a&gt;
&lt;a class=&#34;link&#34; href=&#34;https://gnomad.broadinstitute.org/news/2023-11-v4-copy-number-variants/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://gnomad.broadinstitute.org/news/2023-11-v4-copy-number-variants/&lt;/a&gt;
&lt;a class=&#34;link&#34; href=&#34;https://gnomad.broadinstitute.org/news/2019-10-gnomad-v3-0/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://gnomad.broadinstitute.org/news/2019-10-gnomad-v3-0/&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>生資系列： gnomAD v3 database 介紹</title>
        <link>https://pxchen110.github.io/p/%E7%94%9F%E8%B3%87%E7%B3%BB%E5%88%97-gnomad-v3-database-%E4%BB%8B%E7%B4%B9/</link>
        <pubDate>Thu, 16 May 2024 00:00:00 +0000</pubDate>
        
        <guid>https://pxchen110.github.io/p/%E7%94%9F%E8%B3%87%E7%B3%BB%E5%88%97-gnomad-v3-database-%E4%BB%8B%E7%B4%B9/</guid>
        <description>&lt;img src="https://pxchen110.github.io/post/bioinfo-gnomad-v3/20240516_img1.png" alt="Featured image of post 生資系列： gnomAD v3 database 介紹" /&gt;&lt;p&gt;(Image from &lt;a class=&#34;link&#34; href=&#34;https://gnomad.broadinstitute.org/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;gnomAD&lt;/a&gt; website)&lt;/p&gt;
&lt;!-- more --&gt;
&lt;!-- toc --&gt;
&lt;h2 id=&#34;計畫簡介&#34;&gt;計畫簡介
&lt;/h2&gt;&lt;p&gt;The Genome Aggregation Database (gnomAD) 前身為 2014 年發起之 Exome Aggregation Consortium (ExAC)，計畫主旨為收集外顯子定序資料(WES)進行大規模樣本分析；而 gnomAD 資料庫不僅涵蓋外顯子資料(WES)也致力於收集全基因定序(WGS)進行族群性分析，本文將介紹 gnomAD v3, v2 版的樣本收集與分析流程，並閱讀2020 年發表之 gnomAD SV 文章。&lt;/p&gt;
&lt;h2 id=&#34;樣本收集&#34;&gt;樣本收集
&lt;/h2&gt;&lt;p&gt;下表整理 gnomAD 兩種版本資料庫：&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Most of the genomes from v2 are included in v3.1.&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;version&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;reference&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;(type)sample size&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;gnomAD v2.1&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;GRCh37&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;(WES) 125,748 ; (WGS) 15,708&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;gnomAD-SV v2.1&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;GRCh37&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;(WGS) 10,847&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;gnomAD v3.1&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;GRCh38&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;(WGS) 76,156&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;資料庫的樣本由不同cohort study以及大規模基因體計畫組成，像官網提到gnomAD有部分樣本來自1000 Genome Project:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The majority of samples from the 1000 Genomes Project for which exome sequencing is available were included in v2. Whole genome sequencing from 3,202 subjects from the 1000 Genomes Project was included in gnomAD v3.1, though some were filtered out by our QC pipeline.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;樣本來源包含以下特性：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;近親樣本可同時被收錄：族群基因體學建議排除有親屬關係的樣本(如使用kinship等方式鑑定親屬關係)，而收錄家族樣本可用於驗證變異是否符合遺傳定律、並計算新發突變綠，如在面gnomAD-SV文章，就有提到使用970個&lt;strong&gt;family trio&lt;/strong&gt;(父母加一位小孩的族譜)來驗證&lt;em&gt;de novo&lt;/em&gt; mutation的比例。不過gnomAD在主要數值統計部分，為減少某allele因親緣關係干擾有先做樣本品質校正(sample QC)來排除二等親內的樣本共同被納入分析。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;統計樣本的族群來源：先前大規模基因定序計畫常有族群偏頗(population bias)的情況，而gnomAD致力於擴充非歐裔族群的樣本。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;樣本的健康狀況：資料庫的價值之一是作為不同研究的control，而control的特性就是相對於case(有特殊疾病或性狀者)、屬於沒有罹病或表現性狀的群體。gnomAD收集樣本會先將罹患罕病 (variant AF &amp;lt; 1% ) 或因單基因造成嚴重遺傳疾病者排除。但也要注意，樣本收集當下的狀態，不代表未來的健康狀態，部分樣本可能帶有晚發性疾病(age onset disease, mostly relate to me)或常見疾病(common disease, associated with multi-variant loci)的變異。&lt;strong&gt;因此gnomAD較適合作為罕病的control，但不適合作為常見疾病的control&lt;/strong&gt;。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;樣本會依據以下條件分類：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;族群來源
&lt;ul&gt;
&lt;li&gt;族群可分成super population和sub-population(只有v2版有)兩種&lt;/li&gt;
&lt;li&gt;族群以genetic similarity 分群，使用 &lt;a class=&#34;link&#34; href=&#34;https://hail.is/docs/0.2/methods/genetics.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;hwe_normalized_pca function in Hail&lt;/a&gt; principal component analysis (PCA) 分群並取前 10PC 當作 model feature&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;性別(XX, XY)&lt;/li&gt;
&lt;li&gt;資料型態(WES, WGS)&lt;/li&gt;
&lt;li&gt;特性篩選
&lt;ul&gt;
&lt;li&gt;non-cancer:排除罹患癌症或從相關cohort study收集來的樣本群&lt;/li&gt;
&lt;li&gt;non-neuro:排除罹患精神性疾病、或從相關cohort study收集來的樣本群&lt;/li&gt;
&lt;li&gt;no-TOPMed:沒有出現在TOPMed/BRAVO資料庫的樣本群，好處是計算出的allele count可直接和TOPMed合併而不用做樣本對照&lt;/li&gt;
&lt;li&gt;control(v2.1):排除掉曾經出現在常見疾病研究中、被歸類為case的樣本&lt;/li&gt;
&lt;li&gt;controls/biobanks(v3.1):在不同研究中屬於control sample、或是收錄在biobank、大規模基因體計畫(1000 Genome, HGDP, PAGE)等的樣本&lt;/li&gt;
&lt;li&gt;non-v2(v3.1):排除曾收錄在v2.1版的樣本&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;目前兩版的subsets統計如下表:&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/bioinfo-gnomad-v3/20240516_img2.jpg&#34;  width=&#34;600&#34;&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/bioinfo-gnomad-v3/20240516_img3.jpg&#34;  width=&#34;600&#34;&gt;
&lt;h2 id=&#34;分析流程&#34;&gt;分析流程
&lt;/h2&gt;&lt;p&gt;gnomAD的主要利用雲端平台&lt;a class=&#34;link&#34; href=&#34;https://support.terra.bio/hc/en-us/sections/360007274612&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Terra&lt;/a&gt; 進行分析，前部分的處理依照&lt;a class=&#34;link&#34; href=&#34;https://gatk.broadinstitute.org/hc/en-us/sections/360007226651-Best-Practices-Workflows&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;GATK best practice&lt;/a&gt;；分析的最小單位是 sample，中間會將幾百個樣本合併為一批次(batch)進行分析，最終合併成 joint callset。&lt;/p&gt;
&lt;p&gt;由於資料量龐大，為確保最終釋出的變異集有高特異性（specificity，即記載的都為真），分析過程使用嚴謹的校正(variant QC)，下部分介紹這些QC內容。&lt;/p&gt;
&lt;h3 id=&#34;sample-qc&#34;&gt;Sample QC
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;Hard filters: filter by civerage(&amp;gt;18X), Het/Hom ratio&lt;/li&gt;
&lt;li&gt;inferring sex using normalized coverage on chromosome X and Y&lt;/li&gt;
&lt;li&gt;relatedness and ancestry assignments&lt;/li&gt;
&lt;li&gt;QC metrics&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;variant-qc&#34;&gt;Variant QC
&lt;/h3&gt;&lt;p&gt;進行variant QC的變異是從141,456個通過sample QC的樣本所偵測到的，WES和WGS的校正會使用相同pipeline分別進行，校正最重要的部分是使用隨機森林(Random Forest model) 選擇allele-specific annotations作為特徵值(feature)進行模型訓練，此外也會特別排除以下條件的變異：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;InbreedingCoeff: Excess heterozygotes defined by an inbreeding coefficient &amp;lt; -0.3 觀測變異的異型合子比例是否正常，若同型合子(homozygote)比例過高，則可能是近親種族多造成的，需要等樣本增加或排除更多sample後再被列入資料庫。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;AC0: No sample had a high quality genotype (depth &amp;gt;= 10, genotype quality &amp;gt;= 20 and minor allele balance &amp;gt; 0.2 for heterozygous genotypes) 變異位點的品質本身較差，因此大部分樣本在此位置的品質都不好，須用更嚴謹的分析技術後，才能得到品質較高較可信的變異回報。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;random forest selected feature:
&lt;img src=&#34;https://pxchen110.github.io/post/bioinfo-gnomad-v3/20240516_img4.jpg&#34;  width=&#34;600&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;進行模型訓練的資料集來自過往的大規模計畫如1000 Genome Project，或是其他資料庫如Omni, Mills等，再來應用至gnomAD資料庫。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;gnomad-sv-v21-文獻選讀&#34;&gt;gnomAD-SV v2.1 文獻選讀
&lt;/h2&gt;&lt;h3 id=&#34;sample-size-and-population&#34;&gt;Sample size and population
&lt;/h3&gt;&lt;p&gt;共 14,891 個樣本 (14,237 are high QC)，族群分布比例: 46.1% European, 34.9% African or African American, &lt;strong&gt;9.2% East Asian&lt;/strong&gt;, and 8.7% Latino samples, as well as 1.2% samples from admixed or other populations&lt;/p&gt;
&lt;h3 id=&#34;sv-discovery-and-genotyping&#34;&gt;SV discovery and genotyping
&lt;/h3&gt;&lt;p&gt;gnomAD-SV從14,891個WGS樣本中找到433,371 SVs，其中335,470 SVs是高品質的變異位點；如下圖所示，相比於過去針對SVs定序分析的計畫，其所使用的樣本數、樣本族群豐富度及偵測的變異總數都有所突破。
首先是研究的族群來源&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/bioinfo-gnomad-v3/20240516_img5.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;可以看到仍以歐洲、非裔每週或非洲族群佔大宗，亞洲樣本數約一千多人&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/bioinfo-gnomad-v3/20240516_img6.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;偵測與過濾變異的流程圖如上圖所示，左上角簡介分析的所有大流程，共有8大步驟，右下角顯示每個工具分析所使用的樣本大小，包含每個人都會跑的Picard QC, variant caller外，也有整合300-400人左右的批次樣本(batch)，進行joint-calling的步驟，最後將所有batch利用clustering聚集後，將會形成龐大的cohort-wide sample set；接著簡介以下流程：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;preprocessing:針對樣本的品質校正，利用Picard可以計算平均深度、高品質的數量等，而ploidy estimation利用序列計算基因倍體是否正常（diploid, triploid&amp;hellip;）完成刪減樣本和組成批次樣本後，便會進行variant calling，使用的工具包含偵測SV的manta, DELLY、偵測跳躍分子(mobile element)的MELT和偵測大片段CNV的cnMOPS。&lt;/li&gt;
&lt;li&gt;clustering:將每個sample vcf將不同的algorithm偵測到的變異分開，並各自使用&lt;a class=&#34;link&#34; href=&#34;https://github.com/talkowski-lab/svtk&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;svtk vcfcluster&lt;/a&gt; 進行合併&lt;/li&gt;
&lt;li&gt;evidence collection: 針對不同algorithm所進行的驗證也不一樣
&lt;ul&gt;
&lt;li&gt;PETest &amp;amp; SRTest: 若使用split-read或pair-end偵測，將會測試number of discordant來確認變異的存在&lt;/li&gt;
&lt;li&gt;RDTest: 會計算帶有變異和沒帶有變異之兩樣本、在某區域所具有的平均深度，已確認變異真實存在（顯著性差異以two-sample t test /one sample Z-test計算）&lt;/li&gt;
&lt;li&gt;BAFTest: 主要是計算變異的來源，一般人有兩條序列，通常將其中一條命名為A、另一條為B，BAF即是計算序列來自兩allele的比例，以確保序列是heterozygous (A/B =0 )或是有一條特別多（CNV）。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;variant filtering: 利用random forest test（在前面variant QC提到過）來篩選出變異品質不好的outlier&lt;/li&gt;
&lt;li&gt;genotyping&lt;/li&gt;
&lt;li&gt;batch integration: 前幾個步驟是以幾百個人的批次為單位進行，為了聚集成cohort 大小，會再將批次的結果合併，主要也是使用svtk工具進行合併和過濾品質。&lt;/li&gt;
&lt;li&gt;VCF refinement&lt;/li&gt;
&lt;li&gt;annotation：從其他database或預測變異會對下游蛋白造成的影響，雖沒有像SNV系統完善的ACMG guideline，目前有針對CNV提出的分類指南。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;為了確認此分析流程的可信度，gnomAD使用一些方法來benchmark，主要分為兩大類：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;technology quality: allele frequency of heterozygous rate, hardyy-weingerg equilibrium, LD with neighbor SNV events and AF concordance with 1KGP AF&lt;/li&gt;
&lt;li&gt;consistency in long-read data: using PacBio long read data to sequence same sample (NA12878, CHM1/13 cell line ) and calculate the SV confirmation rate&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;population-genetics-and-genome-biology&#34;&gt;Population genetics and genome biology
&lt;/h3&gt;&lt;p&gt;經由完整的單一樣本定序、批次整合、過濾SV位點和修正gneotype一致性的處理後，定義出這些人身上的SV總數，接著進行了以族群為單位SV總數差異、median SV size、SV AF、SV distribution in genome 和以演化角度的分析（mutation rate prediction）&lt;/p&gt;
&lt;h3 id=&#34;dosage-sensivity-on-coding-and-non-coding-loci&#34;&gt;Dosage sensivity on coding and non-coding loci
&lt;/h3&gt;&lt;p&gt;SV變化對於蛋白質表現也會有影響，作者將這些SV依據對蛋白質的功能改變類型分成：Loss of function / copy gain / exon dupliation 以及inversion這四大類
為了預測SV發生對於序列的影響是否存在演化上的意義，因此使用和gnomAD SNV database中pLOF定義相似的LOEUF來註解SV&lt;/p&gt;
&lt;h3 id=&#34;remarks&#34;&gt;Remarks
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;使用的樣本數多，和CCDG以及HGSVC(做1KGP的分析)等團隊相比、樣本數最多&lt;/li&gt;
&lt;li&gt;使用的pipeline雖然沒有使用GIAB SV truth set進行表現衡量(2020同年發表)但在有家族關係的資料應用和分析上、可以確保不違背遺傳的genotype annotation，並預測這些SV的新發生率等&lt;/li&gt;
&lt;li&gt;雖說樣本數增加可以找到更多SV，但偵測效率也可能取決於以下幾個因素：sequencing data type, coverage, SV detection pipeline, 以及適合的QC control等&lt;/li&gt;
&lt;li&gt;像是1KGP收錄的樣本其深度最低有&amp;lt; 10x，而本篇樣本WGS的平均深度32x還算深&lt;/li&gt;
&lt;li&gt;另外一個點在於gnomAD收錄的樣本多為health cohort，因此較適合用來評估common population SV allele frequency，對於rare disease-causing SV的應用方式，可能就是幫助他們過濾掉不太可能致病的位點，或是針對某個AR疾病計算其carrier rate&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;references&#34;&gt;References
&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://gnomad.broadinstitute.org&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://gnomad.broadinstitute.org&lt;/a&gt;
&lt;a class=&#34;link&#34; href=&#34;https://www.nature.com/articles/s41586-020-2287-8&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://www.nature.com/articles/s41586-020-2287-8&lt;/a&gt;
&lt;a class=&#34;link&#34; href=&#34;https://macarthurlab.org/2019/03/20/structural-variants-in-gnomad/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://macarthurlab.org/2019/03/20/structural-variants-in-gnomad/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
</description>
        </item>
        <item>
        <title>生資系列： All of US research program 介紹</title>
        <link>https://pxchen110.github.io/p/%E7%94%9F%E8%B3%87%E7%B3%BB%E5%88%97-all-of-us-research-program-%E4%BB%8B%E7%B4%B9/</link>
        <pubDate>Thu, 09 May 2024 00:00:00 +0000</pubDate>
        
        <guid>https://pxchen110.github.io/p/%E7%94%9F%E8%B3%87%E7%B3%BB%E5%88%97-all-of-us-research-program-%E4%BB%8B%E7%B4%B9/</guid>
        <description>&lt;img src="https://pxchen110.github.io/post/bioinfo-allofus/20240509_img1.jpg" alt="Featured image of post 生資系列： All of US research program 介紹" /&gt;&lt;p&gt;(Program Image from &lt;a class=&#34;link&#34; href=&#34;https://www.nih.gov/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;NIH website&lt;/a&gt;)&lt;/p&gt;
&lt;!-- more --&gt;
&lt;!-- toc --&gt;
&lt;h2 id=&#34;前言&#34;&gt;前言
&lt;/h2&gt;&lt;p&gt;隨定序技術的發展演進，定序分析已從單一樣本的探討、家族segregation analysis，擴展至大規模族群分析的階段。近年來已有許多國家或計畫組織，積極地針對群體健康，建立具價值的人體生物資料庫: UK Biobank, gnomAD, 或 Taiwan Biobank 等結果林立，並實際應用至臨床研究。今日要介紹的定序計畫，是由美國 National Institutes of Health (NIH) 主持的 &lt;em&gt;All of Us&lt;/em&gt; Research Program，本文內容包含計畫簡介，收案狀況與近期成果。&lt;/p&gt;
&lt;h2 id=&#34;計畫簡介&#34;&gt;計畫簡介
&lt;/h2&gt;&lt;p&gt;&lt;em&gt;All of US&lt;/em&gt; 起源於 2015 美國發起之精準醫療計畫 (Precision Medicine Initiative)，針對美國多元族群進行大規模的資料收集與討論&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;All of Us is working to improve health care through research. Unlike research studies that focus on one disease or group of people, All of Us is building a &lt;strong&gt;diverse database&lt;/strong&gt; that can inform thousands of studies on a variety of health conditions. This creates more opportunities to:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Know the risk factors for certain diseases&lt;/li&gt;
&lt;li&gt;Figure out which treatments work best &lt;strong&gt;for people of different backgrounds&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Connect people with the right clinical studies for their needs&lt;/li&gt;
&lt;li&gt;Learn how technologies can help us take steps to be healthier&lt;/li&gt;
&lt;/ul&gt;&lt;/blockquote&gt;
&lt;p&gt;從官網的簡介可知&lt;strong&gt;多元&lt;/strong&gt;族群與資料類型為計畫核心，也勢必是基因體分析的發展趨勢&lt;/p&gt;
&lt;h2 id=&#34;計畫特點&#34;&gt;計畫特點
&lt;/h2&gt;&lt;h3 id=&#34;大規模的樣本收案&#34;&gt;大規模的樣本收案
&lt;/h3&gt;&lt;p&gt;美國幅員廣闊，又因歷史發展族群多元，使收案數量大族群多元。至2024年4月已有近80萬人註冊網站，&lt;strong&gt;近55萬人完成初步收案與調查&lt;/strong&gt;，根據官方釋出(來自問卷)的族群統計，非歐洲族群的比例大幅提高。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/bioinfo-allofus/20240509_img2.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;下表為2024最新研究成果所公布的資料類別與族群樣本數，其實可發現擁有完整WGS資料的比例仍佔少數，並持續提升&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/bioinfo-allofus/20240509_img3.jpg&#34;  width=&#34;600&#34;&gt;
&lt;h3 id=&#34;多元資料類型&#34;&gt;多元資料類型
&lt;/h3&gt;&lt;p&gt;問卷收集資訊包含基本生活習慣，還有因應前幾年COVID-19的追蹤。有些問題很有趣: 像是社交軟體帳號、管制藥品使用史(列出許多毒品名稱，還有正在服用的選項)、社區環境狀況等，和 Taiwan Biobank 相比，多收集許多環境與心理健康的資訊。族群詢問上相當詳細，依地區劃分後再分國家，如Asian下可再勾選Asian Indian, Chinese, Filipino, Japanese, Korean, Vietnamese&amp;hellip; 以協助 PCA clustering 或model training 時做特徵依據&lt;/p&gt;
&lt;p&gt;除了問卷調查，All of US 也收集許多來源的個人資料:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;生物檢體(biosamples): blood, saliva, and/or urine sample 主要進行定序分析&lt;/li&gt;
&lt;li&gt;電子病例紀錄(electronic health records，EHR): 收集樣本相關疾病與生理測量數值，在前面 Data Broswer 網站也有釋出部分統計結果，資料使用前會經由 Observational Medical Outcomes Partnership (OMOP) 進行術語轉換與數據標準化&lt;/li&gt;
&lt;li&gt;體檢數值(physical measurement): 參與者可至合作醫院進行檢查，量測身高、體重、血壓等&lt;/li&gt;
&lt;li&gt;穿戴式裝置紀錄: 與Fitbit合作，當使用者同意共享紀錄，即可獲得如心跳、運動與睡眠狀態等監測數值&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;目前收集狀況穩健，引述自最新發表文章:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;99% of participants with WGS data also have survey data and physical measurements, and 84% also have EHR data.&lt;/p&gt;&lt;/blockquote&gt;
&lt;h3 id=&#34;具一定準確度的分析架構&#34;&gt;具一定準確度的分析架構
&lt;/h3&gt;&lt;p&gt;&lt;em&gt;All of US&lt;/em&gt; 以多元平台定序(short-read whole genome sequencing, long-read whole genome sequencing, and genome-wide genotyping arrays)，並偵測個體與族群階層的變異，分析流程皆以GIAB truth set與標準品衡量準確度&lt;/p&gt;
&lt;p&gt;以 short-read WGS sequencing data 分析為例:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;PCR-free barcoded Illumina Kapa HyperPrep kit&lt;/li&gt;
&lt;li&gt;sequenced on the &lt;strong&gt;Illumina NovaSeq 6000&lt;/strong&gt; instrument&lt;/li&gt;
&lt;li&gt;GRCh38dh as reference&lt;/li&gt;
&lt;li&gt;Illumina DRAGEN v3.4.12 for preprocessing and variant calling，當時使用的command line 有公布在 &lt;a class=&#34;link&#34; href=&#34;https://developer.illumina.com/dragen/dragen-popgen&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;illumina 官網&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;QC measures for each steps&lt;/li&gt;
&lt;li&gt;annotation using using Illumina Nirvana&lt;/li&gt;
&lt;/ul&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/bioinfo-allofus/20240509_img4.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;分析流程中的Quality Control:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;single sample QC: (sample removal)
&lt;ul&gt;
&lt;li&gt;fingerprint concordance between the array and WGS data (selected 113 sites)&lt;/li&gt;
&lt;li&gt;sex concordance (seq result vs. self-report)&lt;/li&gt;
&lt;li&gt;cross-individual contamination rate (related to call rate) by counting number of reads at common homozygous alternate SNP&lt;/li&gt;
&lt;li&gt;mean coverage (threshold of ≥30×)&lt;/li&gt;
&lt;li&gt;genome coverage (threshold of ≥90% at 20×)&lt;/li&gt;
&lt;li&gt;coverage of hereditary disease risk genes (threshold of ≥95% at 20×)&lt;/li&gt;
&lt;li&gt;aligned Q30 bases (threshold of ≥8 × 1010)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;joint callset QC: (similar to that of gnomAD 3.1, only flagged as failing QC)
&lt;ul&gt;
&lt;li&gt;population outlier through PCA&lt;/li&gt;
&lt;li&gt;variant hard filters ex: GQ, DP, QUAL flags, PASS filter&amp;hellip;&lt;/li&gt;
&lt;li&gt;VQSR&lt;/li&gt;
&lt;li&gt;relatedness: kniship calculated by Hail&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;workflow-benchmarking&#34;&gt;Workflow Benchmarking
&lt;/h4&gt;&lt;p&gt;使用 GIABv4.2.1 truth set: HG001(NA12878), HG003, HG004(parents of AJ trio), and HG005(son of Han trio)
從下表的比對結果可知，&lt;em&gt;All of US&lt;/em&gt; workflow 在 SNV/indel 的 Precision 超過 99%，代表偵測到的變異幾乎都為真( QC 做得很好，顯著降低false-positives)&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/bioinfo-allofus/20240509_img5.jpg&#34;  width=&#34;600&#34;&gt;
&lt;h3 id=&#34;雲端式共享空間&#34;&gt;雲端式共享空間
&lt;/h3&gt;&lt;p&gt;&lt;em&gt;All of US&lt;/em&gt; &lt;a class=&#34;link&#34; href=&#34;https://www.researchallofus.org/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;官方網站&lt;/a&gt; 依照使用者身分與目的提供不同資源，主要分兩大類:&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/bioinfo-allofus/20240509_img6.jpg&#34;  width=&#34;600&#34;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://databrowser.researchallofus.org/?_gl=1*161o2ef*_ga*MTY5MDQxNDA4MS4xNzE0MTEzMjgy*_ga_7MXT5FNNB6*MTcxNDM3ODE0NS4yLjEuMTcxNDM3ODQ0Ni4wLjAuMA..&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Data Broswer&lt;/a&gt;: 開源的族群性(aggregate-level data)統計成果&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;以 GENOMICS VARIANT 為例，可用基因名稱、rs number 甚至是基因區段搜尋族群偵測到的變異位點，下圖示範以&lt;em&gt;TP53&lt;/em&gt;搜尋結果&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/bioinfo-allofus/20240509_img7.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;網站很讚的地方是提供&lt;strong&gt;客製化的篩選(圖中黃色標示處)&lt;/strong&gt;，可以用註釋結果如 VEP consequence, ClinVar, 或族群頻率如allele count threshold 等篩出感興趣的位點。此外點選ID還有更詳細的統計，跟gnomAD broswer有得拚! 但目前網站只提供瀏覽功能，還沒找到export 按鈕&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Researcher Workbench: 若學術單位或研究者想使用資料，只要申請平台使用權，購買credit(儲存空間分析費用)，即可自由在雲端workspace下開創 project、上傳資料和使用pipeline。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;雲端分析的另一優點即是節省各自備份或傳輸資料的開銷:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Storing one copy per institution of this data at 556 registered institutions would cost about US$1.16 billion per year. By contrast, storing a central cloud copy costs about US$1.14 million per year&lt;/p&gt;&lt;/blockquote&gt;
&lt;h2 id=&#34;近期研究成果&#34;&gt;近期研究成果
&lt;/h2&gt;&lt;p&gt;2024年2月團隊於 &lt;em&gt;Nature&lt;/em&gt; 期刊發表最新研究成果:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The All of Us Research Program Genomics Investigators. Genomic data in the All of Us Research Program. Nature 627, 340–346 (2024).
&lt;a class=&#34;link&#34; href=&#34;https://doi.org/10.1038/s41586-023-06957-x&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://doi.org/10.1038/s41586-023-06957-x&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;現階段收案情況與重點成果:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;release of 245,388 clinical-grade genome sequences, and identified more than 1 billion genetic variants&lt;/li&gt;
&lt;li&gt;new genotype-phenotype associations using longitudinal electronic health record&lt;/li&gt;
&lt;li&gt;Summary-level data are publicly available, and individual-level data can be accessed by researchers&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;variant-discovery-in-joint-callset&#34;&gt;Variant discovery in joint callset
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;將joint callset結果和dbSNP v153版資料庫位點比對，分別在 non-coding 跟 coding region 找到 272,051,104 和 3,913,722 個新位點&lt;/li&gt;
&lt;li&gt;依照族群 MAF 分類發現 99.98% 的 coding variants 屬於 MAF &amp;lt; 1% 的罕見變異(rare variant)；有趣的是找到 0.01% 變異的屬於在非歐洲族群普遍(MAF &amp;gt; 1%)，但單看歐洲族群屬於罕見的變異位點&lt;/li&gt;
&lt;li&gt;利用illumina Nirvana (DRAGEN implemented annotation tool) 進行註釋，並統計不同族群具有被 Clinvar 判定為 Likely Pathogenic 以上的位點數，利用OR、p-value等數值衡量後，發現歐洲族群發現rare pathogenic variant的比例最高，其他族群可能受限於樣本數大小而降低統計結果的顯著性。&lt;/li&gt;
&lt;/ul&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/bioinfo-allofus/20240509_img8.jpg&#34;  width=&#34;600&#34;&gt;
&lt;h3 id=&#34;ancestry-and-relatedness&#34;&gt;Ancestry and relatedness
&lt;/h3&gt;&lt;p&gt;問卷的族群統計有 51.1% 屬於非歐洲族群，使用基因資訊進行族群分類:&lt;/p&gt;
&lt;p&gt;分類方式參考gnomAD資料庫的做法:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;training a random forest (RF) classifier on a subset of samples with provided genetic ancestry labels using the principal components from the PCA as features.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;使用 HGDP and 1000 Genomes 計畫樣本作為 training set，並從 gnomAD 資料庫取得變異位點資訊當作PCA input，clustering 後取前 16PC 當作 random forest input，並輸出族群分類結果。&lt;/p&gt;
&lt;p&gt;將模型套用至 All of US 3202 個樣本上，發現問卷回答之族群(self-reported ethnicity) 與基因預測之族群結果一致性達87%&lt;/p&gt;
&lt;h3 id=&#34;genotype-by-phenotype-associations&#34;&gt;Genotype-by-phenotype associations
&lt;/h3&gt;&lt;p&gt;大量的樣本與 variant genotype 很適合做GWAS，以 LDL-C phenotye 為例，從 manhattan plot 看到許多顯著關聯的位點，和過去從TOPMed資料庫偵測之顯著關聯位點做關聯性比較，發現兩計畫的beta (odds ratio) 值高度相關，代表位點對特徵的趨勢一致。但由於統計模型、族群組成的不同，使每個 variant loci 的 effect size 不同。&lt;/p&gt;
&lt;p&gt;此外也參照 &lt;a class=&#34;link&#34; href=&#34;https://www.cell.com/ajhg/fulltext/S0002-9297%2823%2900275-6?_returnURL=https%3A%2F%2Flinkinghub.elsevier.com%2Fretrieve%2Fpii%2FS0002929723002756%3Fshowall%3Dtrue&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;phenotype-genotype reference map (PGRM)&lt;/a&gt; 來驗證 All of US 做 PheWAS時，能否重現(replication)相同的顯著關聯結果&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;phenotype-genotype reference map (PGRM), a set of 5,879 genetic associations from 523 GWAS publications that can be used for high-throughput replication experiments.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;PGRM 如何定義replicated?&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Replication: an association with a &lt;strong&gt;p value &amp;lt; 0.05&lt;/strong&gt; and &lt;strong&gt;OR in the same direction&lt;/strong&gt; as the original study.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;PGRM 另一特別之處在於有族群特異的association，可以個別比對不同族群差異，最終在power &amp;gt; 80% 的 association type 下，不同族群有成功 replicate 的比例分別為: 72.0% (18/25) in AFR, 100% (13/13) in AMR, 46.6% (7/15) in EAS, 74.9% (1,064/1,421) in EUR, and 100% (1/1) in SAS.&lt;/p&gt;
&lt;p&gt;這裡EAS重複狀況較差，可能和genetic loci boosting, EHR data updation等因素有關，而改變統計結果。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;comments&#34;&gt;Comments
&lt;/h2&gt;&lt;p&gt;All of US 計畫的執行力高，並持續增進收案基數，對於族群基因體學的影響大，且過程中為因應資料量龐大的議題，會額外討論如資料保存、壓縮效率、以及位點QC等，對於之後有興趣做族群基因體分析者，可作為重要參考。這麼大的資料，若能持續的做追蹤並紀錄general population 是否有疾病發生，對長期研究也能有貢獻。當然維持計畫需龐大資金與研究者投入，相信NIH主持的計畫可以相當長壽。&lt;/p&gt;
&lt;p&gt;就族群多樣性的議題來說，USA多族群歷史較長，或許也挺適合觀察mixed-population後變異的特徵是否有保留或改變，甚至新發變異等議題；而本篇文章並沒有特別討論long-read和short-read data訂出來的樣本結果差異，但相信定序技術發展，當long-read使用越頻繁，就能將探討主軸從SNV延續至SV, CNV等大片段類型上。&lt;/p&gt;
&lt;h2 id=&#34;references&#34;&gt;References
&lt;/h2&gt;&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.nature.com/articles/s41586-023-06957-x&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://www.nature.com/articles/s41586-023-06957-x&lt;/a&gt;
&lt;a class=&#34;link&#34; href=&#34;https://www.ghd.tw/Home/International_data_standards&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://www.ghd.tw/Home/International_data_standards&lt;/a&gt;
&lt;a class=&#34;link&#34; href=&#34;https://cran.r-project.org/web/packages/allofus/vignettes/data.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://cran.r-project.org/web/packages/allofus/vignettes/data.html&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>新加坡獨旅紀行之二。文化巡禮</title>
        <link>https://pxchen110.github.io/p/%E6%96%B0%E5%8A%A0%E5%9D%A1%E7%8D%A8%E6%97%85%E7%B4%80%E8%A1%8C%E4%B9%8B%E4%BA%8C%E6%96%87%E5%8C%96%E5%B7%A1%E7%A6%AE/</link>
        <pubDate>Wed, 01 May 2024 00:00:00 +0000</pubDate>
        
        <guid>https://pxchen110.github.io/p/%E6%96%B0%E5%8A%A0%E5%9D%A1%E7%8D%A8%E6%97%85%E7%B4%80%E8%A1%8C%E4%B9%8B%E4%BA%8C%E6%96%87%E5%8C%96%E5%B7%A1%E7%A6%AE/</guid>
        <description>&lt;img src="https://pxchen110.github.io/post/travel-singapore-2024-2/20240501_img1.jpg" alt="Featured image of post 新加坡獨旅紀行之二。文化巡禮" /&gt;&lt;img src=&#34;https://pxchen110.github.io/post/travel-singapore-2024-2/20240501_img1.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;在 Ann Siang Hill Park 見到如同撥雲見日的景色，不禁想起飄的經典名言 &amp;ldquo;After all,tomorrow is another day.&amp;rdquo;
為明日捎上盼望，為此刻活在當下。&lt;/p&gt;
&lt;!-- more --&gt;
&lt;p&gt;第二天早晨，同寢室友可能要趕早班飛機，免費獲得一個天然鬧鐘，便決定早點出門去亞坤吃早餐。在那裡被新式英文打敗，比手畫腳才完成點餐，觀察後方顧客才發現，可以直接跟店員說中文，很高機會對方聽得懂。學習到撇步後，往後幾日都先問一句“可以用中文嗎”以開啟對話。&lt;/p&gt;
&lt;p&gt;酥脆吐司夾著厚片奶油與咖椰抹醬，既罪惡又超好吃，沾上醬油半熟蛋後變得更濕潤好入口，熱奶茶的茶味很重，應該是加奶精的，整體來說蠻不錯的。吃飽飯散步去Telok Ayer附近景點，先是參觀華人廟宇天福宮，接著攀爬安祥山公園，欣賞新舊城市共生的街道景色，最後走到麥士威附近，原本要進去印度廟但脫鞋子過於麻煩，就在外面聆聽經文禱告欣賞神像雕刻；附近的佛牙寺建築漂亮莊嚴，一樓坐滿祈福讀經的信眾，從旁側的電梯上樓參訪各式神像與牛車水的歷史故事，了解早期發展至今的文化脈絡。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-singapore-2024-2/20240501_img3.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;早晨的散步路線。&lt;/p&gt;
&lt;p&gt;中午原計劃在麥士威熟食中心覓食，剛好遇上消毒停業，改去嘗試黃亞細肉骨茶。點了基本的肉骨茶湯與茼蒿，黃亞細的胡椒味與顏色都比松發還要厚重，調味也較鹹；肉質軟而好咬，整體而言我比較喜歡松發。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-singapore-2024-2/20240501_img2.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;吃飽飯後搭地鐵至鄰近的小印度區閒逛，一出站感覺空氣組成和氛圍都不一樣，祭祀鮮花串混合香料和香膏的特殊味道，色彩也更加強烈鮮明，街上好多店家都以販賣黃金為主，而且每間店都有消費人潮，想起之前關注的youtuber壯哥，在他的東南亞的影片見到通貨膨脹下，黃金比貨幣保值的購買狀況。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-singapore-2024-2/20240501_img4.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;大型印度服飾批發竹腳中心閒晃，寶萊塢戲服般金光閃閃的服飾，讓人回憶起世舞社的表演時光；印度甜點攤位的顏色繽紛，挑選了形狀如甜甜圈（應該是Adhirasam）和炸芋泥球（應該是Motichoor Ladoo）的甜點拎回青旅吃，味道（齁）甜令人難忘。最後在一旁的印度雜貨店尋奇，看見好多未見過的印度食品和茶葉粉末，還有眼花撩亂的咖哩粉香料，體驗到特別不一樣的光景。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-singapore-2024-2/20240501_img5.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;印度點心小攤。&lt;/p&gt;
&lt;p&gt;第四天安排武吉士與濱海灣的行程，早上特意換搭公車前去吃喜園，當公車駛過讚美廣場和安德遜教堂附近，和煦的陽光照射進來，一切都如此剛好且舒適。尚未開店門口已有人排隊等待；開店後每個人更是熟練得把包包或紙巾放在桌上，再回到隊伍中。櫃檯像個獨立的熟食攤販，供應炒米粉或炒麵兩種主食，以及各式小菜；觀望前方很多人都有加油豆腐與一匙辣椒，照著點果真沒錯，炒麵帶有獨特鑊氣特別美味。&lt;/p&gt;
&lt;p&gt;沿著高樓林立的街道散步至阿拉伯區，為了不錯過任何美食，又去蠻多人推薦的zamzam 吃早午餐。店內有八成都是印度人，透過台式英文和說著印式英文的店員點餐，有那麼一刻我們兩人沉默望向對方，試圖透過眼神頗析對方的狀態，這時另一位店員走來，只見他們用我不能理解的語言交換一些訊息後，不到30秒便完成上菜：一杯冰涼的teh ice，一盤咖哩醬，一盤咖哩風味的蔬菜，念念不忘的香料飯（Biryani）跟脆脆薄餅（仍然不知道叫啥）。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-singapore-2024-2/20240501_img6.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;餐點份量超出預期地多，香米拌上微辣的咖哩一起食用，香料間產生的化學變化讓口味層次再度升級；當辣到受不了趕緊配上一口甜奶茶解辣，一旁的神奇小菜跟台式螢光咖哩應該有親源關係，但少了令人害怕的龍角散味。&lt;/p&gt;
&lt;p&gt;阿拉伯區整體街區氣氛活潑，尤其是色彩豐富的壁畫，搭配艷陽高照的天氣，彷彿真的去一趟中東地區，一旁商店街販售土耳其燈飾，拼貼風格多樣，讓人心動想帶一盞回家欣賞。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-singapore-2024-2/20240501_img7.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;參觀蘇丹回教堂，入內若穿短褲需要租借圍巾遮蓋腿部，教堂內雖然沒有冷氣但十分涼爽，中間禮拜區只留給穆斯林教徒使用，站在外頭欣賞內部華麗的地毯與花紋裝飾，也相當有趣。&lt;/p&gt;
&lt;p&gt;小觀察1:堂內的電子時鐘，列出不同信仰地區的時間&lt;/p&gt;
&lt;p&gt;小知識1:有位姐姐跟我分享阿拉伯文的讀序和中文是顛倒的，此外他們有收集不同譯本的可蘭經，這也是我第一次(用中文譯本)閱讀可蘭經。&lt;/p&gt;
&lt;p&gt;在武吉士閒晃完，下午去濱海灣花園，前天在城市規劃局得知是由李光耀夫人提倡並參與建設的植物園。一出地鐵站，標誌性的天空樹佇立在遠方，步行(曝曬)約10分鐘後抵達花園溫室，裡面冷氣恆溫超級舒服涼快，正是因為有溫控(和濕度)設計，才能讓生長於不同地理氣候的植物出現在同個地方。裡面我最愛的地方是仙人掌區，多種類的多肉植物種植在一起相當壯觀可愛，剛好在飛機上重溫過魔法滿屋，彷彿這一片是Isabella覺醒後的成果XD 最後離開時，工作人員發給每位遊客一瓶李光耀誕辰百年紀念的菊花茶，剛好當成紀念品帶走。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-singapore-2024-2/20240501_img8.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;另外一區雲霧森林，(垂直)呈現雨林不同生態層的植物分布，最震撼的便是一進門的瀑布，極速落下霧氣繚繞，和阿凡達世界觀很搭。在最高處的天空走道上，因懼高而沒有多做停留，回想起有點可惜應該多拍幾張紀念的。&lt;/p&gt;
&lt;p&gt;最後一晚去老巴剎廣場吃沙嗲，還好有先爬文，新加坡政府規定沙爹一條街最早7點才能封路推出來擺，不過可以先去攤位跟他們先點餐，大約6.30抵達最多人推薦的7和8號攤位。感謝網友的分享，才知道可以跟他說一人吃份量能否減半，當時老闆也很可愛，跟我說他願意跟我分一半(也就是同意只賣半分啦)&lt;/p&gt;
&lt;p&gt;拿到取餐時間單，進入漫長晚餐等待時間，將濕紙巾放在桌上後(新式佔位法)，便到附近閒晃順便尋覓馬蹄水。取餐時間到，街頭景色大變，許多桌椅佔滿馬路，各家攤位開始燒烤，濃厚的香味刺激食慾，彷彿來到中秋節的河堤公園(誤)&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-singapore-2024-2/20240501_img9.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;沙嗲除了肉與海鮮串，皆附上小黃瓜、洋蔥、以及一碗濃厚的沙嗲醬，原味的雞肉串嫩且多汁，沾上醬食用多了一股甜味(可能是花生下比較多?)富有特色。新加坡這幾天的餐點，都是邊吃重口味的主餐，邊喝又冰又甜的飲料解膩，今日在馬蹄水相伴下又度過幸福的一餐，雖然帶著一身燒烤味回去，但超級滿足。晚上一邊計畫明天機場的採買路線，一邊紀錄旅遊見聞，雖覺得相當不捨，但也要遵守與自己的承諾，結束旅行前往人生下階段，已經期待下次再訪了!&lt;/p&gt;
&lt;p&gt;後記：茶飲名稱，這家店的外帶紙盒很可愛便拍下紀念
Teh: 加煉乳或奶的茶
Teh Tarik: 印度拉茶（東南亞特有，概念跟跟加蕃茄的台式打拋豬類似？）
Teh Halia: 薑母茶
Teh Pudina: 薄荷茶
&lt;img src=&#34;https://pxchen110.github.io/post/travel-singapore-2024-2/20240501_img10.jpg&#34;  width=&#34;600&#34;&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>新加坡獨旅紀行之一。初訪南洋</title>
        <link>https://pxchen110.github.io/p/%E6%96%B0%E5%8A%A0%E5%9D%A1%E7%8D%A8%E6%97%85%E7%B4%80%E8%A1%8C%E4%B9%8B%E4%B8%80%E5%88%9D%E8%A8%AA%E5%8D%97%E6%B4%8B/</link>
        <pubDate>Thu, 25 Apr 2024 00:00:00 +0000</pubDate>
        
        <guid>https://pxchen110.github.io/p/%E6%96%B0%E5%8A%A0%E5%9D%A1%E7%8D%A8%E6%97%85%E7%B4%80%E8%A1%8C%E4%B9%8B%E4%B8%80%E5%88%9D%E8%A8%AA%E5%8D%97%E6%B4%8B/</guid>
        <description>&lt;img src="https://pxchen110.github.io/post/travel-singapore-2024/20240425_img1.jpg" alt="Featured image of post 新加坡獨旅紀行之一。初訪南洋" /&gt;&lt;!-- more --&gt;
&lt;p&gt;在飛機上循環聽著最喜歡的&amp;lt;半句再見&amp;gt;跟&amp;lt;天天年年&amp;gt;，度過4個小時的飛行時光，前往偶像孫燕姿的家鄉星加坡。星期日上午抵達樟宜機場，空氣帶有一份水氣豐盈的炙熱與潮濕，以及淺淺的香料味(心理作用?)。出關只須靠機器刷護照，拿完行李先從第一航廈搭接駁MRT前往星耀樟宜吃飯；室內空調涼爽甚至有些寒意，外頭則是剛結束一場對流雨，內外溫差大；機場廣播為多語言系統，人群也是各種族錯落，和台灣平常景色略微不同。&lt;/p&gt;
&lt;p&gt;星耀樟宜的瀑布特別震撼，看著強勁水勢傾瀉而下，彷彿科幻小說裡描述的科技綠洲搬進現實。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-singapore-2024/20240425_img1.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;抵達瀑布旁的shake shack用餐，使用自助點餐買了單層經典牛肉堡，以及特別好奇的斑斕奶昔。漢堡一如既往地美味，奶昔前半杯很好喝並帶有獨特香氣，但後面太過甜膩喝不太下，不過一杯新幣 8.8 必須喝光(物價有點高XD)。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-singapore-2024/20240425_img2.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;瀑布旁的位置，景色絕佳。&lt;/p&gt;
&lt;p&gt;吃飽喝足扛著行李前往市區，從 East-West line 搭到 Expo再深入地下轉乘Downtown line 至 ChinaTown (牛車水)，車內廣播多語言切換十分新鮮有趣，有些站名已透露居住於此的主要族群（印度區的站名最好辨認）。印象深刻的還有廣播內聽起來像&amp;quot;happy happy&amp;quot;的詞彙(谷歌還真有人這樣搜尋)，其正確拼法為 &amp;ldquo;hati hati&amp;quot;代表月台間隙。&lt;/p&gt;
&lt;p&gt;一出牛車水，有在中國的錯覺，步行五分鐘後抵達位於東北餐廳旁的青旅，櫃台人員是印度人，他不冷不熱的為我介紹床位與公設，當下拿出考多益聽寫的專注深怕漏下重要規則。這幾晚的床位是10人間的上鋪，以及一個很常秀逗的密碼鎖櫃子，簡單整理後外出解決轉接頭問題。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-singapore-2024/20240425_img3.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;中秋節前夕抵達新加坡，中國城早已掛上燈飾準備過節。餐廳旁邊的東北餐館，每晚都有熱炒香味，特別有趣。&lt;/p&gt;
&lt;p&gt;人生地不熟，地鐵直接搭錯方向，便臨時在克拉瑪頭下車，先去7-11買冰涼的100plus(大學時馬來西亞同學必喝飲品)暢飲後，心情感覺舒緩許多，並決定趁魚尾獅被包起來維修之前去拍張照。沿著新加坡河沿岸散步過去拍照，途中看到多家酒吧餐廳，服務生可能看我一個頭髮狼狽又拿著便宜運動飲料的樣子，就不選擇招呼了，這樣也省去微笑拒絕的力氣，快速通過商業區。發現另外一側有許多公家建築美術館，不時還有遊船駛過，拍照起來特別好看。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-singapore-2024/20240425_img4.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;大概走約20分鐘才抵達魚尾獅所在的港灣Bayfront，第一眼以為自己來到淡水：說人山人海絕不誇張，我嘗試著尋找不同角度和魚尾獅自拍，結束後繼續散步到藍線捷運站搭車，途中一棟棟高樓大廈佇立在海灣，建築物內似乎還有西裝筆挺的人在加班開會，還有裝扮得體的男女進出建築物。看著這(紙醉金迷的)資本世界，恍惚之間好像來到一個完全陌生的平行世界，趕緊吸一口綠油精緩和心情。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-singapore-2024/20240425_img5.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;小朋友的接水紀念照XDD&lt;/p&gt;
&lt;p&gt;回到中國城去吃松發肉骨茶，假日即使7點仍然很多人排隊等待，於是先到超市買水尋奇，由於一個人翻桌率快，大概等20分鐘入座，當時的胃口可能還被奶昔荼毒，覺得吃不太下，但當肉骨茶湯上桌，湯品醇厚的味道令人驚艷，胡椒跟鹽巴共同提升排骨湯鮮美的程度；排骨肉很軟，沾上特製辣醬特別對物，加點的油條吸附湯汁後，吃起來既有雙胞胎的Q軟又飽含茶湯的鮮甜。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-singapore-2024/20240425_img6.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;肉骨茶另一特色是可以一直加湯，服務員定點巡邏，一看湯碗見底，便熱情加湯，我一共喝了兩大碗，身體感到特別舒暢。吃飽後乖乖回青旅整理行李休息，為明天的旅程做準備。&lt;/p&gt;
</description>
        </item>
        <item>
        <title>東京獨旅紀行之四。吉光片羽</title>
        <link>https://pxchen110.github.io/p/%E6%9D%B1%E4%BA%AC%E7%8D%A8%E6%97%85%E7%B4%80%E8%A1%8C%E4%B9%8B%E5%9B%9B%E5%90%89%E5%85%89%E7%89%87%E7%BE%BD/</link>
        <pubDate>Wed, 17 Apr 2024 00:00:00 +0000</pubDate>
        
        <guid>https://pxchen110.github.io/p/%E6%9D%B1%E4%BA%AC%E7%8D%A8%E6%97%85%E7%B4%80%E8%A1%8C%E4%B9%8B%E5%9B%9B%E5%90%89%E5%85%89%E7%89%87%E7%BE%BD/</guid>
        <description>&lt;img src="https://pxchen110.github.io/post/travel-japan-tokyo-2024-4/20240417_img1.jpg" alt="Featured image of post 東京獨旅紀行之四。吉光片羽" /&gt;&lt;p&gt;在冰川赤阪神社，用生肖籤為這趟旅行畫下句點。&lt;/p&gt;
&lt;!-- more --&gt;
&lt;p&gt;東京第二周遇上颱風登入，當天早上早已懷疑人生一百次，後悔為何要換飯店😭原想等下午風雨漸消後再移動，但看新聞顯示越晚影響越大，便硬著頭皮退房出發。到大廳發現大家都站在飯店內不出去，抬頭一看外面風雨浮誇到不能輕易走出去的程度。別無選擇，我把身上僅有的薄外套穿上，將背包換至胸前，以戰鬥姿態和一群人同時衝出飯店，路上雨傘幾度被吹到開花，變成蓮蓬頭直接洗臉，終於加速抵達地鐵站，看見入口聚集同樣狀態狼狽的人群(日本沒有颱風假!!)，此時膝蓋以下的褲管全濕，行李箱也進水啦。&lt;/p&gt;
&lt;p&gt;從新宿搭大江戶線到上野轉乘日比谷線後達人形町站，這間apa飯店地處日本生活住宅區，路上有許多附上小孩座位的腳踏車，以及揹著書包上學的小朋友身影；飯店附近機能良好，餐廳居酒屋密集程度高，很適合下班後約來這邊小酌。&lt;/p&gt;
&lt;p&gt;寄放行李後已接近中午，決定前往日本橋站的室內百貨行程，還好百貨公司沒放假，不然就要關在飯店一整天。午餐吃了花山烏冬的寬版冰烏龍麵搭配釜飯套餐，烏龍麵有兩種沾醬可以選擇，我個人比較喜歡醬油的，搭配蔥花和姜泥味道清爽，另一個胡麻醬相當天然濃郁，甚至有點苦。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-japan-tokyo-2024-4/20240417_img2.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;(題外話)我很困惑碳水加碳水的組合，不僅隔壁男生跟我點相同套餐，還免費加麵一次，連電視節目也介紹卡車司機喜歡蕎麥麵搭配炸一堆天婦羅跟豬排丼，對於日本的神奇印象（煎餃套餐配白飯和拉麵）又加深了。&lt;/p&gt;
&lt;p&gt;在日本橋三越購買精緻的伴手禮並辦好退稅後，跑回飯店附近排隊等待泡芙，這家店也是滑社交媒體看到的，果然開店前20分鐘早已大排長龍，還好傍晚風雨漸消，跟著日本人一起等待出爐，一邊欣賞櫥窗內的精美的日式洋菓，有種我們這一家的日常既視感。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-japan-tokyo-2024-4/20240417_img3.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;真的&amp;hellip;很好吃，人形町美食眾多，我還吃了一碗味道印象深刻的薑汁鹽味拉麵。附近則有高級壽喜燒：人形町金半的本店&lt;/p&gt;
&lt;p&gt;第二個周末颱風剛出境天氣稍有寒意，為了避開人潮，7.30便抵達明治神宮參拜，穿越第一鳥居(進入神界後)氣氛逐漸莊嚴靜謐，漫步在與世隔絕的都市森林，眾樹圍繞下霧氣氤氳，可謂秋高氣爽(這才是我想要的秋涼時節)。當天剛好有日式婚禮，，這是我第一次近距離觀察日式婚服，男生腰帶上的兩顆毛球相當顯眼，女生的白無垢好精緻漂亮:紅白相襯的布料層層堆疊，繡上精美圖案，唯獨後面那一塊綁帶超級凸，好像一個頂著一個駝峰。若能在天皇夫婦種植的百年夫婦楠前面，得到親友的祝福，一定很幸福吧!&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-japan-tokyo-2024-4/20240417_img4.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;參拜完後前往上元代代木吃預約芭菲，店內蠻多一人過來享受的客人，很符合蔣方舟描述的，東京是可以容下一個人拼命吃飯的地方，當月的甜點以葡萄為主調，葡萄冰淇淋為核心、伯爵冰淇淋為副調，佐以奶酪與橙皮檸檬醬，外觀以店內烘烤的奶油小餅乾，小鳶尾花，達克瓦茲皮以及糖片做點綴，不管視覺和味覺都很賞心悅目，當季的麝香葡萄也很甜美好吃，至福的瞬間。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-japan-tokyo-2024-4/20240417_img5.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;生活即是藝術，日本的美感真的融入文化，不僅是文宣設計，連甜點裝飾都別具巧思&lt;/p&gt;
&lt;p&gt;東京的最後一晚選擇到連鎖居酒屋鳥貴族展開一人慰勞檢討會，點了兩種不同調味+部位組合的雞肉串，鐵板山藥泥，以及無酒精可爾必斯，當所有菜色上桌一度懷疑自己不能吃完，還好沒再加菜給自己挖洞。一邊吃著料理一邊打日記，感覺心情放鬆，兩周回過神來一下子就結束，好像經歷了很多冒險又好像虛幻不實的經驗，彷彿掉落人生的吉光片羽，已經期待下次出行了。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-japan-tokyo-2024-4/20240417_img6.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;&amp;lt;後記&amp;gt;
收拾旅行途中的隨筆，發現自己挺擅長用文字展現話癆的一面，兩周日記加總大概有50K以上(?希望有機會能在整理這幾年的旅行日記出來，順便回味一下XD其實原本想帶著蔣方舟的書去當文青拍照，還好有先見之明，想起行李會被代購與自用品塞滿，最終上機過磅為22.7kg，真是差點就要超重。&lt;/p&gt;
&lt;p&gt;附錄上一些碎片：&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-japan-tokyo-2024-4/20240417_img7.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;穿越冰川神社有名的釣籤，大概是願者上鉤的概念吧XD&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-japan-tokyo-2024-4/20240417_img8.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;位於國會附近的日枝神社，側邊有個鳥居，稍微體驗京都稻荷神社千鳥居的風情。參拜完想鍛鍊可以跟我一樣走去冰川赤阪神社，保證爬坡到害怕XD&lt;/p&gt;
</description>
        </item>
        <item>
        <title>東京獨旅紀行之三。與友同行</title>
        <link>https://pxchen110.github.io/p/%E6%9D%B1%E4%BA%AC%E7%8D%A8%E6%97%85%E7%B4%80%E8%A1%8C%E4%B9%8B%E4%B8%89%E8%88%87%E5%8F%8B%E5%90%8C%E8%A1%8C/</link>
        <pubDate>Thu, 11 Apr 2024 00:00:00 +0000</pubDate>
        
        <guid>https://pxchen110.github.io/p/%E6%9D%B1%E4%BA%AC%E7%8D%A8%E6%97%85%E7%B4%80%E8%A1%8C%E4%B9%8B%E4%B8%89%E8%88%87%E5%8F%8B%E5%90%8C%E8%A1%8C/</guid>
        <description>&lt;img src="https://pxchen110.github.io/post/travel-japan-tokyo-2024-3/20240411_img1.jpg" alt="Featured image of post 東京獨旅紀行之三。與友同行" /&gt;&lt;p&gt;特別感謝國中朋友Amigo的共遊.___.&lt;/p&gt;
&lt;!-- more --&gt;
&lt;p&gt;(時間拉回到第一個周日)，和在日友人Amigo(以下又稱朋朋)見面，早上先獨自一人去世田谷區探險，第一次知道三茶是東京女子圖鑑，房仲說剛上京工作可以考慮的租屋處。三軒茶屋站內可見成群的家庭或學生，小巷內還有剛從居酒屋出來的人群，騎單車滿載的阿伯，充滿生活氣息。早餐吃了 blue bottle coffee 和(二度朝聖的)truffle bakery，松露麵包超級好吃，也幫朋朋代買幾個。&lt;/p&gt;
&lt;p&gt;搭乘東急世田谷線的福貓列車，貓咪外觀的車廂相當可愛，路面電車的風情之一就是能一瞥兩旁住宅區的風景，讓人想起挪威森林書中描寫電車駛過住宅街區的段落(雖然路線不同XD)，也偷偷想像屋內的人過著怎樣的生活?&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-japan-tokyo-2024-3/20240411_img2.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;抵達豪德寺，滿滿的觀光客為了可愛招財貓而來，神社外擺放過於密集的祈福貓，很適合拍照，也有人秉持著威利在哪裡的玩心，將貓咪放在刁鑽的角度，像是屋簷內側?等奇特位置，享受了片刻的尋寶樂趣。沿著住宅區散步回車站，轉搭小田急線前往下北沢，才發現今天有神社祭典，真是幸運。&lt;/p&gt;
&lt;p&gt;和Amigo會合並吃午餐後，一路跟隨神轎的隊伍前往神社，還記得當天晴空萬里（九月仍然有32度的熾熱），由於人潮眾多不方便撐傘，就頂著大太陽玩樂，也近距離參觀神轎的精美作工，那固定木樁的粗繩比我手臂還粗，尺寸驚人，消耗體力後的鬆餅下午茶格外美味，一路上閒晃聊天，彷彿回到沒有太多顧慮和世俗壓力的學生時代，享受著純粹的開心。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-japan-tokyo-2024-3/20240411_img3.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;總共有8家神社參與的樣子，神轎的樣貌與裝飾都有所不同，很棒的體驗。&lt;/p&gt;
&lt;p&gt;星期二和在日朋朋Amigo約在新宿JR南口匯合，原本想飯店在新宿車站附近，可以慢悠悠地晃過去集合，但由於本人連北車地下道都會迷路，如果貿然進入新宿地下迷宮，一定會被吞進異世界，於是多花一點時間，從飯店走平面到集合點。由於兩人都是早到派，發車前半小時已經抵達月台，發現都穿了當季流行的公装褲並帶上我推小娃娃，默契++。事前預訂好富士回游車票，好處是一定有位子，但富士山的能見度就要看運氣，由於颱風接近，富士預報的狀況不太理想，希望到當地能見到完整的景色。&lt;/p&gt;
&lt;p&gt;從下吉田站開始旅程，前往淺間神社與忠靈塔欣賞風景，我們覺得年輕人就多爬樓梯快速通關，誰知爬到半路體力太差，幾次停頓才終於抵達最上層，富士山一開始被大片雲遮住，和其他遊客在那等了一會，突然一瞬間山頂的雲霧散去，大家非常有默契的起身拍照&lt;/p&gt;
&lt;p&gt;下山後我們改走小路探險，途經當地人的菜園，看到可愛的小茄子與漂亮的都府車牌，備感新奇，找到一間養馬的神社，一旁裝飾到一半的道具與宣傳單顯示下周要舉辦祭典，聽說還有騎馬射箭的儀式，感覺很有趣，從神社正門出來就是下吉田懷舊商店街。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-japan-tokyo-2024-3/20240411_img5.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;那裏帶有可愛的昭和風色調，淺灰色、天空藍與白色和富士山十分相襯，街上擺著請勿停留馬路中間拍照的招牌，甚至是中文寫得，看來IG打卡點的宣傳力量大，這時富士山又被蓋住無法欣賞，於是我們試圖從商店街宣傳單推薦的餐廳尋找午餐地點，但那張宣傳單有點雷，部分已歇業或公休，最終找到一家叫M2的喫茶店，門口牌子顯示準備中，往店裡窺探也相當昏暗，正當我們準備放棄時，突然有一個當地人很自然的走進去，我們趁這時見到染著大紅頭髮的的老闆，成功入座點餐。&lt;/p&gt;
&lt;p&gt;午餐的漢堡排定食在飢餓的加成下相當美味，手工捏製的粗絞肉漢堡排配上味噌醬汁與生菜，搭配香軟的日本米與鹹度適中的味增湯，令人滿足感謝招待；店內氣氛放鬆，許多熟客進來不用多說便坐在老位子看書，或聽廣播享受飲料；結帳時阿嬤還跑去廚房拿巧克力給我們，就像孫女一樣被神秘款待。飯後散步至大月站搭車前往河口湖。&lt;/p&gt;
&lt;p&gt;到河口湖天氣非常晴朗但富士山還沒出來，走去天上山公園纜車的路上差點熱昏，纜車上升途中可以眺望整個河口湖的美景，觀景平台的故事設定和鬼灯那隻兔子獄官一樣，可以看到那隻被塗味增的壞心狸貓XD&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-japan-tokyo-2024-3/20240411_img6.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;從河口湖上升至山頂的纜車，天気はとても良い&lt;/p&gt;
&lt;p&gt;我們爬上神秘小山，抵達武田信玄戰場，甚至沿著超級難走的路(只能找樹根與石頭縫隙落腳) 爬上煙罕至的小神社，運動量直接達標XD下山後直接跑去買富士山限定可樂與刨冰消暑。&lt;/p&gt;
&lt;p&gt;回到車站附近，幸運地在lawson前看到露出全貌的富士山，配上佐以當季水果-桃子和麝香葡萄-的富士山布丁，有得看又有得吃，離開跟朋友去買信玄餅伴手禮，轉頭剛好看到富士山跟和河口湖車站兩者共構的美景，真的不虛此行。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-japan-tokyo-2024-3/20240411_img4.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;旅行の最後に、窓から富士山を見えた！&lt;/p&gt;
&lt;p&gt;星期三是鎌倉江之島旅行，由於颱風生成並朝東京前進，內心有點忐忑江之島的天氣。新宿購買小田急鎌倉一日券後，先抵達藤沢站再換乘江之島電鐵。&lt;/p&gt;
&lt;p&gt;將之導電鐵的車廂十分復古可愛，大概十來分鐘抵達通往江之島的陸橋入口，當天橋上的風雨頗大，彷彿是為了我先做颱風天扛行李換飯店的演習，我們兩人死命抓著傘防止開花，一邊艱難前進XD登島後眼看雨勢頗大，果斷購買江之島電扶梯門票以節省體力，電梯一共分三層，每層都會抵達江之島三大社(邊津宮、中津宮、奧津宮)的其中一間，電扶梯只提供往上運輸，下來只有樓梯可選擇。&lt;/p&gt;
&lt;p&gt;這次來江之島的目的便是打卡 &lt;a class=&#34;link&#34; href=&#34;https://www.youtube.com/watch?v=vD42ZRdVvpg&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;she&amp;rsquo;s letter&lt;/a&gt; mv的拍攝場景，感謝 Amigo 答應與我巡禮一圈，包含奧津宮，元祖招牌商店街，也吃了女夫饅頭跟富士見亭。巡禮過程天氣也從烏雲密布到出大太陽啦!(ps.支線任務還有參觀植物園，吃章魚仙貝，以及江之島燈塔徘徊)&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-japan-tokyo-2024-3/20240411_img7.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;&amp;ldquo;僕らは大切な人から順番に
傷つけてしまっては
後悔を重ねていく
それでも愛したり
愛されたいと願っている
あなたを守れるほどの
優しさを探している&amp;rdquo; &amp;ndash; she&amp;rsquo;s &lt;Letter&gt;&lt;/p&gt;
&lt;p&gt;兩人約會共同參拜的神社奧津宮，有趣的知識：這裡跟台灣人說情侶不要一起去呂洞賓廟有異曲同工之妙，江之島也有戀人分手聖地的傳說&amp;hellip;&amp;hellip;&lt;/p&gt;
&lt;p&gt;原本想跟主角一樣坐在外面，在養樂多排陽傘下吃刨冰，但外面風挺大就先作罷，我們點了當地特產江之島丼，一開始兩人都以為是烤香菇片的親子丼，一查網路才發現是海螺切片XD&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-japan-tokyo-2024-3/20240411_img8.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;吃飽飯沿著原路返回並往鎌倉前進，抵達鎌倉後途經商店街先去八幡宮參拜，才回商店街買小鴿子餅跟鎌倉半月做伴手禮，之後一起去打卡中島健人來過的可麗餅，點了檸檬糖口味，感覺要加個生奶油會比較好吃，回程前在車站購入吻仔魚的可樂餅和炸牛肉餅分食，結果選到若冷房的車廂，被悶烤將近一個多小時，きつい😭能夠和很久沒見的人在他鄉相約，不管做啥都備感珍貴。&lt;/p&gt;
</description>
        </item>
        <item>
        <title>東京獨旅紀行之二。繁華都市</title>
        <link>https://pxchen110.github.io/p/%E6%9D%B1%E4%BA%AC%E7%8D%A8%E6%97%85%E7%B4%80%E8%A1%8C%E4%B9%8B%E4%BA%8C%E7%B9%81%E8%8F%AF%E9%83%BD%E5%B8%82/</link>
        <pubDate>Thu, 28 Mar 2024 00:00:00 +0000</pubDate>
        
        <guid>https://pxchen110.github.io/p/%E6%9D%B1%E4%BA%AC%E7%8D%A8%E6%97%85%E7%B4%80%E8%A1%8C%E4%B9%8B%E4%BA%8C%E7%B9%81%E8%8F%AF%E9%83%BD%E5%B8%82/</guid>
        <description>&lt;img src="https://pxchen110.github.io/post/travel-japan-tokyo-2024-2/20240328_img1.jpg" alt="Featured image of post 東京獨旅紀行之二。繁華都市" /&gt;&lt;p&gt;「東京這個地方，聚集著從各個地方而來的人們。從前在鄉下時，從漫畫和電視劇里看見的東京，雖然燈火繁華，但人總是很冷漠。上京後我才明白了，那並不是冷漠，而是因為身為外來者的大家都心情緊張。外來者進入東京這個城市，一個個都表現出不要被吃掉的緊張狀態，終於成了一個集合體。」 &amp;ndash; 又吉直樹&lt;/p&gt;
&lt;!-- more --&gt;
&lt;p&gt;為了節省通勤時間，從淺草搬至新宿車站、靠近新大久保的飯店，一出地鐵站感受到魚龍混雜的繁華格調，忍不住讚嘆&amp;quot;這就是東京呀!&amp;quot; 跟著一坨外國人操作自助 check in 機辦理入住，晚上特別打扮一下，前往時髦的新宿歌舞伎百貨區，Lumine est 湧入下班逛街的女子，女生看不出剛下班的疲累，反而都精心打扮並充滿幹勁的挑選衣服飾品，購買力驚人。我只簡單逛了GU和藥妝店，買一杯限定的奶油地瓜風味星冰樂就回飯店休息。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-japan-tokyo-2024-2/20240328_img2.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;第一個周末分別和兩位朋友見面，星期六在碰面前先去中目黑的星巴克甄選工坊，這家星巴克櫻花季相當熱門，可以坐在窗邊欣賞目黑川沿途盛開的櫻花。內部空間非常寬敞，販賣おしゃれ的限定飲品跟麵包，選了一杯奶油冰淇淋佐抹茶氣泡水，抹茶與氣泡感調和的相當完美，搭配現場烘烤的菠菜烘蛋可頌度過愉快上午。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-japan-tokyo-2024-2/20240328_img3.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;前往澀谷跟朋友一家吃飯，忠犬小巴的紀念碑成為碰面點，甚至需要排隊合影，諾大的交叉路口走了兩遍仍然迴避人潮苦手，中餐選擇在親子友好的樂雅樂用餐，和日劇裡家庭餐廳的印象一致，飲料自助吧、白領人員洽公打電腦，好吃的歐姆蛋炸物洋食套餐，朋友的兩位女兒很有趣，當我們吃飽到夾娃娃店後，直接開啟另一個人格變得很瘋。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-japan-tokyo-2024-2/20240328_img4.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;晚上去朝聖挽肉と米，網路宣傳效力大，店裡感覺都是台灣人來用餐XD，整體來說，我覺得什麼都不沾的原味，以及搭配白蘿蔔泥與柚子醋的味道比較好吃。生雞蛋拌飯有點接受苦手，絞肉的筋有點大塊，咬到最後微厭世XD酒足飯飽後，穿越周末狂歡的洶湧人潮，搭乘副都心線離開澀谷。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-japan-tokyo-2024-2/20240328_img5.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;(雞蛋&amp;hellip;溜下去&amp;hellip;了)&lt;/p&gt;
&lt;p&gt;東京第二周的開局即是陰雨朦朧，新聞播報地鐵延遲的新聞，已經能想像地鐵內的月曜日鬱悶與擁擠，決定先到附近sukiya吃早餐，窩在角落吃著普通的日式定食。觀察店內顧客都是男性，某些人的疲態，透漏著直接喝到早上跑來吃牛丼的訊息。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-japan-tokyo-2024-2/20240328_img6.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;惠比壽花園廣場打卡sky lounge，在天氣還沒太差的狀況下，街道房屋和東京鐵塔變得好小好密集，像是東京女子圖鑑的悸動，為理想從四面八方上京的人們，在這裡過著不同卻又平凡的生活，恍惚間感受到，東京既是個能容得下任何事物又能輕易吞噬任何人的集合體呢。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-japan-tokyo-2024-2/20240328_img7.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;下樓後雨勢稍大，在 starbucks tevanna 店品嘗季節限定的栗子焙茶星冰樂，同時想著這些地方是第一次，也可能是人生中最後一次來的感傷。生活總是直線前進，僅能偶爾回頭看看風景，如果能把現在開始過得更好，遺憾應該會減少吧。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-japan-tokyo-2024-2/20240328_img8.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;眼看雨是變小了，動身前往神樂坂參拜兩間神社，但天氣不作美，在xx坂健身行程途中甚至下起大雨，褲子一路淋濕，肚子也很餓，發現看起來馬上就能吃到東西的明代富士そば，（肚子已達極限的我）沒注意要先投錢才能操作點餐機，甚至一度懷疑機器壞掉了XD 那碗簡單的熱天婦羅蕎麥麵，成為相當美味的回憶&lt;/p&gt;
</description>
        </item>
        <item>
        <title>東京獨旅紀行之一。下町見聞錄</title>
        <link>https://pxchen110.github.io/p/%E6%9D%B1%E4%BA%AC%E7%8D%A8%E6%97%85%E7%B4%80%E8%A1%8C%E4%B9%8B%E4%B8%80%E4%B8%8B%E7%94%BA%E8%A6%8B%E8%81%9E%E9%8C%84/</link>
        <pubDate>Thu, 21 Mar 2024 00:00:00 +0000</pubDate>
        
        <guid>https://pxchen110.github.io/p/%E6%9D%B1%E4%BA%AC%E7%8D%A8%E6%97%85%E7%B4%80%E8%A1%8C%E4%B9%8B%E4%B8%80%E4%B8%8B%E7%94%BA%E8%A6%8B%E8%81%9E%E9%8C%84/</guid>
        <description>&lt;img src="https://pxchen110.github.io/post/travel-japan-tokyo-2024/20240321_img2.jpg" alt="Featured image of post 東京獨旅紀行之一。下町見聞錄" /&gt;&lt;p&gt;領到畢業證書的那一刻，便打開電腦定下一張台北-東京來回機票。第一次挑戰外國獨旅，帶著緊張的心情搭上前往羽田的班機，聽聞入境排隊很久的傳言，下飛機後快速的(好孩子不要學)穿越人潮進入入境大隊，事先登記過 Visit Japan Web ，到日本只要簡單刷個護照報關就可以，反而等待行李是花最多時間的地方。 出關後，先去機台購買儲值 welcome suica (那時晶片卡停止發售&amp;hellip;)、取事先預訂的JR車票、跳上往淺草方向的京急線特快車，直到地鐵由暗黑隧道駛入地面、看見尋常的住宅區景色，才有抵達日本的實感。心情飛揚的改編了川端康成雪國的名言：&amp;ldquo;地下鉄道の長いトンネルを抜けると東京であった&amp;rdquo;&lt;/p&gt;
&lt;!-- more --&gt;
&lt;p&gt;踏出淺草站，九年前相同的喜多方拉麵映入眼簾，熟悉又陌生的淺草雷門我回來了，到飯店的過程也比預期順利，便先去了雷門商店街溜搭一圈，很幸運的龜十不用排隊，買了銅鑼燒品嚐，而人山人海的雷門大道令人卻步，便先往旁邊小巷探索，打算趁飯店的地利之便，早起過來拍照。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-japan-tokyo-2024/20240321_img2.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;ただいま, 浅草&lt;/p&gt;
&lt;p&gt;晚上去玩淺草觀光文化中心後，順道去便利店和超市買了特別版的哈根達斯（好好吃！），以及兩個奇怪味道-鹽巴跟梅子的飯糰當作晚餐。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-japan-tokyo-2024/20240321_img3.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;小食評：其實有點吃不懂梅子味道的飯糰&lt;/p&gt;
&lt;p&gt;第二天早上睡眼惺忪的吃了早飯，先搭地鐵去神田明神，然後沿路走去上野湯島天滿宮，途經高低起伏的XX坂街道，嘗到了爬坡的辛苦滋味。將學業御守歸還至古札納所，並感謝祂在學期間的祝福，接著繼續跋涉抵達上野周遭，穿越一大片蓮花的不忍池後，終於抵達(遠的要命)上野公園（os: googlemap看著感覺輕鬆，想不到這麼遠），跑去星巴克點一杯季節限定的西瓜風味星冰樂降溫休憩，上層的西瓜味冰沙挺好喝的，如果沒有加奇異果糖漿的話會更好XD&lt;/p&gt;
&lt;p&gt;終於逛到上野西洋美術館，夏天就是要來這樣涼爽的市內行程，在這裏欣賞了不同時代的繪畫作品，從歌頌神聖的中世紀作品，流變至寫實派自畫像、印象派多方崛起的近代作品，內心感動不已；而此行最大目的是為了朝聖馬欣散文 &amp;lt;我像一隻貓，在上野睡著了&amp;gt; 裡，主角駐足許久的莫內作品 &amp;lt;睡蓮&amp;gt;，暫且從焦慮氾濫的時代逃離，在美術館的長椅上享受一方寧靜&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-japan-tokyo-2024/20240321_img4.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;莫內&amp;lt;睡蓮&amp;gt;&lt;/p&gt;
&lt;p&gt;下午吃了人生第一份敘敘苑，烤肉跟醬汁組合非常完美，終於理解為何日本綜藝都說烤肉很美味，好希望台灣也有&amp;gt;&amp;lt;分店。&lt;/p&gt;
&lt;p&gt;第三天到下町地區閒晃，前往門前仲町站的路上，遇到許多往首都圈前進的上班族，單色系襯衫配上深色西裝褲的統一服儀，帶有一股說不出來的鬱悶與壓抑，或許只有到晚上，衣衫整潔背後的靈魂才能在各處的居酒屋被釋放。先去了富岡八幡宮參拜，遇見伊能忠敬紀念雕像，最近聽podcast聊到天下明察這本漫畫，和漫畫主角澀川春海一樣都是日本地圖與丈量領域的啟蒙，據說伊能忠敬走了近4000萬步以繪製日本地理圖，這份堅毅的職人精神，我由衷感到敬佩。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-japan-tokyo-2024/20240321_img5.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;富岡八幡宮&lt;/p&gt;
&lt;p&gt;9點去深川不動堂觀摩護摩儀式(火供養儀式)，住持念誦起頭經文後點火燃燒摩坷木，火勢旺盛產生霹靂啪啦的聲響，我非常喜歡的一幕是，住持一邊念誦經文和捐款祈福芳名，另一位住持拿下堂前的木牌逐一向火堆敬拜，並使牌子前端稍微煙燻到，從牌子前端已黑化的狀態，可看出每日祈福的習慣；火勢隨著太鼓和各式樂器的加入越發旺盛，火花冉冉升起到不動明王尊前並直至堂頂，這彷彿是大家的祈福與信仰昇華的證明。查閱資料後得知，火焰燃燒至1公尺之高，據傳能夠燒盡煩惱，讓身心靈獲得清淨。&lt;/p&gt;
&lt;p&gt;我想，或許信仰不保證會被回應，但如同升起的火花，雖然微小但一定會被聽（看）見的，帶著感動的心情，參觀殿內各式神明，並潛心敬拜祈求保佑。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-japan-tokyo-2024/20240321_img6.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;非常推薦來深川不動堂參加護摩儀式，在肅敬虔誠的儀式過程，見證信仰的可貴能量，獲得滿滿感動&lt;/p&gt;
&lt;p&gt;帶著木村拓哉與二宮和也買過的松露餐包前往清澄庭院，理想中看風景野餐很豐滿，但庭院高低起伏的石頭路相當骨感，經過兩天摧殘的下大腿肌炸裂，直接被打入痛苦現實，臨時改變計畫回飯店休息。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-japan-tokyo-2024/20240321_img7.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;清澄庭園風景如畫，還遇到佳人拍婚紗，有機會一定再訪！只是夏天在戶外逛有點熱&lt;/p&gt;
&lt;p&gt;晚上去喫茶店體驗初戀主角拿手菜拿坡里麵和哈密瓜蘇打，外觀可以但味道讓人懷疑人生，甚至不清楚自己在吃啥，度過偏雷的一天。吃飽後，欣賞著淺草繁榮的夜色邊散步回家。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-japan-tokyo-2024/20240321_img8.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;見た目はいいけど：））&lt;/p&gt;
&lt;p&gt;一些後記：&lt;/p&gt;
&lt;p&gt;淺草的晝與夜&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-japan-tokyo-2024/20240321_img1.jpg&#34;  width=&#34;600&#34;&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-japan-tokyo-2024/20240321_img9.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;離開前草前拜訪三十歲魔法師取景的喫茶店，店內裝潢復古且餐點日式洋食風，點了推薦的炸蝦三明治，麵包上塗的黃芥末有被嗆到，但整體來說很好吃，蝦子炸的很香且配上高麗菜絲味道剛好，夾在酥脆的麵包裡每一口都很好吃。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-japan-tokyo-2024/20240321_img11.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;對於日本飲食店也有些疑惑的地方，像是冰水的冰塊多到不會融化光（這樣比較有被服務到的價值？），或是只提供濕紙巾而非衛生紙擦手等特點，都滿困擾又有趣的。&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Python系列： 利用 xlsxwriter 模組輕鬆製作excel</title>
        <link>https://pxchen110.github.io/p/python%E7%B3%BB%E5%88%97-%E5%88%A9%E7%94%A8-xlsxwriter-%E6%A8%A1%E7%B5%84%E8%BC%95%E9%AC%86%E8%A3%BD%E4%BD%9Cexcel/</link>
        <pubDate>Fri, 15 Mar 2024 00:00:00 +0000</pubDate>
        
        <guid>https://pxchen110.github.io/p/python%E7%B3%BB%E5%88%97-%E5%88%A9%E7%94%A8-xlsxwriter-%E6%A8%A1%E7%B5%84%E8%BC%95%E9%AC%86%E8%A3%BD%E4%BD%9Cexcel/</guid>
        <description>&lt;img src="https://pxchen110.github.io/post/python-xlsxwriter/20240315_img1.jpg" alt="Featured image of post Python系列： 利用 xlsxwriter 模組輕鬆製作excel" /&gt;&lt;p&gt;Background photo by &lt;a class=&#34;link&#34; href=&#34;https://unsplash.com/@rubaitulazad&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Rubaitul Azad&lt;/a&gt; on &lt;a class=&#34;link&#34; href=&#34;https://unsplash.com/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Unsplash&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;excel 是製作工作報表的好幫手，比起手動新增資料，若能&lt;strong&gt;用 python 自動生成 excel 檔並填入內容，可節省時間增加辦公效率&lt;/strong&gt;。今天將介紹一款可客製化生成 excel 的 python 套件 xlsxwriter，包含常用的函數功能，並以實例呈現參數的使用結果。&lt;/p&gt;
&lt;!-- more --&gt;
&lt;!-- toc --&gt;
&lt;h2 id=&#34;下載與引入套件&#34;&gt;下載與引入套件
&lt;/h2&gt;&lt;p&gt;若在 Anaconda 環境下使用python或jupytor notebook， xlsxwriter 屬於內建套件，可直截引入；若在 miniconda 等其他環境，需要 &lt;code&gt;conda / pip install&lt;/code&gt; 下載後引入&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;import xlsxwriter
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;生成-excel-文件&#34;&gt;生成 excel 文件
&lt;/h2&gt;&lt;p&gt;xlsxwriter 將&lt;strong&gt;整份 excel 檔案稱為 Workbook&lt;/strong&gt;，內部的&lt;strong&gt;工作表稱為 worksheet&lt;/strong&gt;，而每個&lt;strong&gt;格子稱為 cell&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;開啟新&lt;code&gt;.xlsx&lt;/code&gt;檔&lt;strong&gt;並注意最後要關閉工作表&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;workbook = xlsxwriter.Workbook(&amp;#39;example.xlsx&amp;#39;)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;workbook.close()
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;strong&gt;注意:如果使用 &lt;code&gt;with&lt;/code&gt; 方式開啟 可以不用加上&lt;code&gt;close()&lt;/code&gt;來關閉工作表&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;with xlsxwriter.Workbook(&amp;#39;example.xlsx&amp;#39;) as workbook:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    ...
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;worksheet-建立工作表&#34;&gt;worksheet 建立工作表
&lt;/h2&gt;&lt;p&gt;透過 &lt;code&gt;workbook.add_worksheet()&lt;/code&gt; 實體化工作表，工作表名稱可自行更改&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;worksheet = workbook.add_worksheet() # default命名為sheet1 或 工作表1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;worksheet = workbook.add_worksheet(&amp;#39;Data&amp;#39;) # 開啟名為Data的工作表
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;strong&gt;注意: xlsxWriter 支援處理的工作表邊界值為 1,048,576 rows x 16,384 columns&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&#34;輸入內容&#34;&gt;輸入內容
&lt;/h3&gt;&lt;p&gt;透過 &lt;code&gt;worksheet.wtire()&lt;/code&gt; 在指定位置寫入內容
excel 的格線就跟棋盤一樣，可以用列/欄編號，來指定棋子放置的地方，如在A1填上 &amp;lsquo;apple&amp;rsquo; 文字&lt;/p&gt;
&lt;p&gt;xlsxwriter 接受以下兩種指示方式:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;使用索引 &lt;code&gt;.write(row_index, col_index, args)&lt;/code&gt; :&lt;strong&gt;注意工作表跟 python list 一樣使用 0-index&lt;/strong&gt;，因此第一列/欄的 index = 0&lt;/li&gt;
&lt;li&gt;使用標記 &lt;code&gt;.write(&#39;row-col-notation&#39;, args)&lt;/code&gt; : 例如第一列第一欄等價於 &lt;strong&gt;A1&lt;/strong&gt;，第二列第三欄等價於 &lt;strong&gt;C2&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;實例: 當我想將資料填入第一列(row 1)的第一欄(col 1)，以下兩種寫法都會在相同位置填入字串:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;worksheet.write(0, 0, &amp;#39;hello&amp;#39;)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;worksheet.write(&amp;#39;A1&amp;#39;, &amp;#39;hello&amp;#39;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;指定輸入類型&#34;&gt;指定輸入類型
&lt;/h3&gt;&lt;p&gt;為防止輸入內容被自動轉換型別，如 &lt;code&gt;2/29&lt;/code&gt; 的字串被 excel 當成日期轉成 &lt;code&gt;2月29日&lt;/code&gt;，可以用&lt;code&gt;.write_${type}()&lt;/code&gt;函數&lt;strong&gt;指定寫入類型&lt;/strong&gt;，常用的有:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;worksheet.write_string()
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;worksheet.write_number()
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;worksheet.write_formula(&amp;#39;A1&amp;#39;, &amp;#39;=SUM(B1:B4)&amp;#39;)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;worksheet.write_boolean(0, 0, False)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;worksheet.write_blank(0, 0, None)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;worksheet.write_datetime(&amp;#39;B2&amp;#39;, date_time)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;date_time = datetime.datetime.strptime(&amp;#39;2013-01-23&amp;#39;, &amp;#39;%Y-%m-%d&amp;#39;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;整列整欄輸入-搭配迴圈&#34;&gt;整列/整欄輸入 (搭配迴圈)
&lt;/h3&gt;&lt;p&gt;當你想將list, dict 內的資料寫入同一列/欄內，可以用 &lt;code&gt;.wirte_row()&lt;/code&gt; 和 &lt;code&gt;.write_column()&lt;/code&gt; 兩函數，以下舉個例子:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# 如果想將 python list 寫入 excel A 欄位
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;input_list = [&amp;#39;a&amp;#39;, &amp;#39;b&amp;#39;, &amp;#39;c&amp;#39;, &amp;#39;d&amp;#39;]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;worksheet.write_column(&amp;#39;A1&amp;#39;, input_list)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;worksheet.write_column(0, 0, input_list)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;結果輸出如下:
&lt;img src=&#34;https://pxchen110.github.io/post/python-xlsxwriter/20240315_img2.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;worksheet-樣式設定&#34;&gt;worksheet 樣式設定
&lt;/h2&gt;&lt;h3 id=&#34;整列整欄-設定高度寬度&#34;&gt;整列/整欄 設定高度/寬度
&lt;/h3&gt;&lt;p&gt;透過 &lt;code&gt;.set_row()&lt;/code&gt; 和 &lt;code&gt;.set_column()&lt;/code&gt; 設定格子大小，常會搭配樣式設定
&lt;strong&gt;注意&lt;code&gt;.set_row()&lt;/code&gt; 以設定一列的高度為限，而&lt;code&gt;.set_column()&lt;/code&gt; 要指定範圍，如 &amp;lsquo;B:D&amp;rsquo; 或 1, 3 等&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;worksheet.set_row(1, 20)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;worksheet.set_column(&amp;#39;D:D&amp;#39;, 20)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;隨內容最適化格子大小&#34;&gt;隨內容最適化格子大小
&lt;/h3&gt;&lt;p&gt;使用&lt;code&gt;worksheet.autofit()&lt;/code&gt;，讓最長的內容寬度當作欄位寬度，減少文字遮蓋&lt;/p&gt;
&lt;h3 id=&#34;自動增加篩選&#34;&gt;自動增加篩選
&lt;/h3&gt;&lt;p&gt;透過 &lt;code&gt;worksheet.autofilter(first_row, first_col, last_row, last_col)&lt;/code&gt; 添加篩選符號，須設定作用範圍&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;worksheet.write(0, 0, &amp;#39;hello&amp;#39;)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;## 以下兩者等價
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;worksheet.autofilter(0,0,1,1)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;worksheet.autofilter(&amp;#39;A1:B2&amp;#39;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;結果如下圖所示，可以看見篩選符號(三角形)自動出現在工作表上&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://pxchen110.github.io/post/python-xlsxwriter/20240315_img3.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;固定某列欄&#34;&gt;固定某列/欄
&lt;/h3&gt;&lt;p&gt;為了增加比對方便性，透過&lt;code&gt;.freeze_panes()&lt;/code&gt; 在滑動工作表時，讓指定欄位固定不消失&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;worksheet.freeze_panes(1,1) ## 將第一列/第一欄固定不動
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;縮放比例&#34;&gt;縮放比例
&lt;/h3&gt;&lt;p&gt;&lt;code&gt;worksheet.set_zoom()&lt;/code&gt; 設定工作表開啟時，初始的縮放大小(default 100%)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;worksheet.set_zoom(150) ## 開啟大小放大為150%
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;hr&gt;
&lt;h2 id=&#34;format-客製化設定&#34;&gt;format 客製化設定
&lt;/h2&gt;&lt;p&gt;透過 &lt;code&gt;workbook.add_format()&lt;/code&gt; 增添客製化，樣式需用中括號 &lt;code&gt;{}&lt;/code&gt; 包起並以 &lt;code&gt;key: value&lt;/code&gt; 形式撰寫:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;a_format = workbook.add_format({&amp;#39;bold&amp;#39;: True, &amp;#39;font_color&amp;#39;: &amp;#39;red&amp;#39;})
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;定義客製化樣式的方式有兩種:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;變數和樣式一起定義&lt;code&gt;cell_format = workbook.add_format({&#39;font_color&#39;: &#39;red&#39;})&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;先定義變數再賦予樣式&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cell_format = workbook.add_format()
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cell_format.set_font_color(&amp;#39;red&amp;#39;)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cell_format.set_bold(True)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;樣式種類可參考&lt;a class=&#34;link&#34; href=&#34;https://xlsxwriter.readthedocs.io/format.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;官方網站&lt;/a&gt;
樣式有分六大類Font, Number, Protection, Alignment, Pattern, and Border&lt;/p&gt;
&lt;h3 id=&#34;傳入工作表&#34;&gt;傳入工作表
&lt;/h3&gt;&lt;p&gt;傳入工作表的方式有以下兩種&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;在 &lt;code&gt;worksheet.write()&lt;/code&gt; 寫入同時加上樣式&lt;/li&gt;
&lt;li&gt;用 &lt;code&gt;worksheet.set_row()&lt;/code&gt; 和 &lt;code&gt;worksheet.set_column()&lt;/code&gt; 為整列/欄加上樣式&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;實際例子:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;## 在 A1 寫入 &amp;#39;hello&amp;#39; 並設定文字顏色為紅色
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;a1_format = workbook.add_format({&amp;#39;font_color&amp;#39;: &amp;#39;red&amp;#39;})
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;worksheet.write(0, 0, &amp;#39;hello&amp;#39;, a1_format)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;## 將 B1 整行的背景顏色設為黃色，寬度調整為11
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;bcol_format = workbook.add_format({&amp;#39;bg_color&amp;#39;: &amp;#39;yellow&amp;#39;})
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;worksheet.set_column(&amp;#39;B:B&amp;#39;, 11, bcol_format)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;生成結果入下圖所示:
可以看到注意B欄的寬度調整為 11，和 default 8.43 相比(A, C, D欄) 變得較寬&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://pxchen110.github.io/post/python-xlsxwriter/20240315_img4.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;chart-生成圖表&#34;&gt;chart 生成圖表
&lt;/h2&gt;&lt;p&gt;透過 &lt;code&gt;workbook.add_chart()&lt;/code&gt; 生成圖表後，使用 &lt;code&gt;worksheet.insert_chart()&lt;/code&gt; 插入&lt;/p&gt;
&lt;p&gt;個人喜歡將資料整理好並使用R ggplot 做視覺化，所以省略 xlsxwriter 生成圖表的函數介紹&lt;/p&gt;
&lt;h2 id=&#34;參考資料&#34;&gt;參考資料
&lt;/h2&gt;&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://xlsxwriter.readthedocs.io/worksheet.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://xlsxwriter.readthedocs.io/worksheet.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://xlsxwriter.readthedocs.io/format.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://xlsxwriter.readthedocs.io/format.html&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Python系列：使用 os 成為系統操作大師</title>
        <link>https://pxchen110.github.io/p/python%E7%B3%BB%E5%88%97%E4%BD%BF%E7%94%A8-os-%E6%88%90%E7%82%BA%E7%B3%BB%E7%B5%B1%E6%93%8D%E4%BD%9C%E5%A4%A7%E5%B8%AB/</link>
        <pubDate>Thu, 07 Mar 2024 00:00:00 +0000</pubDate>
        
        <guid>https://pxchen110.github.io/p/python%E7%B3%BB%E5%88%97%E4%BD%BF%E7%94%A8-os-%E6%88%90%E7%82%BA%E7%B3%BB%E7%B5%B1%E6%93%8D%E4%BD%9C%E5%A4%A7%E5%B8%AB/</guid>
        <description>&lt;img src="https://pxchen110.github.io/post/python-os/20240307_img1.jpg" alt="Featured image of post Python系列：使用 os 成為系統操作大師" /&gt;&lt;p&gt;Background photo by &lt;a class=&#34;link&#34; href=&#34;https://unsplash.com/@artturijalli&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Artturi Jalli&lt;/a&gt; on &lt;a class=&#34;link&#34; href=&#34;https://unsplash.com/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Unsplash&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;大家在撰寫 python 是否有遇到以下問題/需求:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;目標檔案與路徑需要不停切換&lt;/li&gt;
&lt;li&gt;想自動化的遍歷目標路徑下是否有目標檔案，若檔案存在才進行後續處理&lt;/li&gt;
&lt;li&gt;在 python 環境下想跳轉至 linux 執行系統命令&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;以上這些問題都可以使用 python 強大的內建模組 &lt;strong&gt;os (operating system)&lt;/strong&gt; 來完成! 本文將介紹常用的 os 函式，&lt;strong&gt;特別是文件與路徑操作相關&lt;/strong&gt;的內容，以及其實際應用。&lt;/p&gt;
&lt;!-- more --&gt;
&lt;!-- toc --&gt;
&lt;h2 id=&#34;引入模組&#34;&gt;引入模組
&lt;/h2&gt;&lt;p&gt;os 屬於內建模組，直接引入即可使用&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;import os
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;code&gt;os&lt;/code&gt; 在路徑名稱的操作函式為 &lt;code&gt;os.path()&lt;/code&gt;，如等下會介紹的 &lt;code&gt;os.path.join()&lt;/code&gt;, &lt;code&gt;os.path.exists()&lt;/code&gt; 等，要寫完整才不會報錯&lt;/p&gt;
&lt;h2 id=&#34;目標1-操作目標路徑與檔案&#34;&gt;目標1: 操作目標路徑與檔案
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;os.getcwd()&lt;/code&gt; 取得當前路徑，等同 linux 的 &lt;code&gt;pwd&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;os.chdir(path)&lt;/code&gt; 變換預設的工作路徑，等同於 linux 的 &lt;code&gt;cd /to/path&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;在路徑的操作，除了直接打出絕對路徑，也可以使用&lt;code&gt;os.path.join()&lt;/code&gt; 來更靈活的操作路徑，下面舉一個例子:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# 假設在 /home/dirs/ 下有兩個資料夾 a, b，我想要分別以這兩資料夾為工作路徑來做事，
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# 直接設兩個變數分別存 a, b路徑，有點浪費
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;a_path = &amp;#39;/home/dirs/a&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;b_path = &amp;#39;/home/dirs/b&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# 設相同的路徑為變數，並以 os.path.join 產生a, b 的路徑
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;root_dir = &amp;#39;/home/dirs&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;os.path.join(root_dir, &amp;#39;a&amp;#39;) # 等價於 a_path
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;os.path.join(root_dir, &amp;#39;b&amp;#39;) # 等價於 b_path
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;os.path.basename(path)&lt;/code&gt; 可取出目標路徑中最底層的資料夾/檔案名稱；反之 &lt;code&gt;os.path.dirname(path)&lt;/code&gt; 可取出最&lt;strong&gt;底層以上的路徑&lt;/strong&gt;，下面舉個例子比較&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;paths = &amp;#39;/home/dirs/a/a.txt&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;print(os.path.basename(paths)) # &amp;gt;&amp;gt; a.txt
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;print(os.path.dirname(paths))  # &amp;gt;&amp;gt; /home/dirs/a
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;os.path.abspath(file_name)&lt;/code&gt; 和 &lt;code&gt;os.path.realpath(file_name)&lt;/code&gt; 都可以找出目標檔案的絕對路徑&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# 假設有一個檔案位於 /home/dirs/a/a.txt
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;file_name = &amp;#39;a.txt&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;print(os.path.abspath(file_name))
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# &amp;gt;&amp;gt; /home/dirs/a/a.txt
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;print(os.path.realpath(file_name))
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# &amp;gt;&amp;gt; /home/dirs/a/a.txt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;strong&gt;注意: 兩者的差別在於，若是 soft link 指向的目標檔案，&lt;code&gt;os.path.realpath()&lt;/code&gt; 會印出原始檔案的路徑! 請看下面例子&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# 假設目標檔案是 ln -s /home/dirs/a.txt /home/dirs/b.txt
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;print(os.path.abspath(&amp;#39;b.txt&amp;#39;))
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# &amp;gt;&amp;gt; /home/dirs/b.txt
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;print(os.path.realpath(&amp;#39;b.txt&amp;#39;))
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# &amp;gt;&amp;gt; /home/dirs/a.txt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;os.path.realpath(__file__)&lt;/code&gt; 為常見寫法，用來&lt;strong&gt;獲取當前執行 python script 的絕對路徑&lt;/strong&gt;，其中 &lt;code&gt;__file__&lt;/code&gt; 指的是目前引用的 python script&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# 假設我的 python script 名為 test.py、位於 /home/dirs 底下
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;print(os.path.realpath(__file__))
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# &amp;gt;&amp;gt; /home/dirs/test.py
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# 若只想要獲取路徑，可搭配 os.path.dirname() 來操作
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;print(os.path.dirname(os.path.realpath(__file__)))
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# &amp;gt;&amp;gt; /home/dirs
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;strong&gt;注意: 若 python script 存在的路徑與執行 script 路徑不同，執行 &lt;code&gt;os.path.realpath()&lt;/code&gt;與&lt;code&gt;os.getcwd()&lt;/code&gt; 的結果會不同!&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# 假設我的 python script 名為 test.py、位於 /home/dirs 底下
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# 現在我到 /home 路徑下執行 python script: python3 test.py
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;print(os.path.dirname(os.path.realpath(__file__)))
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# &amp;gt;&amp;gt; /home/dirs
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# print(os.getcwd())
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# &amp;gt;&amp;gt; /home
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;補充: &lt;code&gt;os.path.abspath(os.path.dirname(__file__))&lt;/code&gt; 和 &lt;code&gt;os.path.dirname(os.path.abspath(__file__))&lt;/code&gt; 順序有差嗎? &lt;a class=&#34;link&#34; href=&#34;https://github.com/dokelung/Python-QA/blob/master/questions/standard_lib/Python%20%E7%8D%B2%E5%8F%96%E6%96%87%E4%BB%B6%E8%B7%AF%E5%BE%91%E5%8F%8A%E6%96%87%E4%BB%B6%E7%9B%AE%E9%8C%84%28__file__%20%E7%9A%84%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95%29.md&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;參考網站&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;總結一下，在印出路徑這件事上，受到相對路徑、絕對路徑與鏈結等多重因素大亂鬥，請小心使用測試&lt;/p&gt;
&lt;h2 id=&#34;目標2-檢查目標路徑檔案的存在性&#34;&gt;目標2: 檢查目標路徑/檔案的存在性
&lt;/h2&gt;&lt;p&gt;如果想&lt;strong&gt;確認目標路徑是否存在&lt;/strong&gt;，&lt;code&gt;os&lt;/code&gt; 能協助確認並返回boolean值；以下列出常用的函數與使用區別:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;os.path.isdir()&lt;/code&gt; 可以確認&lt;strong&gt;資料夾路徑&lt;/strong&gt;是否存在&lt;/li&gt;
&lt;li&gt;&lt;code&gt;os.path.exists()&lt;/code&gt; 可以確認&lt;strong&gt;資料夾路徑和檔案&lt;/strong&gt;是否存在&lt;/li&gt;
&lt;li&gt;&lt;code&gt;os.path.isfile()&lt;/code&gt; 可以確認&lt;strong&gt;檔案&lt;/strong&gt;是否存在&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;舉一個實例比較:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# 假設在 /home/dirs 路徑下存在一份名為 file.txt 的檔案
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# dirs/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# └── file.txt
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;exist_path = &amp;#39;/home/dirs&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;exist_file = os.path.join(exist_path, &amp;#39;file.txt&amp;#39;)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# 確認路徑是否存在
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;os.path.isdir(exist_path)  # &amp;gt;&amp;gt; True
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;os.path.exists(exist_path) # &amp;gt;&amp;gt; True
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;os.path.isfile(exist_path) # &amp;gt;&amp;gt; False isfile 不能判斷路徑是否存在!!
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# 確認檔案是否存在
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;os.path.isdir(exist_file)  # &amp;gt;&amp;gt; False isdir 不能判斷檔案是否存在!!
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;os.path.exists(exist_file) # &amp;gt;&amp;gt; True
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;os.path.isfile(exist_file) # &amp;gt;&amp;gt; True
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;strong&gt;注意: 從上面的例子可知，即使路徑檔案都存在，&lt;code&gt;os.path.isdir() / os.path.isfile()&lt;/code&gt; 都有各自的判斷侷限，建議多使用 &lt;code&gt;os.path.exists()&lt;/code&gt; 來減少麻煩&lt;/strong&gt;，&lt;a class=&#34;link&#34; href=&#34;https://stackoverflow.com/questions/15077424/pros-and-cons-between-os-path-exists-vs-os-path-isdir&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;更多討論請參考這個網址&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;目標3-創建資料夾&#34;&gt;目標3: 創建資料夾
&lt;/h2&gt;&lt;p&gt;如果想在目標路徑中&lt;strong&gt;創建資料夾&lt;/strong&gt;，&lt;code&gt;os&lt;/code&gt; 有兩個相當於 linux &lt;code&gt;mkdir&lt;/code&gt; 的函數:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;os.mkdir()&lt;/code&gt;: &lt;strong&gt;只能創立一層(最底層)資料夾&lt;/strong&gt;，若上層資料夾不存在會報錯&lt;/li&gt;
&lt;li&gt;&lt;code&gt;os.makedirs()&lt;/code&gt;: 可以創立多層，若想忽略已創建資料夾可加上 &lt;code&gt;exist_ok=True&lt;/code&gt; (這樣就相當於linux的 &lt;code&gt;mkdir -p&lt;/code&gt; )。為了保險起見&lt;strong&gt;建議多使用&lt;code&gt;os.makedirs&lt;/code&gt;減少報錯麻煩&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;另外有點&lt;strong&gt;要注意，若路徑已經存在 os 也會報錯&lt;/strong&gt;，因此常見的寫法是先用 &lt;code&gt;os.path.exists()&lt;/code&gt; 判斷目標路徑是否存在，再來創建資料夾，下面舉一個程式實例:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# 假設我們想將 /home/dirs/folder1 設為當前的工作目錄，但又不確定 dirs/folder1 是否存在
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;work_path = &amp;#39;/home/dirs/folder1&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;if os.path.exists(work_path): # if return True
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    os.chdir(work_path)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;else:                         # if return False
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    os.makedirs(work_path)    # create dirs 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    os.chdir(work_path)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;目標4-遍歷目標路徑下的所有檔案&#34;&gt;目標4: 遍歷目標路徑下的所有檔案
&lt;/h2&gt;&lt;p&gt;如果目標路徑下包含多層子路徑與檔案，使用者不可能一層層去探訪篩選，&lt;strong&gt;模組 &lt;code&gt;os&lt;/code&gt; 提供強大的函數 &lt;code&gt;os.walk&lt;/code&gt; 協助走訪遍歷路徑下所有角落&lt;/strong&gt;，如同 linux &lt;code&gt;tree&lt;/code&gt; 一樣走訪(並印出)路徑下所有內容&lt;/p&gt;
&lt;p&gt;&lt;code&gt;os.walk&lt;/code&gt; 會輸出&lt;strong&gt;三數值為一組的tuple (dirpath, dirnames, filenames)&lt;/strong&gt;，一般會搭配&lt;strong&gt;迴圈&lt;/strong&gt;來寫，並將三個輸出分別命名為 &lt;code&gt;root&lt;/code&gt;, &lt;code&gt;dirs&lt;/code&gt;, 以及 &lt;code&gt;files&lt;/code&gt;:&lt;/p&gt;
&lt;p&gt;假設我們想走訪 &lt;code&gt;/home/dirs&lt;/code&gt; 路徑下的內容，透過 tree 已知有這些路徑/檔案&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;├── a
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;│   └── a.txt
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;├── b
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;│   └── b.txt
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;├── c
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;│   └── c.txt
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;└── file.txt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;基本的 python code:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;path = &amp;#39;/home/dirs&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;for root, dirs, files in os.walk(path):
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    ...
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;printroot&#34;&gt;print(root)
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;for root, dirs, files in os.walk(path):
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    print(roots)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;得到以下輸出，可以看到 root 會隨深入下層資料夾而改變:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/home/dirs
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/home/dirs/a
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/home/dirs/b
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/home/dirs/c
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;printdirs&#34;&gt;print(dirs)
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;for root, dirs, files in os.walk(path):
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    print(dirs)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;得到以下輸出，和 root 輸出順序相對應，可看到 dirs 列出的是&lt;strong&gt;當前 root 路徑下包含的資料夾名稱&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[&amp;#39;a&amp;#39;, &amp;#39;b&amp;#39;, &amp;#39;c&amp;#39;] # /home/dirs 下有三個資料夾
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[]              # /home/dirs/a 下沒有資料夾
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[]           
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[]
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;printfiles&#34;&gt;print(files)
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;for root, dirs, files in os.walk(path):
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    print(files)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;得到以下輸出，和 root, dirs 輸出順序相對應，可看到 files 的是&lt;strong&gt;當前 root 路徑下包含的檔案名稱&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[&amp;#39;file.txt&amp;#39;]    # /home/dirs 下有一個檔案
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[&amp;#39;a.txt&amp;#39;]       # /home/dirs/a 下有一個檔案
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[&amp;#39;b.txt&amp;#39;]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[&amp;#39;c.txt&amp;#39;]
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;因為 files 只有檔案名稱，&lt;strong&gt;常利用 &lt;code&gt;os.path.join(root, f)&lt;/code&gt; 來取得檔案的絕對路徑&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&#34;實例&#34;&gt;實例
&lt;/h3&gt;&lt;p&gt;了解基本構造後，透過實例來了解 &lt;code&gt;os.walk()&lt;/code&gt; 的可以如何使用。
假設我想取出每個樣本名稱folder中，結尾包含 &lt;code&gt;.tab.gz&lt;/code&gt; 的檔案來操作
目標路徑大致的結構如下:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/home/dirs/folders/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;├── annotation
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;│   ├── AD_sample1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;│       ├── AD_sample1.annotation.tab.gz
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;│   ├── AD_sample2
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;│       ├── AD_sample2.annotation.tab.gz
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;│   ├── AD_sample3
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;│       ├── AD_sample3.annotation.tab.gz
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;│   ├── BS_sample12
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;│       ├── BS_sample12.annotation.tab.gz
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;│   ├── BS_sample14
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;│       ├── BS_sample14.annotation.tab.gz
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;│   ├── BS_sample17
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;│       ├── BS_sample17.annotation.tab.gz
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;│   ├── BS_sample18
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;│       ├── BS_sample18.annotation.tab.gz
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;│   └── BS_sample19
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;│       ├── BS_sample19.annotation.tab.gz
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;├── csv
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;├── multiqc
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;├── logs
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;└── reports
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;python code:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;work_path = &amp;#39;/home/dirs/folders/&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;for root, dirs, files in os.walk(work_path):
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    for f in files:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        if f.endswith(&amp;#39;.tab.gz&amp;#39;):
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            file_name = os.path.join(root, f)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            with open(file_name, &amp;#39;r&amp;#39;) as fh:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                ...
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;目標5-產生symlink&#34;&gt;目標5: 產生symlink
&lt;/h2&gt;&lt;p&gt;和 linux 中的 &lt;code&gt;ln -s&lt;/code&gt; 相同，os 也可協助建立連結以節省空間使用&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;os.symlink(sourec_path, dest_path)&lt;/code&gt; 相當於 &lt;code&gt;ln -s&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;os.islink()&lt;/code&gt; 相當於用 &lt;code&gt;ls -alh&lt;/code&gt; 檢查&lt;/li&gt;
&lt;li&gt;&lt;code&gt;os.unlink()&lt;/code&gt; 相當於 &lt;code&gt;unlink&lt;/code&gt;，注意資料夾不能加 &lt;code&gt;/&lt;/code&gt; 不然移除無效&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;目標6-執行系統命令&#34;&gt;目標6: 執行系統命令
&lt;/h2&gt;&lt;p&gt;&lt;code&gt;os.system(cmd)&lt;/code&gt; 也可以在 python 環境下執行系統命令，和 &lt;code&gt;subprocess&lt;/code&gt; 模組功能相似，但較為陽春&lt;/p&gt;
&lt;h2 id=&#34;參考資料與補充&#34;&gt;參考資料與補充
&lt;/h2&gt;&lt;p&gt;python 3.4 後有新的模組 &lt;code&gt;pathlib&lt;/code&gt; (物件導向的操作) 其功能和 &lt;code&gt;os&lt;/code&gt; 相似，有興趣可以參考，由於目前 &lt;code&gt;os&lt;/code&gt; 使用上沒太大問題，就沒有特別轉換模組
&lt;a class=&#34;link&#34; href=&#34;https://docs.python.org/zh-tw/3/library/os.html#files-and-directories&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://docs.python.org/zh-tw/3/library/os.html#files-and-directories&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>尋覓陽光。追逐小鴨。高雄旅行雜記</title>
        <link>https://pxchen110.github.io/p/%E5%B0%8B%E8%A6%93%E9%99%BD%E5%85%89%E8%BF%BD%E9%80%90%E5%B0%8F%E9%B4%A8%E9%AB%98%E9%9B%84%E6%97%85%E8%A1%8C%E9%9B%9C%E8%A8%98/</link>
        <pubDate>Tue, 27 Feb 2024 00:00:00 +0000</pubDate>
        
        <guid>https://pxchen110.github.io/p/%E5%B0%8B%E8%A6%93%E9%99%BD%E5%85%89%E8%BF%BD%E9%80%90%E5%B0%8F%E9%B4%A8%E9%AB%98%E9%9B%84%E6%97%85%E8%A1%8C%E9%9B%9C%E8%A8%98/</guid>
        <description>&lt;img src="https://pxchen110.github.io/post/travel-kaohsiung/20240227_img0.jpg" alt="Featured image of post 尋覓陽光。追逐小鴨。高雄旅行雜記" /&gt;&lt;p&gt;&lt;strong&gt;一點渴望加一陣衝動，一場周末的出走就此成形。獻給2024年2月高雄黃色小鴨的旅行紀錄&lt;/strong&gt;&lt;/p&gt;
&lt;!-- more --&gt;
&lt;p&gt;一路南下雲層日漸單薄，心裡愈發期待南島的炙熱，卻忘記春天後母面，穿著單件短袖站在沒有陽光的車站月台，冷不防顫抖一下。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-kaohsiung/20240227_img1.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;果貿社區的初印象類似香港的公屋，密密麻麻的鐵窗花建築群並排成同心圓，沿圓周漫步一圈，社區阿伯阿嬤買菜散步的日常，陽光落在他們身上，一幅歲月靜好的光景。&lt;/p&gt;
&lt;p&gt;路上汽車如同俄羅斯方塊，垂直交錯的並排交叉臨停，看似無秩序下，車主總能在關鍵時刻跑出來移車，維持社區的和平。買了寬來順早點的豆漿與蛋餅，到市場旁邊的公園長椅吃早餐；其實我對中式早點沒有太多興趣，但看著揉進鄉愁後愈發膨脹的麵團，內心升起必須吃一下的想法，或許是沒有相同經歷，最終難以與之共鳴。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;從內惟車站搭火車到高雄車站，再轉捷運至文化中心踩點。&lt;/p&gt;
&lt;p&gt;作為文青，我喜歡拜訪每個城市的獨立書店，體驗不同的書店設計與選書，高雄站去了三餘書店，那裡用心規劃的文藝創生空間，看展看書喝咖啡，三種願望一次滿足。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-kaohsiung/20240227_img3.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;店主在窗上抄寫詩句、搭配午後陽光的一隅景色，怦然心動程度100%；挑一本攝影集坐下閱讀，作者擅長抓拍街上人們出糗的瞬間，搭配有趣的文字命題，會心一笑程度100%。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;鹽埕埔站下車，路上人們難掩看鴨的興奮，努力在人潮夾縫中前行，從流行音樂中心遠遠望去，鴨子躲在建築後露出微笑，太專注於此景差點因沒注意落差而摔倒。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-kaohsiung/20240227_img4.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;港邊盛況空前，大家拿著相機拍照留念，也不乏借位拍搞笑照片的身影，橋上更是人山人海，幸運得找到一個位置，吹著海風欣賞晃動的鴨屁股。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-kaohsiung/20240227_img5.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;由於飢餓感抗議，在天黑燈光秀前先行離開，突然瞥見遠方夕陽餘暉，臨時決定折返往港口奔去，如夸父追日般向前奔跑。最終沒有成功追到落日，但即使如此，不顧一切往前跑的過程還是很棒，帶著遺憾與痠痛去吃晚餐。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-kaohsiung/20240227_img6.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;晚餐是鴨肉飯，點了一飯一菜一湯，上桌被如同阿嬤怕你餓一般的份量震驚到，還好當時肚子很餓全部完食。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;第二天早上安排旗津，早餐選擇南部限定丹丹漢堡，點了（本人）定番的鮮酥雞配皮蛋瘦肉粥，以及紅茶牛奶。&lt;/p&gt;
&lt;p&gt;吃飽寄好行李準備去搭渡輪，約莫8點的鼓山路上寂靜無比，尚未甦醒的街區空無一人，有種誤闖寂靜嶺的錯覺。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-kaohsiung/20240227_img8.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;搭上渡輪，前方未知的新鮮感讓腎上腺素升高，於是深呼吸感受海風流入肺部，把注意力放在沿途的高雄港風光，遠方能見度頗差，船隻附近的海面在陽光照射下波光粼粼。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-kaohsiung/20240227_img9.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;約十分鐘抵達旗津渡船頭，海岸線往步道人煙罕至，半邊叢林半邊海岸的景色令人著迷，還有一些缺口讓人駐足拍照。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-kaohsiung/20240227_img10.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;抵達雕像折返點，礁岩的懸崖一角好似北歐風光，海浪拍打上礁岩激起浪花，盯了好久都不會到無聊。&lt;/p&gt;
&lt;p&gt;陽光正好，一切都如此剛好地契合美景的條件，而我也正好在這裡，享受此時彼刻；也許下一秒可能會更美麗，也可能衰微，但親眼所見、親身所感的事情，是永遠無法被復刻的。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-kaohsiung/20240227_img11.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;離開前再次回到這個角落，將它吃進手機記憶體內一起離開。最後還去了燈塔、吃了旗魚黑輪才回西子灣。&lt;/p&gt;
&lt;img src=&#34;https://pxchen110.github.io/post/travel-kaohsiung/20240227_img12.jpg&#34;  width=&#34;600&#34;&gt;
&lt;p&gt;高雄いいね！下次再見了！&lt;/p&gt;
</description>
        </item>
        <item>
        <title>楊德昌《 一一 》觀後感</title>
        <link>https://pxchen110.github.io/p/%E6%A5%8A%E5%BE%B7%E6%98%8C-%E4%B8%80%E4%B8%80-%E8%A7%80%E5%BE%8C%E6%84%9F/</link>
        <pubDate>Mon, 26 Feb 2024 00:00:00 +0000</pubDate>
        
        <guid>https://pxchen110.github.io/p/%E6%A5%8A%E5%BE%B7%E6%98%8C-%E4%B8%80%E4%B8%80-%E8%A7%80%E5%BE%8C%E6%84%9F/</guid>
        <description>&lt;img src="https://pxchen110.github.io/post/movie-yiyi/20240226_img0.webp" alt="Featured image of post 楊德昌《 一一 》觀後感" /&gt;&lt;p&gt;海報英文有 YIYI 和 A one and A two&amp;hellip; 的註解
&lt;img src=&#34;https://pxchen110.github.io/post/movie-yiyi/20240226_img1.jpeg&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;這是一個喜宴開頭喪禮結尾，由一家人的生活片段交疊而成的電影，時空背景設定在沒有智慧型手機的台北，也是我尚未出生的時代，所以電影裡的台北景色對我來說都很新奇: 麥當勞內用區、誠品咖啡廳、或是圓山大飯店的宴會廳，帶有微顆粒感的畫質讓電影更吸引人。&lt;/p&gt;
&lt;!-- more --&gt;
&lt;!-- toc --&gt;
&lt;h2 id=&#34;人物與課題&#34;&gt;人物與課題
&lt;/h2&gt;&lt;p&gt;電影裡的一家四口，雖然戲份佔比不一，但如導演所說，在不同年紀看，都能在某位角色身上映射出相似的課題與身影&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://pxchen110.github.io/post/movie-yiyi/20240226_img2.jpg&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;媽媽希望透過信仰的力量，讓奶奶早日醒來，但在希望來臨前、一成不變的光景讓她感到無力，對現況的失望被她歸咎於自己在都市內無法堅定信仰，於是亦然決定到山上進修。
我本身的家庭背景也有一定程度的信仰，所以能理解她想透過祈禱來安定內心的想法，但在事與願違下，我或許會選擇一邊祈禱一邊接納現實、尋求另外的方法努力（理性層面是這樣想），而非選擇逃避。&lt;/p&gt;
&lt;p&gt;爸爸在理想與現實衝突下，聽到了來自內心的反抗，並試圖逃離功成名就，面對舊情人不解當年的分手，他雲淡風輕的說出當時的感受&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;考上電機系後，我爸爸很開心，我媽媽很開心，妳也很開心，只有我不開心，我只感到悲哀&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;最後他仍為家人責任妥協於現實、成為背道而馳的自己，面對商場的唯利主義，真誠的心一次次被澆熄與欺騙。&lt;/p&gt;
&lt;p&gt;電影裡當他在日本面對不告而別的舊情人、以及同事不重視誠信的態度，頓時跌入失望的谷底，和滿心期待的啟航畫面呈現強烈對比。&lt;/p&gt;
&lt;p&gt;大女兒是和我年齡最接近的角色，而生活給予她兩件歷練使她成長：沒倒垃圾與奶奶昏迷的愧疚感，以及在友情與懞懂愛情間拉扯的灼烈罪惡感，電影裡小莉的質問使她頓時心虛細語，午夜時分無法入眠。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://pxchen110.github.io/post/movie-yiyi/20240226_img3.jpg&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;這些沒有回應的、無疾而終的經歷在她生命裡畫上幾道痕跡，最終趴在奶奶腿上、一幅歲月靜好的稀釋這些成長痛。&lt;/p&gt;
&lt;p&gt;小兒子對我來說是一個的小屁孩（誤，他帶有童真的眼光，讓本應圓滑的世俗稜角變得更為單純有創造力，像是他拿著底片相機拍著&amp;quot;別人看不見的另外一面&amp;quot;、試圖記錄吵醒人的蚊子身影，這些行為讓人不自覺露出微笑。&lt;/p&gt;
&lt;p&gt;只可惜現在的我已是接近訓導主任的心靈，面對童心未泯的事物，常帶著過於世俗的眼神去審視甚至曲解，或許我們應該喚起內心沉睡的小孩來看待事物。最後在喪禮上，導演也透過他用較為童真的眼光去解讀死亡這件事。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://pxchen110.github.io/post/movie-yiyi/20240226_img4.jpg&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;他們都說你走了，但我不明白你去哪裡，或許有一天我們還會再見面，到時你再帶我去看你去了哪裡&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;即使每個人都各自面臨生活課題與情緒，但仍踏入家門同坐一桌吃飯，聊著不著邊際試圖關心對方的話題，家人之間既疏離又接近得情感，或許也是最難能可貴的關係。&lt;/p&gt;
&lt;h2 id=&#34;印象深刻的場景一-跟奶奶說話&#34;&gt;印象深刻的場景一: 跟奶奶說話
&lt;/h2&gt;&lt;p&gt;奶奶的房間就像是告解室，讓觀眾有機會傾聽角色內心獨白的場景，因為沒有人回應，就像爸爸坦白地說道&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;其實這樣自言自語對我來說蠻難得，我這樣講你不要生氣，我覺得，好像在拜拜。除了不知道對方是不是聽得到之外，對我自己講的話是不是真心的，好像也沒什麼把握&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;那裏是角色內心世界的延伸，和與外界互動的所武裝起來的堅硬外層相比，人物更加深情、但相反也更加沈默 &amp;ldquo;即使悲傷也無人應答&amp;rdquo;
想起自己也曾躺在床上，手握護身符，多次向神訴說我的心情、祈求一個應許，以及一個不可能的回應，雖然生活物理上一成不變，但我想這股聲音中就能被聽見，並自我寬慰，比起悶在心裡會更好受一點。&lt;/p&gt;
&lt;h2 id=&#34;印象深刻的場景二台日兩地穿插的約會場景&#34;&gt;印象深刻的場景二：台日兩地穿插的約會場景
&lt;/h2&gt;&lt;p&gt;電影以交叉蒙太奇的手法，呈現兩代人在情感約會上的重疊相似性，一邊是遠在東京街頭漫步的中年男女，另一邊是在信義區初次相約的年輕男女，互相靠近的心與牽起的手，情感展開的不言而喻。&lt;/p&gt;
&lt;h2 id=&#34;印象深刻的場景三拍下別人看不見的另一面&#34;&gt;印象深刻的場景三：拍下別人看不見的另一面
&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;我們是不是只能知道一半的事情啊？我們只能看到前面，看不到後面，這樣不就有一半的事情看不到了嗎？&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;童真的眼光總能犀利點出長大成人後被遺忘的真理，我們常因片面的善惡去評判對方的言行舉止，更可能忽略人(包含自己)擁有多個面向的事實，以詼諧地拍攝物理上看不見的那面，來激發我們沉思。&lt;/p&gt;
&lt;h2 id=&#34;最後&#34;&gt;最後&amp;hellip;
&lt;/h2&gt;&lt;p&gt;這部電影雖無驚險刺激的場景，楊德昌導演透過仔細雕琢的劇本，呈現出平淡而飽滿的故事，那些虛構角色身上、以最大公約的方式交疊了世間許多課題，也成功引起廣大共鳴，不用旁白敘述而用動作台詞，就能讓我們聯想這些角色的性格與境遇，是很高明的成就。導演先前拍攝的牯嶺街少年殺人事件，也同樣在3個小時的有限框架下，以精心設計的鏡頭故事，刻畫出有血有肉的時代與角色輪廓，很容易與之共情。&lt;/p&gt;
&lt;h2 id=&#34;參考資料劇照來源&#34;&gt;參考資料（劇照來源）
&lt;/h2&gt;&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://plaza.openmuseum.tw&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://plaza.openmuseum.tw&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://blog.addmusic.tw/2019/01/17/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://blog.addmusic.tw/2019/01/17/&lt;/a&gt;金獎剪接師陳博文：「好的剪接師，要對音樂有敏/s_23ff5b50ed7c50b7235542b67cc577c5b2302e81e52c007f9219e21ecef04ef5_1546932553956_imagelab-nownews-com_/&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.ettoday.net/dalemon/post/38955&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://www.ettoday.net/dalemon/post/38955&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Python系列：subprocess模組管理子進程</title>
        <link>https://pxchen110.github.io/p/python%E7%B3%BB%E5%88%97subprocess%E6%A8%A1%E7%B5%84%E7%AE%A1%E7%90%86%E5%AD%90%E9%80%B2%E7%A8%8B/</link>
        <pubDate>Thu, 22 Feb 2024 00:00:00 +0000</pubDate>
        
        <guid>https://pxchen110.github.io/p/python%E7%B3%BB%E5%88%97subprocess%E6%A8%A1%E7%B5%84%E7%AE%A1%E7%90%86%E5%AD%90%E9%80%B2%E7%A8%8B/</guid>
        <description>&lt;img src="https://pxchen110.github.io/post/python-subprocess/20240222_img1.jpg" alt="Featured image of post Python系列：subprocess模組管理子進程" /&gt;&lt;p&gt;Background photo by &lt;a class=&#34;link&#34; href=&#34;https://unsplash.com/@artturijalli&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Artturi Jalli&lt;/a&gt; on &lt;a class=&#34;link&#34; href=&#34;https://unsplash.com/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Unsplash&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;撰寫程式專案時，常需要在父進程下創建子進程進行支線任務，例如在shell script(.sh)中，會在 linux command 的基礎下，包含 python script, R script 的執行，透過串聯輸出\輸入檔案的方式，產生目標內容。&lt;/p&gt;
&lt;p&gt;同理我們也能在以 python 做為父進程的情況下，以 subprocess 模組協助執行外部指令(子進程)、串接資料輸出\輸入的管道、並取得返回值，本文將介紹 subprocess 模組管理子進程的方法與程式碼。&lt;/p&gt;
&lt;!-- more --&gt;
&lt;!-- toc --&gt;
&lt;h2 id=&#34;part1-subprocess-套件引入&#34;&gt;Part1: subprocess 套件引入
&lt;/h2&gt;&lt;p&gt;subprocess 為 Python 內建模組，引入即可使用&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;import subprocess
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;from subprocess import PIPE, Popen
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;part2-基本函數-run-and-popen&#34;&gt;Part2: 基本函數: run() and Popen()
&lt;/h2&gt;&lt;p&gt;subprocess 啟動子進程的方式有兩種 &lt;code&gt;subprocess.run()&lt;/code&gt; 和 &lt;code&gt;subprocess.Popen&lt;/code&gt;
其中&lt;code&gt;run()&lt;/code&gt;在大部分情況下都可使用，&lt;code&gt;Popen()&lt;/code&gt; 則使用於更進階的底層操作
兩函數的基本參數都一樣，下面以 &lt;code&gt;run()&lt;/code&gt; 來做參數介紹:&lt;/p&gt;
&lt;h3 id=&#34;subprocessrun&#34;&gt;subprocess.run()
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;外部指令的參數有兩種輸入方式，但&lt;strong&gt;建議以list形式&lt;/strong&gt;輸入:
可以使用 &lt;code&gt;shlex&lt;/code&gt; 套件協助將指令 string 切分成 list
&lt;strong&gt;注意: &lt;code&gt;shell = True&lt;/code&gt; 代表允許系統調用shell執行，如同讓主機門戶大開、容易發生 shell injection 的資安風險&lt;/strong&gt;，請盡量少用&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# in linux shell
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ln -s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# in python subprocess run
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;## method1: input as list (recommend!)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;## 徒手拆分成list
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;subprocess.run([&amp;#39;ln&amp;#39;, &amp;#39;-s&amp;#39;])
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;## 用shlex協助拆分成list
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cmd_split = shlex.split(&amp;#39;ln -s&amp;#39;)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;subprocess.run(cmd_split)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;## method2: input as string, with shell = True
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;subprocess.run(&amp;#39;ln -s&amp;#39;, shell = True)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;default 情況下，&lt;code&gt;run()&lt;/code&gt; 執行無誤 (returncode = 0) 後會返回 &lt;code&gt;subprocess.CompletedProcess&lt;/code&gt; 的實例並印出結果；如果想查看返回狀況，可加上&lt;code&gt;check = True&lt;/code&gt; ， 當 returncode != 0 會抛出 &lt;code&gt;CalledProcessError&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;default 情況下，&lt;code&gt;run()&lt;/code&gt; 將結果直接印出，若想&lt;strong&gt;抓取輸出並存成變數&lt;/strong&gt;，可使用 &lt;code&gt;capture_output = True&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;default 輸出形式為 bytes，可用 &lt;code&gt;text = True&lt;/code&gt; 來更改輸出形式，透過下面例子來比較:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;a = subprocess.run([&amp;#39;pwd&amp;#39;], capture_output = True)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;print(a.stdout)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;gt; b&amp;#39;/current/working/directory\n&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;a = subprocess.run([&amp;#39;pwd&amp;#39;], capture_output = True, text = True)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;print(a.stdout)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;gt; /current/working/directory
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;subprocesspopen&#34;&gt;subprocess.Popen()
&lt;/h3&gt;&lt;p&gt;大部分的參數跟 &lt;code&gt;run()&lt;/code&gt; 相同，特別的是&lt;strong&gt;只有 &lt;code&gt;Popen()&lt;/code&gt; 可使用 &lt;code&gt;PIPE&lt;/code&gt; 在串聯子進程間的 stdout, stdin, stderr，並搭配 &lt;code&gt;communicate()&lt;/code&gt;防止死瑣&lt;/strong&gt;，詳細內容在Part3
&lt;strong&gt;注意: run()不能使用 PIPE 和 communicate()&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&#34;part3-以-pipe-串聯進程間的輸入-輸出&#34;&gt;Part3: 以 PIPE 串聯進程間的輸入\ 輸出
&lt;/h2&gt;&lt;p&gt;PIPE 觀念相當於 linux 裡的 piping &lt;code&gt;|&lt;/code&gt;，可減少中間檔案儲存的冗餘。
下面的例子利用 PIPE 將第一個子進程的輸出，當作第二個子進程的輸入&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cmd1 = subprocess.Popen([&amp;#39;pwd&amp;#39;], stdout = PIPE)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;subprocess.Popen([&amp;#39;ls&amp;#39;, &amp;#39;-alh&amp;#39;], stdin = cmd1.stdout)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;PIPE 的實用程度高，但當管道內暫存的資料量過大，會造成子進程卡住，永遠無法結束(稱作死瑣)，使用 communicate() 可即時讀取 PIPE 內容:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;e = subprocess.Popen([&amp;#39;pwd&amp;#39;], stdout = PIPE, stdin = PIPE, text = True)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;out, err = e.communicate() 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;print(out)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;另外也可將 PIPE 的輸出存進檔案，解決死瑣問題&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;f = open(&amp;#39;save_stdout.txt&amp;#39;, &amp;#39;w&amp;#39;)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;subprocess.Popen([&amp;#39;pwd&amp;#39;], stdout = f, text = True)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;part4-實例應用&#34;&gt;Part4: 實例應用
&lt;/h2&gt;&lt;h3 id=&#34;example1&#34;&gt;Example1:
&lt;/h3&gt;&lt;p&gt;我想檢查幾份log檔&lt;strong&gt;是否有回報錯誤訊息&lt;/strong&gt;，利用 &lt;code&gt;PIPE&lt;/code&gt; 加上 &lt;code&gt;communicate()&lt;/code&gt; 將子進程 grep 到的內容存進 out 變數、並判斷是否有錯誤訊息&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;import shlex
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;import subprocess
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;from subprocess import PIPE, Popen
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;logs = [&amp;#39;log.1&amp;#39;, &amp;#39;log.2&amp;#39;]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;for i in logs:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    cmd = shlex.split(&amp;#39;grep &amp;#34;terminated with an error exit status&amp;#34; {}&amp;#39;.format(i))
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    p = subprocess.Popen(cmd, stdout = PIPE, text = True)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    out,err = p.communicate()
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    if out: ## NOT NULL
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    sys.exit(&amp;#39;Error occured, please refer to {} for more detail&amp;#39;.format(i))
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;example2&#34;&gt;Example2:
&lt;/h3&gt;&lt;p&gt;現在有一份vcf原始檔，需要先以bio-tool(using Singularity)做格式轉換，再用python做資料篩選，但我&lt;strong&gt;不想產生轉換格式的中間檔&lt;/strong&gt;，於是寫了以下 python script，以原始vcf做input，先開一個子進程處理vcf，以PIPE儲存輸出，存進 pyton 變數並作後續篩選&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;import sys
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;import shlex
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;import subprocess
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;from subprocess import PIPE, Popen
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;origin_vcf = sys.argv[1]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cmds = shlex.split(&amp;#39;singularity exec vcflib_1.0.0-rc2.sif vcf2tsv {}&amp;#39;.format(origin_vcf))
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;input_vcf = subprocess.run(cmds, stdout = PIPE).stdout.decode(&amp;#39;utf-8&amp;#39;).splitlines()
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;for lines in input_vcf: #post-filtering in python
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;參考資料&#34;&gt;參考資料
&lt;/h2&gt;&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://docs.python.org/zh-tw/3/library/subprocess.html#&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://docs.python.org/zh-tw/3/library/subprocess.html#&lt;/a&gt;
&lt;a class=&#34;link&#34; href=&#34;https://www.aikaiyuan.com/4705.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://www.aikaiyuan.com/4705.html&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Python系列： 三種引入外部參數的方法</title>
        <link>https://pxchen110.github.io/p/python%E7%B3%BB%E5%88%97-%E4%B8%89%E7%A8%AE%E5%BC%95%E5%85%A5%E5%A4%96%E9%83%A8%E5%8F%83%E6%95%B8%E7%9A%84%E6%96%B9%E6%B3%95/</link>
        <pubDate>Wed, 21 Feb 2024 00:00:00 +0000</pubDate>
        
        <guid>https://pxchen110.github.io/p/python%E7%B3%BB%E5%88%97-%E4%B8%89%E7%A8%AE%E5%BC%95%E5%85%A5%E5%A4%96%E9%83%A8%E5%8F%83%E6%95%B8%E7%9A%84%E6%96%B9%E6%B3%95/</guid>
        <description>&lt;img src="https://pxchen110.github.io/post/python-argument-input/20240221_img1.jpg" alt="Featured image of post Python系列： 三種引入外部參數的方法" /&gt;&lt;p&gt;Background photo by &lt;a class=&#34;link&#34; href=&#34;https://unsplash.com/@artturijalli&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Artturi Jalli&lt;/a&gt; on &lt;a class=&#34;link&#34; href=&#34;https://unsplash.com/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Unsplash&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;撰寫python script時，變數內容若能隨使用者彈性更改，可提升程式實用性；本文介紹三種常用的引入外部參數模組: &lt;code&gt;sys&lt;/code&gt;, &lt;code&gt;argparse&lt;/code&gt;, 以及 &lt;code&gt;click&lt;/code&gt;，文章將介紹模組/套件的使用方式，撰寫相同輸出的實例，並分析優缺點以供讀者參考。&lt;/p&gt;
&lt;!-- more --&gt;
&lt;!-- toc --&gt;
&lt;h2 id=&#34;sys-模組&#34;&gt;sys 模組
&lt;/h2&gt;&lt;p&gt;&lt;code&gt;sys&lt;/code&gt; 屬於 python 內建模組，其下的 &lt;code&gt;sys.argv[index]&lt;/code&gt; 是最基本的引入方式。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;sys.argv&lt;/code&gt; 的運行方式，是把bash command line 中輸入的指令存成一個list，並引入對應index的內容名稱。&lt;/p&gt;
&lt;h3 id=&#34;index-對照說明&#34;&gt;Index 對照說明
&lt;/h3&gt;&lt;p&gt;假設撰寫名為 &lt;code&gt;test.py&lt;/code&gt; 的 script:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-gdscript3&#34; data-lang=&#34;gdscript3&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sys&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;input_var1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sys&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;argv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;sys index 0 : &amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sys&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;argv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;sys index 1 : &amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;input_var1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;在 linux bash 執行 python script :&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;python3 test.py apple
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;strong&gt;注意: &lt;code&gt;sys&lt;/code&gt; 會將 script 名稱視為 &lt;code&gt;sys.argv[0]&lt;/code&gt; 也就是index 0 不能使用&lt;/strong&gt;，而外部參數的 index 會從 &lt;strong&gt;1&lt;/strong&gt; 開始&lt;/p&gt;
&lt;p&gt;綜合上述觀念，bash 輸出:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sys index 0 : test.py
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sys index 1 : apple
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;實例&#34;&gt;實例
&lt;/h3&gt;&lt;p&gt;撰寫名為 &lt;code&gt;test.py&lt;/code&gt; 的 script:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;import sys
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;fruit = sys.argv[1]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;price = sys.argv[2]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;print(&amp;#34;The price of &amp;#34; + fruit + &amp;#34; is &amp;#34; + price)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;bash 輸入參數 &lt;code&gt;python3 test.py apple 20&lt;/code&gt; 得到&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;The price of apple is 20
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;comments&#34;&gt;Comments
&lt;/h3&gt;&lt;p&gt;sys 方式多用於測試階段，或是簡單的個人專案上，若需要&lt;strong&gt;引入多個參數，或是有協作專案的需求&lt;/strong&gt;，sys會面臨以下缺點:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;index 引入很看重順序，參數太多增加錯誤機會&lt;/li&gt;
&lt;li&gt;且無法為下一個使用者&lt;strong&gt;解釋輸入參數的內容&lt;/strong&gt;，降低推廣性&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;接下來要介紹的兩個模組，都是針對不同參數給予特定名稱，並說明參數要求，提高script的實用性。&lt;/p&gt;
&lt;h2 id=&#34;argparse-模組&#34;&gt;argparse 模組
&lt;/h2&gt;&lt;p&gt;&lt;code&gt;argparse&lt;/code&gt; 同屬於 python 內建模組，用於命令列剖析&lt;/p&gt;
&lt;h3 id=&#34;引入模組&#34;&gt;引入模組
&lt;/h3&gt;&lt;p&gt;引入模組後先創建 &lt;code&gt;ArgumentParser&lt;/code&gt; 物件以及設定參數&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;import argparse
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;parser = argparse.ArgumentParser(prog=None, usage=None, description=None, epilog=None)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;code&gt;prog&lt;/code&gt;: program 名稱，不指定寫 None，default 會帶入 python script 名稱
&lt;code&gt;usage&lt;/code&gt;: 告知使用者說應該怎麼使用 program，default 會帶入 script 名稱加上所有參數
&lt;code&gt;description&lt;/code&gt;: 一段文字說明程式功能
&lt;code&gt;epilog&lt;/code&gt;: 添加在 &lt;code&gt;--help&lt;/code&gt; 訊息後的補充文字&lt;/p&gt;
&lt;p&gt;例子:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;## 撰寫 test.py
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;import argparse
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;parser = argparse.ArgumentParser(prog = None,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;usage = None, description = &amp;#39;this is description&amp;#39;, 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;epilog = &amp;#39;this is eliog&amp;#39;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;## 在 bash 輸入 python3 test.py --help 會產生以下內容
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;usage: test.py [-h] --anno ANNO
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;this is description
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;options:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  -h, --help   show this help message and exit
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;this is eliog
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;添加參數名稱&#34;&gt;添加參數名稱
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;parser.add_argument(&amp;#34;--anno&amp;#34;, required = T, help = &amp;#34;required arguments&amp;#34;)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;parser.add_argument(&amp;#34;--input&amp;#34;, default =&amp;#34;none&amp;#34;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;code&gt;-a / --anno&lt;/code&gt; 為自定義的參數flag，以將參數引入特殊變數內
&lt;code&gt;required&lt;/code&gt; 執行script 必須要有的參數，default = False
&lt;code&gt;default&lt;/code&gt; 當使用者沒給此項參數，則引入預先設定的default值
&lt;code&gt;help&lt;/code&gt; 針對參數的說明文字，使用 &lt;code&gt;--help&lt;/code&gt; 後會顯示&lt;/p&gt;
&lt;h3 id=&#34;將參數後的內容引入變數&#34;&gt;將參數後的內容引入變數
&lt;/h3&gt;&lt;p&gt;以 &lt;code&gt;args.parameter_flag&lt;/code&gt; 的形式引入特定參數下的內容&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;args = parser.parse_args()
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;a = str(args.anno)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;實例-1&#34;&gt;實例
&lt;/h3&gt;&lt;p&gt;撰寫名為 &lt;code&gt;test.py&lt;/code&gt; 的 script:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;import argparse
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;parser = argparse.ArgumentParser(description = &amp;#34;print input friut type and their price&amp;#34;)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;parser.add_argument(&amp;#39;-f&amp;#39;, &amp;#39;--fruit&amp;#39;, required=True, help= &amp;#34;name of fruit&amp;#34;)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;parser.add_argument(&amp;#39;-p&amp;#39;, &amp;#39;--price&amp;#39;, default = 20, help = &amp;#34;price of item&amp;#34;)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;args = parser.parse_args()
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;print(&amp;#34;The price of &amp;#34; + args.fruit + &amp;#34; is &amp;#34; + args.price)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;bash 輸入 &lt;code&gt;python3 test.py --help&lt;/code&gt; 查看訊息&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;usage: test.py [-h] -f FRUIT [-p PRICE]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;print input friut type and their price
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;options:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  -h, --help               show this help message and exit
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  -f FRUIT, --fruit FRUIT  name of fruit
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  -p PRICE, --price PRICE  price of item
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;bash 輸入參數 &lt;code&gt;python3 test.py --fruit apple --price 20&lt;/code&gt; 得到&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;The price of apple is 20
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;comments-1&#34;&gt;Comments
&lt;/h3&gt;&lt;p&gt;&lt;code&gt;argparse&lt;/code&gt; 模組提升參數引入的複雜性與數量，增加在真實世界的使用機會；&lt;strong&gt;但複雜的步驟&lt;/strong&gt;轉換（建立物件 &amp;gt; add_args &amp;gt; parse_args）讓人頭昏眼花，若能有更簡單的參數設定機制，可以減低程式撰寫的難易度&lt;/p&gt;
&lt;h2 id=&#34;click-套件&#34;&gt;click 套件
&lt;/h2&gt;&lt;p&gt;click 官網以 &lt;strong&gt;creating beautiful command line interfaces&lt;/strong&gt; 形容套件的核心功能&lt;/p&gt;
&lt;p&gt;下載並引入套件後，只需利用 &lt;code&gt;@click.command&lt;/code&gt; 和 &lt;code&gt;@click_option&lt;/code&gt; 即可產生和&lt;code&gt;argparse&lt;/code&gt;等價的結果&lt;/p&gt;
&lt;h3 id=&#34;實例-2&#34;&gt;實例
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;import click
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;@click.command
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;@click.option(&amp;#39;-f&amp;#39;, &amp;#39;--fruit&amp;#39;,&amp;#39;fruit&amp;#39;, required=True, help= &amp;#34;name of fruit&amp;#34;)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;@click.option(&amp;#39;-p&amp;#39;, &amp;#39;--price&amp;#39;, &amp;#39;price&amp;#39;, default = 20, help = &amp;#34;price of item&amp;#34;)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;def main(fruit, price):
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    print(&amp;#34;The price of &amp;#34; + fruit + &amp;#34; is &amp;#34; + str(price))
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;if __name__ == &amp;#39;__main__&amp;#39;:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    main()
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;bash 輸入參數 &lt;code&gt;python3 test.py --fruit apple --price 20&lt;/code&gt;  得到相同console:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;The price of apple is 20
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;comments-2&#34;&gt;Comments
&lt;/h3&gt;&lt;p&gt;和 &lt;code&gt;argparse&lt;/code&gt; 相比 &lt;code&gt;click&lt;/code&gt; 語法更加簡潔，許多參數都相容，推薦新手可以直接使用click建立參數指令，但請注意 python 版本相容性，詳細可參考官網說明。&lt;/p&gt;
&lt;h2 id=&#34;參考資料&#34;&gt;參考資料
&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://docs.python.org/zh-tw/3/library/sys.html#sys.argv&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://docs.python.org/zh-tw/3/library/sys.html#sys.argv&lt;/a&gt;
&lt;a class=&#34;link&#34; href=&#34;https://docs.python.org/zh-tw/3/howto/argparse.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://docs.python.org/zh-tw/3/howto/argparse.html&lt;/a&gt;
&lt;a class=&#34;link&#34; href=&#34;https://click.palletsprojects.com/en/8.1.x/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://click.palletsprojects.com/en/8.1.x/&lt;/a&gt;
&lt;a class=&#34;link&#34; href=&#34;https://myapollo.com.tw/blog/python-click/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://myapollo.com.tw/blog/python-click/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
</description>
        </item>
        <item>
        <title>Python系列： smtplib 模組實現自動寄信</title>
        <link>https://pxchen110.github.io/p/python%E7%B3%BB%E5%88%97-smtplib-%E6%A8%A1%E7%B5%84%E5%AF%A6%E7%8F%BE%E8%87%AA%E5%8B%95%E5%AF%84%E4%BF%A1/</link>
        <pubDate>Thu, 15 Feb 2024 00:00:00 +0000</pubDate>
        
        <guid>https://pxchen110.github.io/p/python%E7%B3%BB%E5%88%97-smtplib-%E6%A8%A1%E7%B5%84%E5%AF%A6%E7%8F%BE%E8%87%AA%E5%8B%95%E5%AF%84%E4%BF%A1/</guid>
        <description>&lt;img src="https://pxchen110.github.io/post/python-smtplib/20240215_img1.jpg" alt="Featured image of post Python系列： smtplib 模組實現自動寄信" /&gt;&lt;p&gt;Background photo by &lt;a class=&#34;link&#34; href=&#34;https://unsplash.com/@brett_jordan&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Brett Jordan&lt;/a&gt; on &lt;a class=&#34;link&#34; href=&#34;https://unsplash.com/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Unsplash&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;在信箱收件夾，不乏看到許多&lt;strong&gt;自動寄出&lt;/strong&gt;的信件，像是來自 slurm job 通知分析狀態的信，以及訂閱內容的自動通知等。自動寄信不僅節省人力操作，也可廣發信件增加傳播效率。今天就要介紹如何用python實現自動寄信&lt;/p&gt;
&lt;!-- more --&gt;
&lt;!-- toc --&gt;
&lt;h2 id=&#34;part1-smtp協定介紹&#34;&gt;Part1: SMTP協定介紹
&lt;/h2&gt;&lt;p&gt;通訊協定，是協助資訊在不同軟硬體之間傳輸的方式，例如使用相同IP的兩台電腦，可以突破主機限制互相通訊。網際網路中，常用的通訊協定包含TCP/IP, HTTPS(TLS/SSL加密)，以及本文要使用的SMTP協定。
SMTP全名為簡易郵件傳輸通訊協定 (Simple Mail Transfer Protocol)，是透過網路在電腦與伺服器之間&lt;strong&gt;接收與傳送電子郵件&lt;/strong&gt;的通訊方式。只要知道服務廠商的smtp, port, 並提供一個寄件帳號，就可以自動\廣發信件給多名收件人。&lt;/p&gt;
&lt;p&gt;常見的廠商與smtp伺服器：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;gmail:  &lt;code&gt;smtp.gmail.com&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;outlook: &lt;code&gt;smtp-mail.outlook.com&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;常見的連接埠比較(內容節錄自&lt;a class=&#34;link&#34; href=&#34;https://www.cloudflare.com/zh-tw/learning/email-security/what-is-smtp/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;cloudflare網站&lt;/a&gt;) :&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;連接埠 25 最常用於 SMTP 伺服器之間的連線。如今，用於終端使用者網路的防火牆通常會封鎖該連接埠，因為垃圾郵件發送者嘗試濫用它來傳送大量垃圾郵件。&lt;/p&gt;
&lt;p&gt;連接埠 465 曾經專供具有安全通訊端層 (SSL) 加密的 SMTP 使用。但是 SSL 已被 Transport Layer Security (TLS) 取代，因此現代電子郵件系統不再使用該連接埠。它只存在於舊版（過時的）系統中。&lt;/p&gt;
&lt;p&gt;連接埠 587 現在是電子郵件提交的預設連接埠。透過此連接埠進行的 SMTP 通訊使用 TLS 加密。&lt;/p&gt;&lt;/blockquote&gt;
&lt;h2 id=&#34;part2-撰寫python程式&#34;&gt;Part2: 撰寫python程式
&lt;/h2&gt;&lt;p&gt;python 提供 smtplib 模組來協助 smtp 封裝信息並傳輸給目標端。由於&lt;/p&gt;
&lt;h3 id=&#34;step0-引入套件和開啟google-mail-權限&#34;&gt;step0: 引入套件和開啟google mail 權限
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;import smtplib
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;除了基本模組，常搭配擴充電子郵件標準套件，來處理內文部分&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;from email.mime.multipart import MIMEMultipart #email內容載體
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;from email.mime.text import MIMEText           #製作郵件內文
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;若要在gmail使用smtplib，需要到 &lt;a class=&#34;link&#34; href=&#34;https://myaccount.google.com/security&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;google 帳戶的安全性頁面&lt;/a&gt; 完成帳戶密碼設定(下圖紅框標示處)&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://pxchen110.github.io/post/python-smtplib/20240215_img2.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;step1-設定帳戶資訊&#34;&gt;step1: 設定帳戶資訊
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;MAIL_USER = &amp;#34;from_who_user_@gmail...&amp;#34;  #寄件者email帳號
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;MAIL_PASSWD = &amp;#34;......&amp;#34;                 #寄件者email密碼
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;FROM_ADDRESS = MAIL_USER               #和寄件者相同
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# 郵件平台的主機 port (這裡使用 gmail smtp 伺服器)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;MAIL_SMTP = &amp;#34;smtp.gmail.com&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;MAIL_PORT = 587                        #安全加密port &amp;#34;587&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;step2-撰寫郵件內容與寄件人&#34;&gt;step2: 撰寫郵件內容與寄件人
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;to_address = &amp;#34;to_who_@gmail...&amp;#34;        #收件者email帳號
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;body_content = &amp;#34;&amp;#34;                      #輸入郵件內文
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;step3-以擴充電子郵件標準來組合-email-結構&#34;&gt;step3: 以擴充電子郵件標準來組合 email 結構
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mail = MIMEMultipart()
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mail[&amp;#39;From&amp;#39;] = FROM_ADDRESS            #寄件者
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mail[&amp;#39;Subject&amp;#39;] = &amp;#34;the subject&amp;#34;        #主旨
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mail[&amp;#39;To&amp;#39;] = to_address                #收件者
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mail.attach(MIMEText(body_content))    #以attach方式貼上內文
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;step4-設定smtp伺服器並寄信&#34;&gt;step4: 設定smtp伺服器並寄信
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;smtpserver = smtplib.SMTP(MAIL_SMTP, MAIL_PORT)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# 發出「Hello」訊息，以在用戶端和伺服器之間建立SMTP連線
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;smtpserver.ehlo()   
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# TLS加密：延伸保護 SMTP 階段作業
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;smtpserver.starttls() 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# 登入寄件人郵件系統
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;smtpserver.login(MAIL_USER. MAIL_PASSWD) 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# 將step3產生的信件內容轉成string並寫入
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;smtpserver.sendmail(FROM_ADDRESS, to_address, mail.as_string()) 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# 結束系統連線
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;server.quit() 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;part3-完整script--成果展示&#34;&gt;Part3: 完整script &amp;amp; 成果展示
&lt;/h2&gt;&lt;p&gt;附上完整的 python script
&lt;strong&gt;注意: 由於使用個人主機測試，才敢將信箱帳密直接輸入在command line、由 sys 存取，若在公用主機請注意資安考量。&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;33
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;#!/usr/bin/env python3
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;import os
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;import sys
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;import smtplib
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;from email.mime.multipart import MIMEMultipart
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;from email.mime.text import MIMEText
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mail_user = sys.argv[1]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mail_passwd = sys.argv[2]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;from_address = mail_user
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mail_smtp = &amp;#34;smtp.gmail.com&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mail_port = 587
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;to_address = sys.argv[3]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;body_content = &amp;#34;&amp;#34;&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    This is the auto-send email test 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;#34;&amp;#34;&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mail = MIMEMultipart()
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mail[&amp;#39;From&amp;#39;] = mail_user
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mail[&amp;#39;To&amp;#39;] = to_address
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mail[&amp;#39;Subject&amp;#39;] = &amp;#34;Test for smtp email-sender&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mail.attach(MIMEText(body_content))
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;server = smtplib.SMTP(mail_smtp, mail_port)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;server.ehlo()
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;server.starttls()
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;server.login(mail_user, mail_passwd)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;server.sendmail(mail_user, to_address, mail.as_string())
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;server.quit()
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;到收件者的信箱查看，成功收到如下圖的信件&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://pxchen110.github.io/post/python-smtplib/20240215_img3.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;參考資料&#34;&gt;參考資料
&lt;/h2&gt;&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://aws.amazon.com/tw/what-is/smtp/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://aws.amazon.com/tw/what-is/smtp/&lt;/a&gt;
&lt;a class=&#34;link&#34; href=&#34;https://www.cloudflare.com/zh-tw/learning/email-security/what-is-smtp/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://www.cloudflare.com/zh-tw/learning/email-security/what-is-smtp/&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>HTML&#43;CSS成果展(2)：仿寫拼多多網站</title>
        <link>https://pxchen110.github.io/p/html-css%E6%88%90%E6%9E%9C%E5%B1%952%E4%BB%BF%E5%AF%AB%E6%8B%BC%E5%A4%9A%E5%A4%9A%E7%B6%B2%E7%AB%99/</link>
        <pubDate>Sun, 11 Feb 2024 00:00:00 +0000</pubDate>
        
        <guid>https://pxchen110.github.io/p/html-css%E6%88%90%E6%9E%9C%E5%B1%952%E4%BB%BF%E5%AF%AB%E6%8B%BC%E5%A4%9A%E5%A4%9A%E7%B6%B2%E7%AB%99/</guid>
        <description>&lt;img src="https://pxchen110.github.io/post/html-css-practice2/20240211_img0.png" alt="Featured image of post HTML&#43;CSS成果展(2)：仿寫拼多多網站" /&gt;&lt;p&gt;參考資料來源：udemy 課程&lt;/p&gt;
&lt;p&gt;從上次練習從零創造網頁佈局後，發現自己的技巧和美感都有待進步，決定跟著udemy課程的實作項目:搭建拼多多網站首頁，來學習真實網站有哪些常用的佈局和技巧。&lt;/p&gt;
&lt;!-- more --&gt;
&lt;p&gt;學習流程：將影片要仿寫的部份截圖-&amp;gt;自己寫看看-&amp;gt;觀看課程影片比對老師和我的作法差異-&amp;gt;改善程式-&amp;gt;完成！&lt;/p&gt;
&lt;!-- toc --&gt;
&lt;h2 id=&#34;大致的切版規劃&#34;&gt;大致的切版規劃:
&lt;/h2&gt;&lt;p&gt;&lt;img src=&#34;https://pxchen110.github.io/post/html-css-practice2/20240211_img1.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;切版成三區塊，以及一個固定於網頁左下方的qrcode，在html會分成四個&lt;code&gt;&amp;lt;div&amp;gt;&amp;lt;/div&amp;gt;&lt;/code&gt;撰寫&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;header+nav(嚴格來說只有navigation bar)&lt;/li&gt;
&lt;li&gt;body(以相同模板套用內容並垂直排列)&lt;/li&gt;
&lt;li&gt;footer(下方聯絡資訊等樣式)&lt;/li&gt;
&lt;li&gt;qrcode banner&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;headernav-section&#34;&gt;Header+nav section
&lt;/h2&gt;&lt;p&gt;切版設計:
&lt;img src=&#34;https://pxchen110.github.io/post/html-css-practice2/20240211_img2.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;html元素:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;圖片和nav文字都是 &lt;code&gt;&amp;lt;a&amp;gt;&amp;lt;/a&amp;gt;&lt;/code&gt; 元素&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;css樣式重點:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;網頁滑動仍固定於上方:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    position: fixed; /*固定在最上面*/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    top: 0; /*定位*/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    left: 0; /*定位*/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    z-index: 999; /*滑動時不會被上來的div蓋住*/
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;nav的div以flex呈現水平排列，以border作為間隔，並清除尾端div的border&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    display: flex; /*將div以flex規劃排列方式，呈現清單*/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    flex-direction: row; 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;nav 下面的小div以border作為間隔&lt;/li&gt;
&lt;li&gt;在倒數個div加上class name(.g-header-list-re)，練習以&lt;code&gt;+&lt;/code&gt;方式清除最後一個div元素的border&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    border-right: 1px solid gray; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    .g-header-list-re + div  { /*清除最後一個元素的border*/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    border-right: none;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;body-section&#34;&gt;body section
&lt;/h2&gt;&lt;p&gt;切版設計:
&lt;img src=&#34;https://pxchen110.github.io/post/html-css-practice2/20240211_img3.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;html元素:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;由於區塊模板相似，做好一個候可以重複套用添加內容&lt;/li&gt;
&lt;li&gt;一個區塊以div包覆，下面分三個小div操作&lt;/li&gt;
&lt;li&gt;最上div面用 &lt;code&gt;&amp;lt;p&amp;gt;&amp;lt;/p&amp;gt;&lt;/code&gt; 和 &lt;code&gt;&amp;lt;a&amp;gt;&amp;lt;/a&amp;gt;&lt;/code&gt; 放置文字與連結點選&lt;/li&gt;
&lt;li&gt;中間div放大圖片&lt;/li&gt;
&lt;li&gt;下方div包含三個小div，放置圖片，文字等商品資訊&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;css樣式重點:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;body整體以header做父元素定位，並做水平置中&lt;/li&gt;
&lt;li&gt;body寬度以view point為單位設定，使其可依照視窗縮放比例&lt;/li&gt;
&lt;li&gt;區塊模板以flex呈垂直排列&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    position: absolute; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    top: 40%;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    left: 50%; /*搭配margin-left: -(width/2)做水平置中*/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    overflow: hidden;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    display: flex;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    flex-direction: column;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    gap: 50px;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    margin-left: -40vw; /*寬度的一半做水平置中*/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    width: 80vw;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;區塊模版最上方的&lt;code&gt;&amp;lt;p&amp;gt;&lt;/code&gt;和&lt;code&gt;&amp;lt;a&amp;gt;&lt;/code&gt; 分別以 &lt;code&gt;float: left; float: right;&lt;/code&gt; 浮動&lt;/li&gt;
&lt;li&gt;區塊模板下方再套用flex呈水平排列&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    display: flex;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    flex-direction: row;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    gap: 10px;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;footer-section&#34;&gt;footer section
&lt;/h2&gt;&lt;p&gt;切版設計:
&lt;img src=&#34;https://pxchen110.github.io/post/html-css-practice2/20240211_img4.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;html元素:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;上方div內有兩個小div，分別放置qrcode跟聯絡資訊&lt;/li&gt;
&lt;li&gt;下方div跟header的nav清單相似，但以list寫法呈現&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;css樣式重點:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;footer整體以body做父元素定位&lt;/li&gt;
&lt;li&gt;使用預先知道得body total height作為top距離，讓footer銜接在body下方&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    position:absolute;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    top: 3000px; /*不太好得做法，以body為父元素，body height為top距離*/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    padding-top: 60px;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    width:100vw; /*可依視窗大小縮放的寬度單位*/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    height:300px;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    background-color: lightgray;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;上方div內的兩個小div以&lt;code&gt;float:left;&lt;/code&gt;做浮動
&lt;ul&gt;
&lt;li&gt;左側div以flex讓內部三個div呈水平排列，同時設定跟右側div相同的高度&lt;/li&gt;
&lt;li&gt;右側div主要調整的是p元素的間隔，高寬，以及與左側div的距離，並以border做區隔&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    /*左側div css*/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    display: flex; /*flex方式排列qrcodes*/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    flex-direction: row;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    gap: 10px; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    height: 240px; /*讓img+text總高和右側聯絡資訊一樣*/
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    /*右側div css*/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    text-align: left;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    border-left: 1px solid black;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    margin-left: 15px;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    margin-bottom: 20px;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    padding-left: 45px;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    line-height: 30px;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    font-size: 20px;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;下方div(.g-footer-list)的list以更改&lt;code&gt;display:inline-block;&lt;/code&gt;的方式呈水平排列，並保留設定元素寬度的能力&lt;/li&gt;
&lt;li&gt;練習以last-child或first-child方式移除頭尾元素的border&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    .g-footer-list ul li { /*以inline-block displayed list製作清單*/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    display: inline-block; /*可設長寬的元素*/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    border-left: 1px solid black;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    margin: 0 auto; /*給予寬度的情況下，margin auto可置中*/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    width: 100px;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    .g-footer-list li:first-child { /*remove border for the first element in the list*/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    border: none;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;qrcode-banner&#34;&gt;qrcode banner
&lt;/h2&gt;&lt;p&gt;html元素:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;div包含img和兩個小div&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;css樣式設計:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;整體定位，以網頁為父元素，固定浮動於左下方&lt;/li&gt;
&lt;li&gt;設定z-index浮動在body和footer上方&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    position: fixed; /*固定浮動在網頁左下方*/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    bottom: 50px;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    left: 100px;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    z-index: 998; /*不被body蓋住*/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    padding: 10px 30px;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    border: 1px solid gray;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    background-color: white;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;先設定圖片寬度，配合left和margin-left讓圖片水平置中於div內&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;img {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    position: relative;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    left: 50%;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    margin-left: -75px; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    width: 150px;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;成果展示&#34;&gt;成果展示
&lt;/h2&gt;&lt;p&gt;&lt;img src=&#34;https://pxchen110.github.io/post/html-css-practice2/20240211_img0.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://github.com/pxchen110/html_case/tree/main/true_web_practice1&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Github 原始碼 &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;一併附上拚&lt;a class=&#34;link&#34; href=&#34;https://m.pinduoduo.com/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;多多網站連結&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;檢討回顧&#34;&gt;檢討回顧
&lt;/h2&gt;&lt;p&gt;以上就是我得第一版網站仿寫，過程歷經許多trial and error，像是沒規劃好區塊，等寫到60%時又重新修改架構，打掉重練的狀況；也蠻常遇到加了css樣式但卻出不來的困惑。最後列出幾點我在udemy上學到的技巧，以及這一版仿寫有待改進的部分:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;navigation bar 應該也改成list製作會比較簡單，開太多div來包感覺沒意義&lt;/li&gt;
&lt;li&gt;footer出現在尾端的定位方式非robust，和body依賴性太高，萬一body新增內容豈不是要調整top數值?&lt;/li&gt;
&lt;li&gt;佔滿視窗大小並依比例調整，改用&lt;strong&gt;100%&lt;strong&gt;會比&lt;/strong&gt;100vw&lt;/strong&gt;好，原因可以參考&lt;a class=&#34;link&#34; href=&#34;https://ithelp.ithome.com.tw/articles/10251849&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;此網站的解釋&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;透過將&lt;code&gt;float: left;`` float: right;&lt;/code&gt; 設成一個class name，當有元素需要就加上這個class是有效率的方法&lt;/li&gt;
&lt;li&gt;同理可以新增清除浮動的class，有需要就加上&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; .clearfix::after { /*清除浮動
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    content: &amp;#34;&amp;#34;;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    display: block;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    clear: both;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;} 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;一開始就設定所有的a元素都移除下底線，或所有list都移除符號&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>HTML&#43;CSS成果展(1)：可愛貓咪網站</title>
        <link>https://pxchen110.github.io/p/html-css%E6%88%90%E6%9E%9C%E5%B1%951%E5%8F%AF%E6%84%9B%E8%B2%93%E5%92%AA%E7%B6%B2%E7%AB%99/</link>
        <pubDate>Thu, 08 Feb 2024 00:00:00 +0000</pubDate>
        
        <guid>https://pxchen110.github.io/p/html-css%E6%88%90%E6%9E%9C%E5%B1%951%E5%8F%AF%E6%84%9B%E8%B2%93%E5%92%AA%E7%B6%B2%E7%AB%99/</guid>
        <description>&lt;img src="https://pxchen110.github.io/post/html-css-practice1/20240208_img2.png" alt="Featured image of post HTML&#43;CSS成果展(1)：可愛貓咪網站" /&gt;&lt;p&gt;在udemy上學了html+css的知識，光看不會進步，動手做一遍才知道不熟的地方，我寫一個標題為&lt;strong&gt;要來我家看貓嗎&lt;/strong&gt;的小網頁&lt;/p&gt;
&lt;!-- more --&gt;
&lt;!-- toc --&gt;
&lt;h2 id=&#34;切版架構&#34;&gt;切版架構
&lt;/h2&gt;&lt;p&gt;&lt;img src=&#34;https://pxchen110.github.io/post/html-css-practice1/20240208_img1.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;可以分成兩大區塊:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;header section&lt;/li&gt;
&lt;li&gt;body section&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;header-section&#34;&gt;header section
&lt;/h2&gt;&lt;p&gt;html元素: 單純地用h1做大標題&lt;/p&gt;
&lt;p&gt;css樣式設計:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;整體div固定在最上方，並加上z-index讓body上滑不會蓋住它&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    position: fixed; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    z-index: 2;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    top: 0;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    border: 1px solid lightblue;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    background-color: lightblue;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    width: 100%; /*fill all broswer*/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    height: 50px;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;body-section&#34;&gt;body section
&lt;/h2&gt;&lt;p&gt;body部分以 &lt;code&gt;display:flex&lt;/code&gt; 排列，並添加 wrapper 讓每行可以依照視窗大小改變容器數量
每個容器包含img,固定寬度200px
加上一些文字描述，和尚未引入javascript的button，其中有添加cursor樣式以及hover的pseudo element
為了讓文字與圖片置中排列於容器內，以position: relative 定位，使用 &lt;code&gt;left: 50%; margin-left:-(img_width/2);&lt;/code&gt; 來置中&lt;/p&gt;
&lt;p&gt;html元素:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;區塊模板相同，每個div由上到下依序為標題div、圖檔img、文字div、以及按鈕button&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;css樣式設計:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;整體body沒有加定位樣式，因此設margin-top來預防被header遮蓋&lt;/li&gt;
&lt;li&gt;對於內部區塊模板，以flex呈現水平排列，並設定flex-wrap來允許視窗大小改變時，div能變成多行排列&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    display: flex;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    flex-direction: row;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    flex-wrap: wrap; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    align-content: flex-start;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    margin: 50px;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    margin-top: 200px; /*solving position:fixed covering problem*/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    width:auto;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;針對區塊模板，給予寬度後設定 &lt;code&gt;margin:auto&lt;/code&gt; 來均分左右空間，border調整圓弧形&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    margin: auto; /*share left space equally*/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    border: 1px solid lightblue;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    border-radius: 10%;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    width: 300px;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    height: 400px; 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;區塊內部的按鈕，加上鼠標移上去的偽元素樣式&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    .but-class-name:hover {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        background-color: lightcoral;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    } 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;成果展示&#34;&gt;成果展示
&lt;/h2&gt;&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://github.com/pxchen110/html_case/tree/main/cute_cat_html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Github 原始碼&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;從下兩張圖比對，可以看到當螢幕尺寸改變，每行可容納的div數量也會彈性調整&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://pxchen110.github.io/post/html-css-practice1/20240208_img2.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://pxchen110.github.io/post/html-css-practice1/20240208_img3.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>用Github&#43;Hexo建立個人部落格：方法與問題紀錄</title>
        <link>https://pxchen110.github.io/p/%E7%94%A8github-hexo%E5%BB%BA%E7%AB%8B%E5%80%8B%E4%BA%BA%E9%83%A8%E8%90%BD%E6%A0%BC%E6%96%B9%E6%B3%95%E8%88%87%E5%95%8F%E9%A1%8C%E7%B4%80%E9%8C%84/</link>
        <pubDate>Thu, 01 Feb 2024 00:00:00 +0000</pubDate>
        
        <guid>https://pxchen110.github.io/p/%E7%94%A8github-hexo%E5%BB%BA%E7%AB%8B%E5%80%8B%E4%BA%BA%E9%83%A8%E8%90%BD%E6%A0%BC%E6%96%B9%E6%B3%95%E8%88%87%E5%95%8F%E9%A1%8C%E7%B4%80%E9%8C%84/</guid>
        <description>&lt;img src="https://pxchen110.github.io/post/hexo-blog/20240201_img5.png" alt="Featured image of post 用Github&#43;Hexo建立個人部落格：方法與問題紀錄" /&gt;&lt;p&gt;決定撰寫個人部落格後，參考許多網友的平台推薦，最終決定選擇免付費和客製化自由度高的Github，同時練習 markdown語法, git 管理部分。本篇文章記錄我建立網站的步驟和遇到的問題，避坑避雷你我有責。&lt;/p&gt;
&lt;!-- more --&gt;
&lt;p&gt;本機環境: MacOS Sonoma&lt;/p&gt;
&lt;!-- toc --&gt;
&lt;h2 id=&#34;part1-github-創建倉庫專案&#34;&gt;Part1: Github 創建倉庫專案
&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;首先要創建&lt;a class=&#34;link&#34; href=&#34;https://github.com/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;GitHub&lt;/a&gt;帳號，Github是提供開發者存放專案、進行版本控制的好平台，大部分開源工具會將source code放在Github提供下載使用&lt;/li&gt;
&lt;li&gt;選擇 &lt;strong&gt;Create a new repository&lt;/strong&gt; 建立新專案，以 &lt;code&gt;${username}.github.io&lt;/code&gt; 來命名並以Public形式發表，初始狀態會產生一個空的reposiroty&lt;/li&gt;
&lt;li&gt;回到本機端，以 &lt;code&gt;git clone ${repository_url}&lt;/code&gt; 將專案載到本機端；完成後會在當前目錄找到和專案同名 &lt;code&gt;${username}.github.io&lt;/code&gt; 的資料夾
&lt;strong&gt;注意：由於之後我們會在這個資料夾下新增檔案，並推送回Github(git push)，過程牽涉authorization問題，可以先建立ssh-key 或 token 授權&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;part2-透過-npm-下載-nodejs-函式庫-hexo-來推送管理blog&#34;&gt;Part2: 透過 npm 下載 Node.js 函式庫 Hexo 來推送管理Blog
&lt;/h2&gt;&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;在本機端安裝npm（Node.js的套件管理系統）
&lt;ul&gt;
&lt;li&gt;不同作業系統的安裝可參考 &lt;a class=&#34;link&#34; href=&#34;https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst?source=post_page-----4d295ed96236--------------------------------&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Node.js社群文件&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;我選擇透過Macport安裝：
&lt;ul&gt;
&lt;li&gt;先下載&lt;a class=&#34;link&#34; href=&#34;https://www.macports.org/install.php&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Macport&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;安裝 &lt;a class=&#34;link&#34; href=&#34;https://ports.macports.org/port/nodejs10/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Node.js&lt;/a&gt; 和 npm&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo port install nodejs10
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo port -d selfupdate
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo port install npm
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;npm -v #測試安裝是否成功
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ol start=&#34;6&#34;&gt;
&lt;li&gt;透過 npm 安裝 Hexo 並初始化，完成後會產生名為 blog 的資料夾&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;#install hexo
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;(sudo) npm install hexo-cli -g
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# Blog initialization
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;hexo init blog
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cd blog
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ol start=&#34;7&#34;&gt;
&lt;li&gt;&lt;strong&gt;將 &lt;code&gt;blog/&lt;/code&gt; 下的所有檔案複製到剛才clone回來的github repository 資料夾下&lt;/strong&gt;，再執行npm 安裝 hexo 需要的套件&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cp -R * /path/to/${username}.github.io
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;(sudo) npm install
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ol start=&#34;8&#34;&gt;
&lt;li&gt;指令完成後將會看到以下檔案和資料夾，介紹我目前有編輯過的部分：
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;_config.yml&lt;/code&gt; 是設定網站的配置檔案&lt;/li&gt;
&lt;li&gt;&lt;code&gt;theme/&lt;/code&gt; 客製化主題存放的地方&lt;/li&gt;
&lt;li&gt;&lt;code&gt;source/_post/&lt;/code&gt; 放置發布文章(&lt;code&gt;.md&lt;/code&gt;)的地方
&lt;img src=&#34;https://pxchen110.github.io/post/hexo-blog/20240201_img1.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;part3-編輯-configuration-並推回--github&#34;&gt;Part3: 編輯 configuration 並推回  Github
&lt;/h2&gt;&lt;ol start=&#34;9&#34;&gt;
&lt;li&gt;
&lt;p&gt;設定blog相關內容，keyword 解釋可參考&lt;a class=&#34;link&#34; href=&#34;https://hexo.io/zh-tw/docs/configuration?source=post_page-----4d295ed96236--------------------------------&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;官方文件&lt;/a&gt;。我編輯過的部分包含：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;網站標題、作者、網址：
&lt;img src=&#34;https://pxchen110.github.io/post/hexo-blog/20240201_img2.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/li&gt;
&lt;li&gt;deploy 來源：&lt;strong&gt;特別注意 push branch&lt;/strong&gt;，由於 Github 目前 default branch 是 main，&lt;strong&gt;config 內要設定 push 到 main branch 才有效&lt;/strong&gt;，當時我沒注意順手設 master，直接讓文章與主題樣式分離&amp;hellip; repo 就貼上 ssh clone 的網址
&lt;img src=&#34;https://pxchen110.github.io/post/hexo-blog/20240201_img3.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;儲存檔案後，透過以下指令推送回Github：&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;hexo clean #清除靜態網頁
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;hexo generate # == hexo g 透過設定文件產生靜態網頁
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;hexo server # == hexo s 產生測試機看成果
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;hexo deployer # == hexo d 將內容部署到git上
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;strong&gt;注意: 執行 &lt;code&gt;hexo deployer&lt;/code&gt; 可能遇到以下錯誤：&lt;code&gt;Deployer not found: git&lt;/code&gt;，原因是缺少 &lt;code&gt;hexo-deployer-git&lt;/code&gt; 套件&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;透過&lt;a class=&#34;link&#34; href=&#34;https://hexo.io/zh-tw/docs/one-command-deployment.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;以下指令&lt;/a&gt;安裝：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;npm install hexo-deployer-git --save
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;都完成後可以透過以下網址看初始成果：&lt;code&gt;https://${username}.github.io&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;part4-挑選客製化主題&#34;&gt;Part4: 挑選客製化主題
&lt;/h2&gt;&lt;ol start=&#34;11&#34;&gt;
&lt;li&gt;有了地基就可以蓋房子啦(誤) 除了 github 提供的基本網站樣式，&lt;a class=&#34;link&#34; href=&#34;https://hexo.io/themes/index.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Hexo 網站有很多開源主題&lt;/a&gt; 可以下載套用，如果沒頭緒可以看&lt;a class=&#34;link&#34; href=&#34;https://github.com/Ailln/awesome-hexo-theme&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;別人推薦&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;套用主題的方法：
&lt;ul&gt;
&lt;li&gt;git clone 回名為 &lt;strong&gt;theme&lt;/strong&gt; 的資料夾內&lt;/li&gt;
&lt;li&gt;到先前編輯過的 &lt;code&gt;_config.yml&lt;/code&gt; 加上主題名稱，並依照主題的 documentation 進行操作&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;git clone ${theme_repository_url} /path/to/${username}.github.io/themes/theme_name
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;https://pxchen110.github.io/post/hexo-blog/20240201_img4.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;part5-階段成果&#34;&gt;Part5: 階段成果
&lt;/h2&gt;&lt;p&gt;我的blog 使用的是 tranquilpeak 主題，第一眼就被簡約有質感的排版吸引 (尤其是sidebar部分)，主題目前支援中文樣式及嵌入搜索引擎，但 documentation 只有英文版&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://github.com/LouisBarranqueiro/hexo-theme-tranquilpeak&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Github Link&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://louisbarranqueiro.github.io/hexo-theme-tranquilpeak/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Demo Link&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;目前做了基礎設定和更改背景，官方文件還有很多功能沒測試，持續摸索～&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://pxchen110.github.io/post/hexo-blog/20240201_img5.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;part6-新增貼文&#34;&gt;Part6: 新增貼文
&lt;/h2&gt;&lt;p&gt;當要發布文章時，需要以markdown語法撰寫，我推薦使用&lt;a class=&#34;link&#34; href=&#34;https://hackmd.io&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;hackmd&lt;/a&gt; 來協助在markdownm語法下完成文章，建立貼文的步驟如下：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;將當前目錄跳轉至&lt;code&gt;_post&lt;/code&gt;內並以下方指令產生&lt;code&gt;.md檔&lt;/code&gt;和放置圖片的同名資料夾&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;hexo new post_name 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;編輯 &lt;code&gt;.md檔&lt;/code&gt; 將hackmd上的文章複製貼上即可&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;注意：圖片顯示需要一個確認＋三個步驟，四者缺一不可&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;確認 &lt;code&gt;_config.yml&lt;/code&gt; 設定 &lt;code&gt;post_asset_folder: true&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;npm 透過以下指令安裝圖片顯示套件 &lt;code&gt;(sudo) npm install https://github.com/CodeFalling/hexo-asset-image --save&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;將圖片放在 &lt;code&gt;/_post/post_name/&lt;/code&gt; 資料夾下，例如我在資料夾下放一張名為 &lt;code&gt;img1.png&lt;/code&gt; 的圖檔&lt;/li&gt;
&lt;li&gt;若以放在上方資料夾，&lt;code&gt;.md檔&lt;/code&gt;內圖片只要打名稱即可，例如我只要打 &lt;code&gt;![](img1.png)&lt;/code&gt; 圖片就可顯示嘍！&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;最後以步驟10推送回Github就完成發文了&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;以上就是我的第一篇文章分享，歡迎一起討論！&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Archives</title>
        <link>https://pxchen110.github.io/archives/</link>
        <pubDate>Tue, 28 May 2019 00:00:00 +0000</pubDate>
        
        <guid>https://pxchen110.github.io/archives/</guid>
        <description></description>
        </item>
        <item>
        <title>About</title>
        <link>https://pxchen110.github.io/about/</link>
        <pubDate>Mon, 20 Jan 2014 00:00:00 +0000</pubDate>
        
        <guid>https://pxchen110.github.io/about/</guid>
        <description>&lt;p&gt;Hello World!&lt;/p&gt;
&lt;p&gt;我是 Xuan（瑄），很高興能在如銀河系般廣闊的網路世界遇見你/妳&lt;br&gt;
生物資訊背景，主要使用語言／系統有 Linux, Python, R, HTML, CSS, JavaScript，對機器學習和後端感興趣，並自學擴列其他程式語言 &lt;br&gt;
工作以外的閒暇的喜好有閱讀書籍、音樂追星、電影和自助旅行&lt;/p&gt;
&lt;p&gt;想寫部落格的原因～
希望能將這個網站當成是我的學習筆記倉庫，將新知識透過文字紀錄並疏理邏輯脈絡，讓內化更有效率&lt;br&gt;
學習過程中也從很多大神的blog獲得解決之道，自己也想記錄一些問題經驗與如何debug的方法，若以後有遇到類似問題可以快速避坑（避坑避雷你我有責XD）&lt;br&gt;
也希望能將我所喜愛的事物記錄下來，雖然觸及率可能像朝遠山懸崖咆哮回音甚少，但至少當下很開心就足夠了:）&lt;/p&gt;
&lt;p&gt;最後點播一首張敬軒的My Way，我的副標題亦是取自歌詞 &amp;ldquo;Baby長大以後就是小軒~&amp;quot;。希望 &amp;ldquo;用心去追，感覺就對，I will find my way~&amp;rdquo;&lt;/p&gt;
&lt;p&gt;時間軸紀錄： 2024 年初開始使用 hugo 建立 blog -&amp;gt; 2025 砍掉重練改用 hugo 建立 blog&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Links</title>
        <link>https://pxchen110.github.io/links/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://pxchen110.github.io/links/</guid>
        <description>&lt;iframe style=&#34;border-radius:12px&#34; src=&#34;https://open.spotify.com/embed/playlist/7hPXgYfEOs2QwrD4HfQhHX?utm_source=generator&#34; width=&#34;100%&#34; height=&#34;352&#34; frameBorder=&#34;0&#34; allowfullscreen=&#34;&#34; allow=&#34;autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture&#34; loading=&#34;lazy&#34;&gt;&lt;/iframe&gt;
</description>
        </item>
        <item>
        <title>Search</title>
        <link>https://pxchen110.github.io/search/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://pxchen110.github.io/search/</guid>
        <description></description>
        </item>
        
    </channel>
</rss>
